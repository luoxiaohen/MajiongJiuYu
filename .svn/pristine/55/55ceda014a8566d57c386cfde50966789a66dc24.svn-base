{"version":3,"sources":["assets\\Script\\UI\\card\\MyHandCardPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { CardGroupPointBySelfEnum, EatCardEnum, PlayEatTypeEnum, PlayStauteEnum } from \"../../enum/EnumManager\";\r\nimport EventType from \"../../event/EventType\";\r\nimport GameInfo from \"../../Game/info/GameInfo\";\r\nimport UserInfo from \"../../Game/info/UserInfo\";\r\nimport TimeAndMoveManager from \"../../mgr/TimeAndMoveManager\";\r\nimport { Msg_CS_Change3Maj, Msg_CS_DownMajMsg, Msg_SC_Change3Maj, Msg_SC_GangSelfMsg, Msg_SC_GetMajMsg, Msg_SC_HuMajMsg, Msg_SC_PengMajMsg, Msg_SC_StartChange3, Msg_SC_WaitYou, Msg_SC_You3Maj } from \"../../proto/TableMsg\";\r\nimport { Global } from \"../../Shared/GloBal\";\r\nimport Utils from \"../../Shared/Utils\";\r\nimport HuPaiTiShiTips from \"../../tips/HuPaiTiShiTips\";\r\nimport UIBase from \"../../UIBase\";\r\nimport { HuData, ListenCard, MajCardLight, MyActionByOther, PengGangData } from \"../../utils/InterfaceHelp\";\r\nimport ChangeThreeTips from \"../changeThree/ChangeThreeTips\";\r\nimport CardHelpManager from \"./CardHelpManager\";\r\nimport HandCardPanel from \"./HandCardPanel\";\r\nimport MajiongEatItem from \"./MajiongEatItem\";\r\nimport MajiongHandCard from \"./MajiongHandCard\";\r\nimport MajiongOutCard from \"./MajiongOutCard\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MyHandCardPanel extends HandCardPanel {\r\n    protected onLoad(): void {\r\n        super.onLoad();\r\n        this.addEvent();\r\n    }\r\n\r\n    /***最后一张插入*/\r\n    private isAddToLast : boolean = false;\r\n    /**胡牌提示*/\r\n    private hupaiTips:HuPaiTiShiTips;\r\n\r\n    protected start(): void {\r\n        this.initHandData();\r\n    }\r\n    private addEvent(){\r\n\t\tGlobal.EventCenter.addEventListener(EventType.GetMajMsg , this.onGetFeel , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.WaitYou , this.onWaitYou , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.ChangeThree , this.onChangeThree , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.OnChangThreeClick , this.onSelect3Majiong , this);\r\n    }\r\n    /**收到我的等待*/\r\n\tprivate onWaitYou(e , msg:Msg_SC_WaitYou){\r\n        let canHu : HuData = UserInfo.ins.getCanHu();\r\n        let actionData:MyActionByOther = new MyActionByOther();\r\n        actionData.canHu = canHu != null;\r\n        actionData.huData = canHu;\r\n        actionData.canGang = UserInfo.ins.getCanGang();\r\n        if(actionData.canGang){\r\n            actionData.gangValue = [UserInfo.ins.otherLastOutCard];\r\n        }\r\n        if(msg.type == 3){\r\n            actionData.canPeng = true;\r\n            actionData.canHu = true;\r\n        }else{\r\n            actionData.canPeng = msg.type==2;\r\n            actionData.canHu = msg.type==1;\r\n        }\r\n        actionData.canGuo = UserInfo.ins.getCanGuo();\r\n        this.showActionItem(actionData);\r\n   }\r\n   /**展示碰杠胡操作组件*/\r\n   public showActionItem(actionData:MyActionByOther){\r\n        if(UserInfo.ins.selfIsLookPlayer){\r\n            return;\r\n        }\r\n        if(actionData.canPeng || actionData.canGang || actionData.canHu){\r\n            Global.DialogManager.createDialog(\"GameIActiontem/prefab/GameIActiontem\" , actionData , (any,createDialog)=>{\r\n                createDialog.x = 393;\r\n                createDialog.y = 200;\r\n            } , this.node)\r\n        }\r\n   }\r\n    /**我摸牌*/\r\n\tprivate onGetFeel(e , msg : Msg_SC_GetMajMsg){\r\n        this.initMyHandsFeel(false);\r\n        UserInfo.ins.myLastFeelCard = msg.majID;\r\n        this.showCreateFeel(msg);\r\n\t}\r\n    private showCreateFeel(msg : Msg_SC_GetMajMsg){\r\n        this.isShowAction();\r\n        UserInfo.ins.addNewCardToMyHand(msg.majID );\r\n        UserInfo.ins.getOutTing();\r\n        this.addNewCard(msg.majID , Global.Utils.getIsDice(msg.majID , UserInfo.ins.myDiceType));\r\n        this.showCanOut();\r\n    }\r\n    private isShowAction(){\r\n        let canHu : HuData = UserInfo.ins.getSelfHu();\r\n        let canGang : Array<number> = UserInfo.ins.getSelfGang();\r\n        let canBuGang : Array<number> = UserInfo.ins.getBuGang();\r\n        let actionData:MyActionByOther = new MyActionByOther();\r\n        actionData.canHu = canHu!= null;\r\n        actionData.huData = canHu;\r\n        actionData.canGang = canGang.length > 0;\r\n        if(!actionData.canGang){\r\n            actionData.canGang = canBuGang.length > 0;\r\n        }\r\n        if(actionData.canGang && canGang.length > 0){\r\n            actionData.gangValue = canGang;\r\n        }\r\n        actionData.canPeng = false;\r\n        actionData.canGuo = UserInfo.ins.getCanGuo();\r\n        this.showActionItem(actionData);\r\n    }\r\n    /***我自己摸牌,添加一张新牌*/\r\n    private addNewCard(cardValue : number, isDice : boolean ){\r\n        let newHand : MajiongHandCard = this.getMyNewHand();\r\n        let lastHand : MajiongHandCard = this.getMyLastHand();\r\n        newHand.node.x = lastHand.node.x + lastHand.cardSize._w + this.feelCardChange[this.bySelfPoint];\r\n        newHand.node.y = 50;\r\n        newHand.cardValue = cardValue;\r\n        newHand.isDice = isDice;\r\n        newHand.isShow = true;\r\n        newHand.isFeel = true;\r\n        newHand.isSelect = false;\r\n        cc.tween(newHand.node).to(TimeAndMoveManager.ins.getWallActionTime*3 , {y : 0}).call(()=>{\r\n        }).start();\r\n        \r\n    }\r\n    /**展示当前牌是否可出*/\r\n    private showCanOut(){\r\n        if(GameInfo.ins.nowGameStatus <= PlayStauteEnum.CheckDice){\r\n            return;\r\n        }\r\n        let cardItem : MajiongHandCard;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            cardItem = this.handItemArr[i];\r\n            if(cardItem.isShow){\r\n                cardItem.showListion();\r\n            }\r\n        }\r\n    }\r\n    getMyNewHand(): MajiongHandCard {\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow == false){\r\n                return this.handItemArr[i];\r\n            }\r\n        }\r\n    }\r\n    getMyLastHand():MajiongHandCard{\r\n        let lastHand : MajiongHandCard = null;\r\n        let tempHand : MajiongHandCard ;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            tempHand = this.handItemArr[i];\r\n            if(tempHand.isShow && (tempHand.isFeel==false)){\r\n                if(lastHand == null){\r\n                    lastHand = tempHand;\r\n                }else if(tempHand.node.x > lastHand.node.x){\r\n                    lastHand = tempHand;\r\n                }\r\n            }\r\n        }\r\n        return lastHand;\r\n    }\r\n    initHandData(): void {\r\n        this.bySelfPoint = CardGroupPointBySelfEnum.Self;\r\n        let item : MajiongHandCard;\r\n        for(let i = 0 ; i < 13 ; i++){\r\n            item = cc.instantiate(this.dialogParameters[0]).getComponent(MajiongHandCard) as MajiongHandCard;\r\n            item.bySelfPoint = this.bySelfPoint;\r\n            item.node.x = i*item.cardSize._w;\r\n            item.node.y = 0;\r\n            this.handItemArr.push(item);\r\n            this.node.addChild(item.node);\r\n        }\r\n        item = cc.instantiate(this.dialogParameters[0]).getComponent(MajiongHandCard) as MajiongHandCard;\r\n        item.bySelfPoint = this.bySelfPoint;\r\n        item.node.x = 13*item.cardSize._w + this.feelCardChange[this.bySelfPoint];\r\n        item.node.y = 0;\r\n        item.isFeel = true;\r\n        this.handItemArr.push(item);\r\n        this.node.addChild(item.node);\r\n\r\n        let value :number = 0;\r\n        /**初始手牌到位后执行一次乱序*/\r\n        let cardArr:Array<number> = Global.Utils.cloneArr(UserInfo.ins.myHandCardArr)\r\n        cardArr = cardArr.sort(function(a,b){\r\n            return Math.random() - 0.5;\r\n        });\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            value = cardArr[i]\r\n            if(value){\r\n                this.handItemArr[i].cardValue = value;\r\n            }\r\n        }\r\n    }\r\n    showGetHnads(getNum: number): void {\r\n        super.showGetHnads(getNum);\r\n        let item : MajiongHandCard;\r\n        let showIndex:number=0;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            item = this.handItemArr[i];\r\n            if(!item.isShow && showIndex < getNum){\r\n                showIndex++;\r\n                item.node.y = 50;\r\n                item.isShow = true;\r\n                item.showGetAction(i + showIndex);\r\n            }\r\n        }\r\n        if(getNum < 4){\r\n            cc.tween(this.node).delay(TimeAndMoveManager.ins.getWallTime).call(()=>{\r\n                this.showGetHandOver();\r\n            }).start()\r\n        }else{\r\n        }\r\n    }\r\n    /**发牌结束,需要帮助玩家整理一次手牌*/\r\n    private showGetHandOver(){\r\n        Global.Utils.playSound(\"sound/4\");\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow){\r\n                this.handItemArr[i].showMajiongPut()\r\n            }\r\n        }\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.finishHandTime).call(()=>{\r\n            if(UserInfo.ins.selfIsLookPlayer){\r\n                let cardArr:Array<number> = new Array<number>(GameInfo.ins.nowBookMakerSit == UserInfo.ins.mySitIndex ?  14 : 13)\r\n                let addIndex:number = 0;\r\n                for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n                    if(this.handItemArr[i].isShow){\r\n                        if(addIndex < cardArr.length){\r\n                            this.handItemArr[i].showMajiongUp();\r\n                        }\r\n                        addIndex++;\r\n                    }\r\n                    this.handItemArr[i].node.on(cc.Node.EventType.TOUCH_START , this.onCardItemClick , this);\r\n                }\r\n            }else{\r\n                let cardArr:Array<number> = Global.Utils.cloneArr(UserInfo.ins.myHandCardArr)\r\n                let addIndex:number = 0;\r\n                for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n                    if(this.handItemArr[i].isShow){\r\n                         let value :number = cardArr[addIndex]\r\n                        if(value){\r\n                            this.handItemArr[i].showMajiongUp();\r\n                            this.handItemArr[i].cardValue = value;\r\n                        }\r\n                        addIndex++;\r\n                    }\r\n                    this.handItemArr[i].node.on(cc.Node.EventType.TOUCH_START , this.onCardItemClick , this);\r\n                }\r\n            }\r\n        }).start()\r\n    }\r\n    /**定缺结束**/\r\n    showDingQueed(): void {\r\n        Global.Utils.playSound(\"sound/5\");\r\n        super.showDingQueed();\r\n        UserInfo.ins.sortHandByDingQueed();\r\n        let cardArr:Array<number> = UserInfo.ins.myHandCardArr;\r\n        let value:number=0;\r\n        this.handItemArr.sort((a,b)=>a.node.x-b.node.x)\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            value = cardArr[i]\r\n            if(value && this.handItemArr[i].isShow){\r\n                this.handItemArr[i].cardValue = value;\r\n                this.handItemArr[i].isDice = Global.Utils.getIsDice(value , UserInfo.ins.myDiceType);\r\n            }\r\n        }\r\n        if(GameInfo.ins.nowBookMakerSit == UserInfo.ins.mySitIndex){\r\n            this.isShowAction();\r\n        }\r\n    }\r\n    /***手牌点击*/\r\n    private onCardItemClick(e:cc.Event){\r\n        let item :MajiongHandCard = e.currentTarget.getComponent(MajiongHandCard);\r\n        /***换三*/\r\n        if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ChangeThree){\r\n            this.onChangeThreeClick(item);\r\n            return;\r\n        }\r\n        /***常规出牌*/\r\n        if(GameInfo.ins.nowGameStatus != PlayStauteEnum.PlayCard && GameInfo.ins.nowGameStatus != PlayStauteEnum.DrawNewCard){\r\n\t\t\treturn;\r\n\t\t}\r\n        if(item.isDice == false && this.haveDiceCard()){\r\n\t\t\treturn;\r\n\t\t}\r\n        if(item.isActionOver == false){\r\n            return;\r\n        }\r\n        Global.Utils.playSound(\"sound/7\");\r\n        if(item.isSelect){\r\n            item.isShow = false;\r\n            this.showOutAction(item);\r\n            Global.Utils.debugOutput(\"我出牌之后的手牌:\"+UserInfo.ins.myHandCardArr);\r\n\t\t\tlet msg : Msg_CS_DownMajMsg = new Msg_CS_DownMajMsg();\r\n\t\t\tmsg.majID = item.cardValue;\r\n\t\t\tGlobal.mgr.socketMgr.send(-1,msg);\r\n        }else{\r\n            this.downHandCard();\r\n            item.isSelect = true;\r\n            this.showHupaiTishi(item.cardValue);\r\n        }\r\n    }\r\n    /**展示胡牌*/\r\n    showHupai(msg: Msg_SC_HuMajMsg): void {\r\n        super.showHupai(msg);\r\n    }\r\n    /**展示胡牌提示*/\r\n    private showHupaiTishi(cardValue : number){\r\n        this.closeHupaiTips();\r\n        if(UserInfo.ins.getTingByCardValue(cardValue)){\r\n            Global.DialogManager.createDialog(\"tips/HuPaiTiShiTips/prefab/HuPaiTiShiTips\" , UserInfo.ins.getTingByCardValue(cardValue) , (any,createDialog)=>{\r\n                createDialog.x = 230;\r\n                createDialog.y = 190;\r\n                this.hupaiTips = createDialog.getComponent(HuPaiTiShiTips);\r\n            } , this.node)\r\n        }\r\n    }\r\n    public closeHupaiTips(){\r\n        if(this.hupaiTips && this.hupaiTips.node && this.hupaiTips.node.parent){\r\n            this.hupaiTips.disTory();\r\n            this.hupaiTips = null;\r\n        }\r\n    }\r\n    public closeOutTing(){\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow){\r\n                this.handItemArr[i].isOutTing = false;\r\n            }\r\n        }\r\n    }\r\n    showOutCard(cardValue : number){\r\n        if(UserInfo.ins.selfIsLookPlayer){\r\n            this.createMyOutCard(cardValue);\r\n            let movePoint:cc.Vec2 = cc.v2(this.lastOutCard.node.x , this.lastOutCard.node.y);\r\n            let randomOne:number = this.handItemArr.length == 1 ? 0 : Math.floor(Math.random()*this.handItemArr.length);\r\n            let outItem : MajiongHandCard = this.handItemArr[randomOne];\r\n            outItem.isFeel = false;\r\n            outItem.isShow = false;\r\n            this.changeMoveMyHand(outItem);\r\n            this.lastOutCard.node.x = outItem.node.x;\r\n            this.lastOutCard.node.y = outItem.node.y;\r\n            cc.tween(this.lastOutCard.node).to(TimeAndMoveManager.ins.otherOutCardToGroupTime , {x : movePoint.x, y : movePoint.y }).start();\r\n        }\r\n    }\r\n    /***出牌动作*/\r\n    private showOutAction(outItem :MajiongHandCard){\r\n        this.createMyOutCard(outItem.cardValue);\r\n        let movePoint:cc.Vec2 = cc.v2(this.lastOutCard.node.x , this.lastOutCard.node.y);\r\n        this.lastOutCard.node.x = outItem.node.x;\r\n        this.lastOutCard.node.y = outItem.node.y;\r\n        cc.tween(this.lastOutCard.node).to(TimeAndMoveManager.ins.otherOutCardToGroupTime , {x : movePoint.x, y : movePoint.y }).call(()=>{\r\n            this.changeMyMoveMyHand(outItem);\r\n        }).start();\r\n    }\r\n    /****出牌之后移动手牌 */\r\n    private changeMyMoveMyHand(outItem :MajiongHandCard){\r\n        if(outItem.isFeel){\r\n            return;\r\n        }\r\n        let inCard : MajiongHandCard = this.getInputCard();\r\n        let outCardPoint : cc.Vec2 = cc.v2(outItem.node.x , 0);\r\n        let inCardPoint:cc.Vec2 = this.getInPoint(inCard,outCardPoint);\r\n        let tempItem:MajiongHandCard;\r\n        let changeX:number = 0;\r\n        if(inCardPoint.x == outCardPoint.x){\r\n            //直接移动过去插入\r\n            this.showMoveAction(inCardPoint,inCard)\r\n        }else if(inCardPoint.x < outCardPoint.x){\r\n            for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n                tempItem = this.handItemArr[i];\r\n                if(tempItem.isShow){\r\n                    if(tempItem.node.x >= inCardPoint.x && tempItem.node.x < outCardPoint.x){\r\n                        changeX = tempItem.node.x + tempItem.cardSize._w\r\n                        cc.tween(tempItem.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : changeX}).start();\r\n                    }\r\n                }\r\n            }\r\n            cc.tween(this.node).delay(TimeAndMoveManager.ins.outCardHandMoveTime + 0.1).call(()=>{\r\n                this.showMoveAction(inCardPoint,inCard)\r\n            }).start()\r\n        }else if(inCardPoint.x > outCardPoint.x){\r\n            for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n                tempItem = this.handItemArr[i];\r\n                if(tempItem.isShow){// && tempItem.isFeel==false\r\n                    if(tempItem.node.x > outCardPoint.x && tempItem.node.x <= inCardPoint.x){\r\n                        changeX = tempItem.node.x - tempItem.cardSize._w\r\n                        cc.tween(tempItem.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : changeX}).start();\r\n                    }\r\n                }\r\n            }\r\n            cc.tween(this.node).delay(TimeAndMoveManager.ins.outCardHandMoveTime+0.1).call(()=>{\r\n                this.showMoveAction(inCardPoint,inCard)\r\n            }).start()\r\n        }\r\n    }\r\n    /***摸牌插入得移动动画*/\r\n    private showMoveAction(targetPoint:cc.Vec2 , incard:MajiongHandCard){\r\n        if(this.isAddToLast || (incard.node.x - targetPoint.x == incard.cardSize._w) || (incard.node.x - targetPoint.x == incard.cardSize._w + this.feelCardChange[this.bySelfPoint])){\r\n            cc.tween(incard.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : targetPoint.x}).call(()=>{\r\n                this.initMyHandsFeel();\r\n            }).start();\r\n        }else{\r\n            let len : number = (incard.node.x - this.feelCardChange[this.bySelfPoint] - targetPoint.x)/incard.cardSize._w;\r\n            cc.tween(incard.node).to(TimeAndMoveManager.ins.addCardMoveYTime , {y : 180}).call(()=>{\r\n                cc.tween(incard.node).to(TimeAndMoveManager.ins.addCardRotationTime , {angle: 30}).call(()=>{\r\n                    cc.tween(incard.node).to(TimeAndMoveManager.ins.outCardHandMoveTime*len , {x: targetPoint.x}).call(()=>{\r\n                        cc.tween(incard.node).to(TimeAndMoveManager.ins.addCardRotationTime , {angle: 0}).call(()=>{\r\n                            cc.tween(incard.node).to(TimeAndMoveManager.ins.addCardMoveYTime , {y : 0}).call(()=>{\r\n                                this.initMyHandsFeel()\r\n                            }).start();\r\n                        }).start();\r\n                    }).start();\r\n                }).start();\r\n            }).start();\r\n        }\r\n    }\r\n    /***获取当前摸牌应该插入手牌中的那个位置*/\r\n    private getInPoint(inCard:MajiongHandCard , outPoint:cc.Vec2):cc.Vec2{\r\n        let newHand : Array<MajiongHandCard> = [];\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow){\r\n                newHand.push(this.handItemArr[i]);\r\n            }\r\n        }\r\n        let que : Array<MajiongHandCard> = [];\r\n        let hand:Array<MajiongHandCard> = [];\r\n        for(let i = 0 ; i < newHand.length ; i++){\r\n            if(Global.Utils.getIsDice(newHand[i].cardValue , UserInfo.ins.myDiceType)){\r\n                que.push(newHand[i])\r\n            }else{\r\n                hand.push(newHand[i]);\r\n            }\r\n        }\r\n        hand.sort(Global.Utils.compareValue)\r\n        que.sort(Global.Utils.compareValue)\r\n        let all : Array<MajiongHandCard> = hand.concat(que);\r\n        newHand = all;\r\n        let tempItem:MajiongHandCard;\r\n        let inPoint:cc.Vec2;\r\n        for(let i = 0 ; i < newHand.length ; i++){\r\n            tempItem = newHand[i];\r\n            if(tempItem.cardValue == inCard.cardValue && tempItem.isFeel){\r\n                if(i == 0){\r\n                    return new cc.Vec2(CardHelpManager.ins.changePointByEat , 0);\r\n                }else{\r\n                    if(outPoint){\r\n                        inPoint = new cc.Vec2(newHand[i-1].node.x , 0);\r\n                        if(inPoint.x > outPoint.x){\r\n                            return inPoint;\r\n                        }else{\r\n                            return new cc.Vec2(newHand[i-1].node.x + tempItem.cardSize._w , 0)\r\n                        }\r\n                    }else{\r\n                        return new cc.Vec2(newHand[i-1].node.x + tempItem.cardSize._w , 0)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**初始化我手牌得状态*/\r\n    private initMyHandsFeel(isSort:boolean=true){\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            this.handItemArr[i].isFeel = false;\r\n        }\r\n        if(isSort){\r\n            this.handItemArr.sort(Global.Utils.compareX)\r\n        }\r\n    }\r\n    /***获取手牌中我摸得那一张*/\r\n    private getInputCard():MajiongHandCard{\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow &&this.handItemArr[i].isFeel){\r\n                return this.handItemArr[i];\r\n            }\r\n        }\r\n    }\r\n    /**放下上一张手牌*/\r\n\tprivate downHandCard(){\r\n\t\tfor(let i = 0 ; i < this.handItemArr.length ; i++){\r\n\t\t\tthis.handItemArr[i].isSelect = false;\r\n\t\t}\r\n\t}\r\n    /**是否还有未打出的定缺牌*/\r\n    private haveDiceCard():boolean{\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n\t\t\tif(this.handItemArr[i].isShow && this.handItemArr[i].isDice){\r\n\t\t\t\treturn true;\t\t\r\n\t\t\t}\r\n\t\t}\r\n        return false;\r\n    }\r\n    private createMyOutCard(value:number = 1): void {\r\n        let item : MajiongOutCard = cc.instantiate(this.dialogParameters[1]).getComponent(MajiongOutCard);\r\n        item.bySelfPoint = this.bySelfPoint;\r\n        item.cardValue = value;\r\n        let row:number = this.getOutRow();\r\n        let baseNum:number = 0;\r\n        if(row > 0){\r\n            baseNum = this.myOutArray.length - this.getBaseNum();\r\n        }else{\r\n            baseNum = this.myOutArray.length;\r\n        }\r\n        let changeX:number = baseNum * CardHelpManager.ins.outCardWidth[0];\r\n        let changeY:number = row*70;\r\n        let initX:number = CardHelpManager.ins.myOutCardInitPoint.x - CardHelpManager.ins.myHandCardInitPoint.x;\r\n        let initY:number = CardHelpManager.ins.myOutCardInitPoint.y - CardHelpManager.ins.myHandCardInitPoint.y;\r\n        initX = initX - row*CardHelpManager.ins.outCardWidth[0];\r\n        item.node.x = initX + changeX;\r\n        item.node.y = initY - changeY;\r\n        this.onMyOutChangeData(item);\r\n        this.node.addChild(item.node);\r\n        this.lastOutCard = item;\r\n    }\r\n    /**展示碰杠*/\r\n    showPengGang(msg: Msg_SC_PengMajMsg): void {\r\n        super.showPengGang(msg);\r\n        let eatType : EatCardEnum = Global.Utils.getOutType(msg.isGang , msg.fromSiteNum , msg.pengSiteNum , this.isHaveEat(msg.isGang , msg.majID) , this.haveEatType(msg.isGang , msg.majID));\r\n        let eatDat : PengGangData = new PengGangData();\r\n        eatDat.cardValue = msg.majID;\r\n        eatDat.eatType = eatType;\r\n        eatDat.havePointBySelf = this.bySelfPoint;\r\n        if(eatType == EatCardEnum.CrossAllUp || eatType == EatCardEnum.CrossAllDown || eatType == EatCardEnum.CrossAllOpp){\r\n            UserInfo.ins.changePenggang(eatDat);\r\n\t\t\tthis.changCreateSelfEat(msg.majID,eatType,eatDat);\r\n\t\t}else{\r\n            UserInfo.ins.myPengGang.push(eatDat);\r\n\t\t\tthis.onCreateSelfEat(msg.majID , eatType,eatDat);\r\n\t\t}\r\n        this.createNewSelfFeel(msg)\r\n    }\r\n    private createNewSelfFeel(msg: Msg_SC_PengMajMsg){\r\n\r\n    }   \r\n    /**展示暗杠*/\r\n    showSelfGang(msg:Msg_SC_GangSelfMsg){\r\n        super.showSelfGang(msg);\r\n        let eatType : EatCardEnum = Global.Utils.getOutType(1 , msg.pengSiteNum , msg.pengSiteNum , this.isHaveEat(1 , msg.majID) , this.haveEatType(1 , msg.majID));\r\n        let eatDat : PengGangData = new PengGangData();\r\n        eatDat.cardValue = msg.majID;\r\n        eatDat.eatType = eatType;\r\n        eatDat.havePointBySelf = this.bySelfPoint;\r\n        if(msg.isPapo == 0){\r\n\t\t\tthis.onCreateSelfEat(msg.majID , EatCardEnum.CrossSelf , eatDat);\r\n\t\t}else{\r\n\t\t\tthis.changCreateSelfEat(msg.majID,this.haveEatType(1 , msg.majID) , eatDat);\r\n\t\t}\r\n    }\r\n    /**补杠*/\r\n    private changCreateSelfEat(card : number , eatType : EatCardEnum , eatData : PengGangData){\r\n        if(UserInfo.ins.selfIsLookPlayer){\r\n            return;\r\n        }\r\n        this.removeMyPengGang(card , eatType , eatData , (eatData)=>{\r\n            this.changeEatSelfHand(eatData);\r\n        },true)\r\n    }\r\n    /**生成碰杠*/\r\n    private onCreateSelfEat(cardValue : number , eatType : EatCardEnum , eatData : PengGangData){\r\n        if(UserInfo.ins.selfIsLookPlayer){\r\n            return;\r\n        }\r\n        this.removeMyPengGang(cardValue , eatType ,eatData, (eatData)=>{\r\n            this.changeHand(eatData);\r\n        })\r\n    }\r\n    private changeEatSelfHand(eatData : PengGangData){\r\n        let item : MajiongEatItem;\r\n        let outItem : MajiongHandCard;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].cardValue == eatData.cardValue){\r\n                outItem = this.handItemArr[i];\r\n                this.handItemArr[i].isShow = false;\r\n            }\r\n        }\r\n        for(let i = 0 ; i < this.myPenggangArr.length ; i++){\r\n            if(this.myPenggangArr[i].eatData.cardValue == eatData.cardValue){\r\n                item = this.myPenggangArr[i];\r\n                item.setNewData(eatData.eatType);\r\n            }\r\n        }\r\n        this.changeMyHandByEat(eatData);\r\n    }\r\n    private changeHand(eatData : PengGangData){\r\n        let item : MajiongEatItem;\r\n        for(let i = 0 ; i < this.myPenggangArr.length ; i++){\r\n            if(this.myPenggangArr[i].eatData.cardValue == eatData.cardValue){\r\n                item = this.myPenggangArr[i];\r\n                item.setNewData(eatData.eatType);\r\n            }\r\n        }\r\n        if(!item){\r\n            item = cc.instantiate(this.majiongEatPrefab).getComponent(MajiongEatItem)\r\n            item.eatData = eatData;\r\n            this.myPenggangArr.push(item);\r\n            item.setPoint(this.myPenggangArr.length);\r\n        }\r\n        \r\n        let changeX : number = item.size.x + item.eatSplc[eatData.havePointBySelf];\r\n        CardHelpManager.ins.changePointByEat += changeX;\r\n        this.changeMyHandByEat(eatData)\r\n        // let moveX:number=changeX;\r\n        // for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n        //     moveItem = this.handItemArr[i];\r\n        //     if(moveItem.isShow){\r\n        //         moveX = changeX + moveItem.node.x;\r\n        //         if(moveItem.isFeel && eatData.eatType >= EatCardEnum.CrossOpposite){\r\n        //             moveX -= this.feelCardChange[this.bySelfPoint];\r\n        //             moveItem.isFeel = false;\r\n        //         }\r\n        //         cc.tween(moveItem.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : moveX}).call(()=>{\r\n        //         }).start();\r\n        //     }\r\n        // }\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.outCardHandMoveTime ).call(()=>{\r\n            this.node.addChild(item.node);\r\n        }).start();\r\n    }\r\n    private changeMyHandByEat(eatData:PengGangData){\r\n        let moveItem : MajiongHandCard;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            this.handItemArr[i].isShow = false;\r\n        }\r\n        for(let i = 0 ; i < UserInfo.ins.myHandCardArr.length ; i++){\r\n            moveItem = this.handItemArr[i];\r\n            moveItem.cardValue = UserInfo.ins.myHandCardArr[i];\r\n            moveItem.isShow = true;\r\n            moveItem.node.x = CardHelpManager.ins.changePointByEat + i*moveItem.cardSize._w\r\n        }\r\n        if(eatData.eatType < EatCardEnum.CrossOpposite){\r\n            this.getSelfLastHand().node.x += this.feelCardChange[this.bySelfPoint];\r\n            this.getSelfLastHand().isFeel = true;\r\n        }\r\n    }\r\n    /**移除碰杠*/\r\n    private removeMyPengGang(card : number , type : EatCardEnum,eatData : PengGangData, fun:Function , isChange : boolean = false){\r\n        let removeNum:number = this.getRemoveNum(type);\r\n        let removeArr:Array<number> = [];\r\n        let removeX : number = 0;\r\n\t\tif(removeNum){\r\n\t\t\tfor(let i = 0 ; i < this.handItemArr.length ; i++){\r\n\t\t\t\tif(this.handItemArr[i].cardValue == card && removeArr.length < removeNum){\r\n\t\t\t\t\tthis.handItemArr[i].isShow = false;\r\n                    if(removeX == 0){\r\n                        removeX = this.handItemArr[i].node.x;\r\n                    }else{\r\n                        removeX = removeX > this.handItemArr[i].node.x ? removeX : this.handItemArr[i].node.x;\r\n                    }\r\n\t\t\t\t\tremoveArr.push(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n        for(let i = 0 ; i < removeArr.length ; i++){\r\n            UserInfo.ins.spliceCardByMyHand(this.handItemArr[removeArr[i]].cardValue);\r\n        }\r\n\r\n        this.initMyHandsFeel();\r\n        fun(eatData);\r\n    }\r\n\t// private removeMyPengGang(card : number , type : EatCardEnum,eatData : PengGangData, fun:Function , isChange : boolean = false){\r\n\t// \tlet removeNum:number = this.getRemoveNum(type);\r\n    //     let removeArr:Array<number> = [];\r\n    //     let removeX : number = 0;\r\n\t// \tif(removeNum){\r\n\t// \t\tfor(let i = 0 ; i < this.handItemArr.length ; i++){\r\n\t// \t\t\tif(this.handItemArr[i].cardValue == card && removeArr.length < removeNum){\r\n\t// \t\t\t\tthis.handItemArr[i].isShow = false;\r\n    //                 if(removeX == 0){\r\n    //                     removeX = this.handItemArr[i].node.x;\r\n    //                 }else{\r\n    //                     removeX = removeX > this.handItemArr[i].node.x ? removeX : this.handItemArr[i].node.x;\r\n    //                 }\r\n\t// \t\t\t\tremoveArr.push(i);\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}\r\n    //     for(let i = 0 ; i < removeArr.length ; i++){\r\n    //         UserInfo.ins.spliceCardByMyHand(this.handItemArr[removeArr[i]].cardValue);\r\n    //     }\r\n    //     if(isChange){\r\n    //         let changeItem : MajiongHandCard;\r\n    //         for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n    //             if(this.handItemArr[i].isShow && this.handItemArr[i].cardValue == card){\r\n    //                 changeItem = this.handItemArr[i];\r\n    //             }\r\n    //         }\r\n    //         UserInfo.ins.spliceCardByMyHand(changeItem.cardValue);\r\n    //         changeItem.isFeel = false;\r\n    //         changeItem.isShow = false;\r\n    //         if(!changeItem.isFeel){\r\n    //             let item : MajiongHandCard;\r\n    //             let changeX:number = 0;\r\n    //             for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n    //                 item = this.handItemArr[i];\r\n    //                 if(item.isShow && item.node.x > changeItem.node.x){\r\n    //                     changeX = item.node.x - item.cardSize._w;\r\n    //                     if(item.isFeel){\r\n    //                         changeX -= this.feelCardChange[this.bySelfPoint];\r\n    //                     }\r\n    //                     cc.tween(item.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : changeX}).call(()=>{\r\n    //                         fun(eatData);\r\n    //                     }).start();\r\n    //                 }\r\n    //             }\r\n    //         }else{\r\n    //             fun(eatData);\r\n    //         }\r\n    //     }else{\r\n    //         let item : MajiongHandCard;\r\n    //         let changeX : number = 0;\r\n    //         if(type != EatCardEnum.CrossSelf){\r\n    //             for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n    //                 item = this.handItemArr[i];\r\n    //                 if(item.isShow && item.node.x > removeX){\r\n    //                     changeX = item.node.x - removeArr.length*item.cardSize._w;\r\n    //                     cc.tween(item.node).to(TimeAndMoveManager.ins.outCardHandMoveTime*removeArr.length , {x : changeX}).start();\r\n    //                 }\r\n    //             }\r\n    //         }else{\r\n    //             let inCard = this.getInputCard()\r\n    //             let inCardPoint:cc.Vec2 = this.getInPoint(inCard , null);\r\n    //             for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n    //                 item = this.handItemArr[i];\r\n    //                 if(item.isShow && item.node.x >= inCardPoint.x && item.isFeel==false){\r\n    //                     changeX = item.node.x + item.cardSize._w;\r\n    //                     cc.tween(item.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : changeX}).start();\r\n    //                 }\r\n    //             }\r\n    //             cc.tween(inCard.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : inCardPoint.x}).start();\r\n    //             this.initMyHandsFeel();\r\n    //             cc.tween(this.node).delay(TimeAndMoveManager.ins.outCardHandMoveTime+0.2).call(()=>{\r\n    //                 for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n    //                     item = this.handItemArr[i];\r\n    //                     if(item.isShow && item.node.x > removeX){\r\n    //                         changeX = item.node.x - removeArr.length*item.cardSize._w;\r\n    //                         cc.tween(item.node).to(TimeAndMoveManager.ins.outCardHandMoveTime , {x : changeX}).start();\r\n    //                     }\r\n    //                 }\r\n    //             }).start();\r\n    //         }\r\n    //         let time:number = type != EatCardEnum.CrossSelf ? TimeAndMoveManager.ins.outCardHandMoveTime : TimeAndMoveManager.ins.outCardHandMoveTime + 0.3\r\n    //         cc.tween(this.node).delay(time).call(()=>{\r\n    //             let item:MajiongHandCard = this.getSelfLastHand();\r\n    //             if(type < EatCardEnum.CrossOpposite ){\r\n    //                 item.isFeel = true;\r\n    //                 let changeX : number = item.node.x + this.feelCardChange[this.bySelfPoint];\r\n    //                 cc.tween(item.node).to(TimeAndMoveManager.ins.addCardMoveYTime , {x : changeX}).call(()=>{\r\n    //                     fun(eatData);\r\n    //                 }).start();\r\n    //             }else{\r\n    //                 fun(eatData);\r\n    //             }\r\n    //         }).start();\r\n    //     }\r\n\t// }\r\n    public getSelfLastHand():MajiongHandCard{\r\n        let lastX:number = 0;\r\n        let lastItem : MajiongHandCard;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow && this.handItemArr[i].node.x > lastX){\r\n                lastX = this.handItemArr[i].node.x;\r\n                lastItem = this.handItemArr[i];\r\n            }\r\n        }\r\n        return lastItem;\r\n    }\r\n\r\n//--------------------------------------------------------------换三----------------------------------------------------------------\r\n\r\n    private changeThreeTips : ChangeThreeTips;\r\n    private changeThreeCard : Array<MajiongHandCard>=[];\r\n\tprivate changeCardArr:Array<number> = [];\r\n    /**服务器通知换三张*/\r\n    private onChangeThree(e, msg:Msg_SC_StartChange3){\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.finishHandTime + TimeAndMoveManager.ins.getWallTime).call(()=>{\r\n            if(this.changeThreeTips){\r\n                this.changeThreeTips.disTory();\r\n            }\r\n            this.changeThreeTips = cc.instantiate(Global.Utils.getPreFabBySource(\"changeThree/prefab/ChangeThreeTips\")).getComponent(ChangeThreeTips);\r\n            this.node.addChild(this.changeThreeTips.node);\r\n            this.changeThreeTips.node.x = 0;\r\n            this.changeThreeTips.node.y = 185;\r\n\r\n            let cardLightDic : Array<MajCardLight> =  CardHelpManager.ins.getThreeCard(this.handItemArr);\r\n            this.changeCardArr = CardHelpManager.ins.getSmallThree(cardLightDic,this.handItemArr);\r\n            this.showSelect();\r\n        }).start()\r\n    }\r\n    /***默认推荐*/\r\n\tprivate showSelect(){\r\n        let nowValue:number;\r\n        let nowCard : MajiongHandCard;\r\n\t\tfor(let i = 0 ; i < this.changeCardArr.length ; i++){\r\n            nowValue = this.changeCardArr[i];\r\n\t\t\tfor(let l = 0 ; l < this.handItemArr.length ; l++){\r\n                nowCard = this.handItemArr[l];\r\n                if(nowCard.isShow && nowCard.cardValue == nowValue && nowCard.isSelect == false){\r\n                    nowCard.isSelect = true;\r\n                    this.changeThreeCard.push(nowCard);\r\n                    break;\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.changeThreeTips.setBtnEnabled(this.changeThreeCard.length == 3);\r\n\t}\r\n    /***选中了3张牌并点击交换按钮时候*/\r\n    private onSelect3Majiong(){\r\n        let arr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < this.changeThreeCard.length ; i++){\r\n\t\t\tarr.push(this.changeThreeCard[i].cardValue);\r\n\t\t}\r\n\t\tif(arr.length != 3){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.changeThreeTips.disTory();\r\n        this.changeThreeTips = null;\r\n\t\tlet msg:Msg_CS_Change3Maj = new Msg_CS_Change3Maj();\r\n\t\tmsg.lstMajID = arr;\r\n\t\tGlobal.mgr.socketMgr.send(-1,msg);\r\n\r\n        let nowCard:MajiongHandCard;\r\n        let nowValue:number;\r\n\t\tfor(let l = 0 ; l < this.changeThreeCard.length ; l++){\r\n            nowValue = this.changeThreeCard[l].cardValue;\r\n\t\t\tfor(let i = 0 ; i < this.handItemArr.length ; i++){\r\n                nowCard = this.handItemArr[i];\r\n\t\t\t\tif(nowCard.cardValue == nowValue && nowCard.isSelect && nowCard.isShow){\r\n                    nowCard.isSelect = false;\r\n                    nowCard.isShow = false;\r\n                    UserInfo.ins.spliceCardByMyHand(nowValue);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n        let pointX:number=0;\r\n        let setIndex:number=0;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            nowCard = this.handItemArr[i];\r\n            if(nowCard.isShow){\r\n                pointX = setIndex*nowCard.cardSize._w;\r\n                let changeCount:number = (nowCard.node.x - pointX)/nowCard.cardSize._w; \r\n                cc.tween(nowCard.node).to(TimeAndMoveManager.ins.outCardHandMoveTime*changeCount , {x : pointX}).start();\r\n                setIndex++;\r\n            }\r\n        }\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.outCardHandMoveTime + 0.1).call(()=>{\r\n            if(UserInfo.ins.mySitIndex == GameInfo.ins.nowBookMakerSit){\r\n                this.getInputCard().node.x += this.feelCardChange[this.bySelfPoint];\r\n            }\r\n        }).start();\r\n    }\r\n    /***换三时候任意手牌点击*/\r\n    private onChangeThreeClick( handCard : MajiongHandCard){\r\n        if(handCard.isSelect){\r\n            handCard.node.y = 0 ;\r\n            handCard.isSelect = false;\r\n\t\t\tthis.changeThreeCard.splice(this.changeThreeCard.indexOf(handCard) , 1);\r\n\r\n\t\t\tthis.changeThreeTips.setBtnEnabled(this.changeThreeCard.length == 3);\r\n        }else{\r\n\t\t\tlet count:number  = Math.floor(handCard.cardValue/10);\r\n\t\t\tif(this.changeThreeCard.length == 0){\r\n                this.changeThreeCard.push(handCard);\r\n                handCard.isSelect = true;\r\n\t\t\t}else{\r\n                if(Math.floor(this.changeThreeCard[0].cardValue/10) == count){\r\n                    this.changeThreeCard.push(handCard);\r\n                    handCard.isSelect = true;\r\n                    if(this.changeThreeCard.length > 3){\r\n                        this.changeThreeCard[0].isSelect = false;\r\n                        this.changeThreeCard.splice(0,1);\r\n                    }\r\n                }else{\r\n                    for(let i = 0 ; i < this.changeThreeCard.length ; i++){\r\n                        this.changeThreeCard[i].isSelect = false;\r\n                    }\r\n                    this.changeThreeCard = [];\r\n                    this.changeThreeCard.push(handCard);\r\n                    handCard.isSelect = true;\r\n                }\r\n\t\t\t}\r\n\t\t\tthis.changeThreeTips.setBtnEnabled(this.changeThreeCard.length == 3);\r\n\t\t}\r\n    }\r\n    \r\n    showOnChangeThree(msg: Msg_SC_Change3Maj): void {\r\n        super.showOnChangeThree(msg);\r\n    }\r\n\r\n\tshowGetChangeThree(msg:Msg_SC_You3Maj){\r\n        let addArr:Array<number> = Global.Utils.cloneArr(msg.lstMajID);\r\n        for(let i = 0 ; i < msg.lstMajID.length ; i++){\r\n            UserInfo.ins.addNewCardToMyHand(msg.lstMajID[i]);\r\n        }\r\n        addArr.sort(Global.Utils.compare);\r\n        let nowCard:MajiongHandCard;\r\n        let bigCount:number=0;\r\n        let pointArr:Array<cc.Vec2> = [];\r\n        let nowCardArr:Array<MajiongHandCard> = [];\r\n        for(let i = this.handItemArr.length-1 ; i >= 0  ; i--){\r\n            nowCard = this.handItemArr[i];\r\n            if(nowCard.isShow == false){\r\n                continue;\r\n            }\r\n            bigCount = this.getBigNum(nowCard.cardValue , addArr);\r\n            if(bigCount > 0){\r\n                for(let n = 0 ; n < pointArr.length ; n++){\r\n                    pointArr[n].x += bigCount*nowCard.cardSize._w;\r\n                }\r\n                let pointCard:MajiongHandCard;\r\n                for(let n = 0 ; n < nowCardArr.length ; n++){\r\n                    pointCard = nowCardArr[n];\r\n                    pointCard.setNewPoint(pointCard.getNewPoint().x + pointCard.cardSize._w*bigCount , pointCard.getNewPoint().y);\r\n                    pointCard.changeCount++;\r\n                }\r\n            }\r\n            for(let n = 0 ; n < bigCount ; n++){\r\n                pointArr.push(cc.v2(nowCard.node.x + (n+1)*nowCard.cardSize._w , 50));\r\n                addArr.splice(addArr.length-1 , 1);\r\n            }\r\n            nowCardArr.push(nowCard);\r\n            nowCard.setNewPoint(nowCard.node.x , nowCard.node.y);\r\n        }\r\n        \r\n        let pointCard:MajiongHandCard;\r\n        for(let n = 0 ; n < pointArr.length ; n++){\r\n            pointArr[n].x += addArr.length*nowCard.cardSize._w;\r\n        }\r\n        for(let n = 0 ; n < nowCardArr.length ; n++){\r\n            pointCard = nowCardArr[n];\r\n            pointCard.setNewPoint(pointCard.getNewPoint().x + pointCard.cardSize._w*addArr.length , pointCard.getNewPoint().y);\r\n            pointCard.changeCount+=addArr.length;\r\n        }\r\n        for(let n = 0 ; n < addArr.length ; n++){\r\n            pointArr.push(cc.v2(n*nowCard.cardSize._w , 50));\r\n        }\r\n        addArr = [];\r\n\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            if(this.handItemArr[i].isShow){\r\n                cc.tween(this.handItemArr[i].node).to(TimeAndMoveManager.ins.outCardHandMoveTime*this.handItemArr[i].changeCount , {x : this.handItemArr[i].getNewPoint().x}).call(()=>{\r\n                    \r\n                }).start();\r\n            }\r\n        }\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.outCardHandMoveTime+0.1).call(()=>{\r\n            this.showAddThree(msg.lstMajID , pointArr);\r\n        }).start();\r\n    }\r\n    private showAddThree(addArr:Array<number> , pointArr:Array<cc.Vec2>){\r\n        addArr.sort(Global.Utils.compare);\r\n        pointArr.sort(Global.Utils.compareV2);\r\n        for(let i = 0 ; i < addArr.length ; i++){\r\n            let newHand : MajiongHandCard = this.getMyNewHand();\r\n            newHand.node.x = pointArr[i].x;\r\n            newHand.node.y = pointArr[i].y;\r\n            newHand.cardValue = addArr[i];\r\n            newHand.isDice = Global.Utils.getIsDice(addArr[i] , UserInfo.ins.myDiceType);\r\n            newHand.isShow = true;\r\n            cc.tween(newHand.node).to(TimeAndMoveManager.ins.ChangeThreeMoveYTime, {y : 0}).call(()=>{\r\n                newHand.isSelect = false;\r\n                if(UserInfo.ins.mySitIndex == GameInfo.ins.nowBookMakerSit){\r\n                    this.initMyHandsFeel();\r\n                    let feelCard:MajiongHandCard = this.getMyLastHand();\r\n                    feelCard.node.x += this.feelCardChange[this.bySelfPoint]/3;\r\n                    feelCard.isFeel = true;\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n    private getBigNum(value : number , arr:Array<number>):number{\r\n        let bigNum:number = 0;\r\n        for(let i = 0 ; i< arr.length ; i++){\r\n            if(value <= arr[i]){\r\n                bigNum++;\r\n            }\r\n        }\r\n        return bigNum;\r\n    }\r\n\r\n\r\n\r\n    disTory(): void {\r\n        super.disTory();\r\n    }\r\n}\r\n"]}