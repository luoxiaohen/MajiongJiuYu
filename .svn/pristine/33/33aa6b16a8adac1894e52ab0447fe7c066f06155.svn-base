{"version":3,"sources":["assets\\Script\\tips\\HuPaiTiShiTips.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport GameInfo from \"../Game/info/GameInfo\";\r\nimport UserInfo from \"../Game/info/UserInfo\";\r\nimport { Global } from \"../Shared/GloBal\";\r\nimport UIBase from \"../UIBase\";\r\nimport { HuData, ListenCard } from \"../utils/InterfaceHelp\";\r\nimport HupaiTishiItem from \"./HupaiTishiItem\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class HuPaiTiShiTips extends UIBase {\r\n\r\n    @property(cc.Sprite)\r\n    bgImage : cc.Sprite = null;\r\n    @property(cc.Label)\r\n    mapLabel : cc.Label = null;\r\n    @property(cc.ScrollView)\r\n    itemScroller : cc.ScrollView = null;\r\n    @property(cc.Node)\r\n    itemGroup : cc.Node = null;\r\n    @property(cc.Node)\r\n    itemView : cc.Node = null;\r\n\r\n\r\n    private listenData : ListenCard;\r\n    protected onLoad(): void {\r\n        this.listenData = this.dialogParameters;\r\n        this.showItem(Global.Utils.getPreFabBySource(\"tips/HuPaiTiShiTips/prefab/HupaiTishiItem\"));\r\n        this.showWidth();\r\n        this.showHave();\r\n    }\r\n    private showHave(){\r\n        let allHave : number = 0;\r\n        for(let i = 0 ; i < this.listenData.huData.length ; i++){\r\n            allHave += this.getHave(this.listenData.huData[i]);\r\n       }\r\n       this.mapLabel.string = \"s\" + allHave + \"z\";\r\n    }\r\n    public getHave(huData : HuData):number{\r\n\t\tlet have:number = GameInfo.ins.allOutCardArr[huData.cardValue] ? 4 - GameInfo.ins.allOutCardArr[huData.cardValue] : 4;\r\n\t\tfor(let i = 0 ; i < UserInfo.ins.myHandCardArr.length ; i++){\r\n\t\t\tif(UserInfo.ins.myHandCardArr[i] == huData.cardValue){\r\n\t\t\t\thave--;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(have <= 0){\r\n\t\t\thave = 0;\r\n\t\t}\r\n\t\treturn have;\r\n\t}\r\n    private showWidth(){\r\n        let count : number = this.listenData.huData.length;\r\n        if(count < 8){\r\n            let viewWidth : number = count*126 + (count-1)*17;\r\n            this.itemView.width = viewWidth;\r\n            this.itemScroller.node.width = viewWidth;\r\n            this.bgImage.node.width = this.itemScroller.node.x + viewWidth + 30;\r\n        }\r\n    }\r\n    private showItem(assest : cc.Prefab){\r\n        let item:HupaiTishiItem;\r\n        for(let i = 0 ; i < this.listenData.huData.length ; i++){\r\n             item = cc.instantiate(assest).getComponent(HupaiTishiItem);\r\n             item.huData = this.listenData.huData[i]\r\n             this.itemGroup.addChild(item.node);\r\n        }\r\n    }\r\n\r\n    public disTory(){\r\n        super.disTory()\r\n    }\r\n}\r\n"]}