{"version":3,"sources":["assets\\Script\\UI\\MajiongTablePanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { CallBack } from \"../com/CallBack\";\r\nimport { CardTypeEnum, PlayEatTypeEnum, PlayStauteEnum } from \"../enum/EnumManager\";\r\nimport EventType from \"../event/EventType\";\r\nimport GameInfo from \"../Game/info/GameInfo\";\r\nimport UserInfo, { PrDiceRsltData } from \"../Game/info/UserInfo\";\r\nimport TimeAndMoveManager from \"../mgr/TimeAndMoveManager\";\r\nimport { GamePiaoTypeEnum, GameRoomTypeEnum } from \"../proto/LobbyMsgDef\";\r\nimport { Msg_CS_DoDice, Msg_CS_PressDice, Msg_CS_Ready, Msg_SC_BeginDiceMsg, Msg_SC_BuGanging, Msg_SC_Change3Maj, Msg_SC_DiceRslt, Msg_SC_DownMajMsg, Msg_SC_GangSelfMsg, Msg_SC_GetMajMsg, Msg_SC_HuMajMsg, Msg_SC_OneSit, Msg_SC_PengMajMsg, Msg_SC_PrDiceRslt, Msg_SC_QueRslt, Msg_SC_Ready, Msg_SC_RealScore, Msg_SC_SomeTurnMsg, Msg_SC_StartChange3, Msg_SC_StartDiceGame, Msg_SC_StartDicePos, Msg_SC_StartDingQue, Msg_SC_StartGame, Msg_SC_WaitDownMsg, Msg_SC_WaitYou, Msg_SC_You3Maj, Msg_SC_YouMajMsg } from \"../proto/TableMsg\";\r\nimport { SitInfo, SitQueInfo } from \"../proto/TableMsgDef\";\r\nimport { Global } from \"../Shared/GloBal\";\r\nimport Utils from \"../Shared/Utils\";\r\nimport SitDownTips from \"../tips/SitDownTips\";\r\nimport UIBase from \"../UIBase\";\r\nimport { EatCardClass, HuData, MyActionByOther } from \"../utils/InterfaceHelp\";\r\nimport BuyHorseItem from \"./BuyHorseItem\";\r\nimport CardHelpManager from \"./card/CardHelpManager\";\r\nimport DownHandCardPanel from \"./card/DownHandCardPanel\";\r\nimport HandCardPanel from \"./card/HandCardPanel\";\r\nimport MajiongWallCard from \"./card/MajiongWallCard\";\r\nimport MyHandCardPanel from \"./card/MyHandCardPanel\";\r\nimport OppHandCardPanel from \"./card/OppHandCardPanel\";\r\nimport UpHandCardPanel from \"./card/UpHandCardPanel\";\r\nimport ChangeThreeItem from \"./changeThree/ChangeThreeItem\";\r\nimport ChangeThreePanel from \"./changeThree/ChangeThreePanel\";\r\nimport ChangeThreeTips from \"./changeThree/ChangeThreeTips\";\r\nimport DingQuePanel from \"./DingQuePanel\";\r\nimport GameTurntablePanel from \"./GameTurntablePanel\";\r\nimport PlayerHeadItem from \"./PlayerHeadItem\";\r\nimport ThrowPointHeadItem from \"./ThrowPointHeadItem\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MajiongTablePanel extends UIBase {\r\n    @property (cc.Node)\r\n    headGroup : cc.Node = null;\r\n    @property (cc.Node)\r\n    tipsGroup : cc.Node = null;\r\n    @property (cc.Node)\r\n    btnGroup : cc.Node = null;\r\n    @property (cc.Node)\r\n    tableElementsGroup : cc.Node = null;\r\n    @property (cc.Button)\r\n    readyBtn : cc.Button = null;\r\n    \r\n    @property (cc.Label)\r\n    tableIdLabel : cc.Label = null;\r\n    @property (cc.Label)\r\n    tableNameLabel : cc.Label = null;\r\n    @property (cc.Label)\r\n    tableTypeLabel : cc.Label = null;\r\n    @property (cc.Label)\r\n    tableFenLabel : cc.Label = null;\r\n    @property (cc.Sprite)\r\n    gameBeginImage : cc.Sprite = null;\r\n    @property(cc.Button)\r\n    gameDiceBtn : cc.Button = null;\r\n    @property (cc.Label)\r\n    rollDiceLabel : cc.Label = null;\r\n    @property (cc.Node)\r\n    cardTableGroup : cc.Node = null;\r\n    @property (cc.Button)\r\n    changeThreeBtn : cc.Button = null;\r\n    @property (cc.Sprite)\r\n    fightImage : cc.Sprite = null;\r\n    @property (cc.Sprite)\r\n    baoziImage : cc.Sprite = null;\r\n    \r\n    @property (cc.Sprite)\r\n    infoQuetionBtn : cc.Sprite = null;\r\n    @property (cc.Sprite)\r\n    listBtn : cc.Sprite = null;\r\n    @property (cc.Sprite)\r\n    menuBtn : cc.Sprite = null;\r\n    @property (cc.Sprite)\r\n    hordeBtn : cc.Sprite = null;\r\n    @property (cc.Label)\r\n    gameinfoLabel : cc.Label = null;\r\n    @property (cc.Node)\r\n    buyHorseGroup : cc.Node = null;\r\n    @property (cc.Sprite)\r\n    lookBg : cc.Sprite = null;\r\n\r\n\r\n    /***/\r\n    private playerPointArr:Array<cc.Vec2> = [cc.v2(26,-679),cc.v2(1738,-328),cc.v2(1431,-11),cc.v2(26,-328)];\r\n    /***/\r\n    private playerHeadArr:Array<PlayerHeadItem> = [];\r\n    /***/\r\n    private myInitSitIndex:number=-1;\r\n    /***/\r\n    private prDiceRsltArr:Array<PrDiceRsltData> = [];\r\n    /***/\r\n    private myInitSit : number=0;\r\n    /***/\r\n    private returnPointOver:boolean = false;\r\n    /***/\r\n    private throwBookMakerOver : boolean = false;\r\n    /***/\r\n    private majiongWallPrefab : cc.Prefab;\r\n    /***/\r\n    private majiongHandPrefab : cc.Prefab;\r\n    /***/\r\n    private majiongOutCardPrefab:cc.Prefab = null;\r\n    /***/\r\n    private canGetHands : boolean = false;\r\n    private getCardPoint:number = 0;\r\n    private getCardBegin:number = 0;\r\n    /***/\r\n    private maxPlayerNum:number = 0;\r\n    /***/\r\n    private nowGetHandPlayerNum:number = 0;\r\n    /***/\r\n    private addHandPanelNum:number = 0;\r\n    /****/\r\n    private handPanelArr : Array<HandCardPanel>=[];\r\n    /***/\r\n    private changeThreePanel : ChangeThreePanel;\r\n    private sitDownTips:SitDownTips;\r\n    /***/\r\n    private gamePositionItem:GameTurntablePanel;\r\n    /***/\r\n    private buyHorseItem1:BuyHorseItem;\r\n    private buyHorseItem2:BuyHorseItem;\r\n\r\n    protected onLoad(): void {\r\n        this.fightImage.node.active = false;\r\n        this.baoziImage.node.active = false;\r\n        this.majiongHandPrefab = Global.Utils.getPreFabBySource('majiongCard/prefab/MajiongHandCard');\r\n        this.majiongWallPrefab = Global.Utils.getPreFabBySource('majiongCard/prefab/MajiongWallCard');\r\n        this.majiongOutCardPrefab = Global.Utils.getPreFabBySource('majiongCard/prefab/MajiongOutCard');\r\n        this.addEvent();\r\n        this.initUI();\r\n        this.addPlayerHead();\r\n        if(GameInfo.ins.gamePlayers.length == 1 && UserInfo.ins.isSelf(GameInfo.ins.gamePlayers[0].player.gpid)){\r\n            this.onNewSit(null , GameInfo.ins.fristSitPlayer);\r\n        }\r\n        this.lookBg.node.active = false;\r\n    }\r\n    private initUI(){\r\n        this.showReadyBtn(false);\r\n        this.showTableInfo();\r\n        this.showDiceBtn(false);\r\n        this.showGmaePosition();\r\n        this.showBuyHrose();\r\n    }\r\n    private showBuyHrose(){\r\n        this.buyHorseItem1 = cc.instantiate(Global.Utils.getPreFabBySource('mainGame/prefab/BuyHorseItem')).getComponent(BuyHorseItem);\r\n        this.buyHorseItem2 = cc.instantiate(Global.Utils.getPreFabBySource('mainGame/prefab/BuyHorseItem')).getComponent(BuyHorseItem);\r\n        this.buyHorseItem1.index = 1;\r\n        this.buyHorseItem2.index = 2;\r\n        this.buyHorseGroup.addChild(this.buyHorseItem1.node);\r\n        this.buyHorseGroup.addChild(this.buyHorseItem2.node);\r\n    }\r\n    private showGmaePosition(){\r\n        if(this.gamePositionItem){\r\n            this.gamePositionItem.disTory();\r\n        }\r\n        let prefab=Global.Utils.getPreFabBySource(\"turnTable/prefab/GameTurntablePanel\");\r\n        this.gamePositionItem = cc.instantiate(prefab).getComponent(GameTurntablePanel);\r\n        this.gamePositionItem.node.x = 960;\r\n        this.gamePositionItem.node.y = -475;\r\n        this.btnGroup.addChild(this.gamePositionItem.node);\r\n    }\r\n    showTableInfo(){\r\n        this.gameinfoLabel.string = GameInfo.ins.roomTableInfo.roomName;\r\n\r\n        this.tableIdLabel.string = \":\" + GameInfo.ins.roomTableInfo.code;\r\n        this.tableNameLabel.string = \":\" + GameInfo.ins.roomTableInfo.roomName;\r\n        this.tableFenLabel.string = \":\" + GameInfo.ins.roomTableInfo.rule.baseScore;\r\n        let gameName:string = Global.Utils.getGameNameByGameType(GameInfo.ins.roomTableInfo.rule.gamePlayType);\r\n        let gameType:string = Global.Utils.getGameTypeNameByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n        this.tableTypeLabel.string = gameName + \"[\"+ gameType +\"]\";\r\n        this.showChangThreeBtn(false);\r\n        GameInfo.ins.AllCardMax = Global.Utils.getMaxMajiongByGameType(GameInfo.ins.roomTableInfo.rule.roomType)\r\n    }\r\n    private addPlayerHead(){\r\n        let maxPlayer : GameRoomTypeEnum = Global.Utils.getMaxPlayerByGameType( GameInfo.ins.roomTableInfo.rule.roomType);\r\n        for(let i = 0 ; i < maxPlayer ; i++){\r\n            Global.Utils.createObjToNode('playerHead/prefab/PlayerHeadItem',this.headGroup,i,this.playerPointArr[i],(any,createObj)=>{\r\n                let item : PlayerHeadItem = createObj.getComponent(PlayerHeadItem);\r\n                this.playerHeadArr.push(item);\r\n                let sitInfo:SitInfo = GameInfo.ins.getPlayerBySit(item.directionSitNum);\r\n                if(sitInfo){\r\n                    item.sitInfo = sitInfo;\r\n                }\r\n            })\r\n        }\r\n    }\r\n    private addEvent(){\r\n        Global.EventCenter.addEventListener(EventType.ThrowBookMaker , ()=>{\r\n            for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n                this.playerHeadArr[i].showIsReady(false);\r\n            }\r\n\t\t\tthis.showBeginImage(true);\r\n\t\t} , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.NEW_ONE_SIT , this.onNewSit, this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.playerReady , this.onPlayerReady , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.DiceRslt , this.onDiceRslt , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.StartDicePos , this.onStartDicePos , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.PrDiceRslt , this.onPrDiceRslt , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.StartDiceGame , this.onStartDiceGame , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.BeginDiceMsg , this.onBeginDiceMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.DrawHandCard , this.onDrawHandCard , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.YouMajMsg , this.onYouMajMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.StartDingQue , this.onStartDingQue , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.QueRslt , this.onQueRslt , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.WaitDownMsg , this.onWaitDownMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.DownMajMsg , this.onDownMajMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.OtherDrawCard , this.onOtherDrawCard , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.PengMajMsg , this.onPengMajMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.GangSelfMsg , this.onGangSelfMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.BuGanging , this.onBuGanging , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.HuMajMsg , this.onHuMajMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.ScoreListMsg , this.onScoreListMsg , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.GetMajMsg , this.onGetFeel , this);\r\n\r\n\t\tGlobal.EventCenter.addEventListener(EventType.ChangeThree , this.onChangeThree , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.Change3Maj , this.onChange3Maj , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.You3Maj , this.onYou3Maj , this);\r\n\r\n\t\tGlobal.EventCenter.addEventListener(EventType.PlayerHeadSitClick , this.onHeadSitClick , this);\r\n        \r\n\t\tGlobal.EventCenter.addEventListener(EventType.OpenNewGame , this.onNewGame , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.RealScore , this.onRealScore , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.ShowBaoziFight , this.showbaoziFight , this);\r\n    }\r\n    private showbaoziFight(){\r\n        let source:string = null;\r\n        let baoziSource:string = null;\r\n        if(GameInfo.ins.isBaozi){\r\n            source = \"mainGame/resource/game_baozi\";\r\n            baoziSource = \"comResource/font/game_baozi\"\r\n        }\r\n        if(GameInfo.ins.isShuangbao){\r\n            source = \"mainGame/resource/game_shuangbao\";\r\n            baoziSource = \"comResource/font/game_shuangbao\"\r\n        }\r\n        if(source == null){\r\n            this.fightImage.node.active = false;\r\n            cc.Tween.stopAllByTarget(this.fightImage.node);\r\n            return;\r\n        }\r\n        this.fightImage.node.active = true;\r\n        this.baoziImage.node.active = true;\r\n        Global.Utils.setNewImageToSprite(this.fightImage , source);\r\n        Global.Utils.setNewImageToSprite(this.baoziImage , baoziSource);\r\n        this.showFightAction();\r\n    }\r\n    private showFightAction(){\r\n        cc.tween(this.fightImage.node).to(2 , {opacity : 255}).call(()=>{\r\n            this.hideFightAction()\r\n        }).start()\r\n    }\r\n    private hideFightAction(){\r\n        cc.tween(this.fightImage.node).to(2 , {opacity : 0}).call(()=>{\r\n            this.showFightAction()\r\n        }).start()\r\n    }\r\n    /***/\r\n    private onRealScore(e, msg :Msg_SC_RealScore){\r\n        if(msg.event.tarScore){\r\n            let headItem:PlayerHeadItem;\r\n            for(let l = 0 ; l < msg.event.tarSits.length ; l++){\r\n                for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n                    if(this.playerHeadArr[i].sitInfo.sitNum ==  msg.event.tarSits[l]){\r\n                        headItem = this.playerHeadArr[i];\r\n                        headItem.showShishiJifenChange(msg.event.tarScore[l]);\r\n                        if(msg.event.tarSits[l] == UserInfo.ins.mySitIndex){\r\n                            UserInfo.ins.gameFen += msg.event.tarScore[l];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n                if(this.playerHeadArr[i].sitInfo.sitNum ==  msg.event.curSit){\r\n                    headItem = this.playerHeadArr[i];\r\n                    headItem.showShishiJifenChange(msg.event.win);\r\n                    if(msg.event.curSit == UserInfo.ins.mySitIndex){\r\n                        UserInfo.ins.gameFen += msg.event.win;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /***/\r\n    private onHeadSitClick(e , sitNum:number){\r\n        if(this.sitDownTips){\r\n            this.sitDownTips.disTory();\r\n            this.sitDownTips = null;\r\n        }\r\n        this.sitDownTips = cc.instantiate(Global.Utils.getPreFabBySource(\"tips/SitDown/prefab/SitDownTips\")).getComponent(SitDownTips);\r\n        this.sitDownTips.setData(sitNum)\r\n        this.tipsGroup.addChild(this.sitDownTips.node);\r\n        this.sitDownTips.node.x = 0;\r\n        this.sitDownTips.node.y = 0;\r\n    }\r\n\t/***/\r\n\tprivate onChangeThree(e, msg:Msg_SC_StartChange3){\r\n        if(this.changeThreePanel){\r\n            this.changeThreePanel.disTory();\r\n        }\r\n        this.changeThreePanel = cc.instantiate(Global.Utils.getPreFabBySource(\"changeThree/prefab/ChangeThreePanel\")).getComponent(ChangeThreePanel);\r\n        this.node.addChild(this.changeThreePanel.node);\r\n        this.changeThreePanel.node.x = -322;\r\n        this.changeThreePanel.node.y = -161;\r\n\t}\r\n    /***/\r\n    private onChange3Maj(e,msg:Msg_SC_Change3Maj){\r\n        this.getHandPanelBySit(msg.okSit).showOnChangeThree(msg);\r\n        this.changeThreePanel.showOneReady(msg.okSit);\r\n\t}\r\n    /****/\r\n    private onYou3Maj(e, msg:Msg_SC_You3Maj){\r\n        this.changeThreePanel.setData(msg , this.onChanegEnd , this);\r\n\t}\r\n    /***/\r\n    private onChanegEnd(msg:Msg_SC_You3Maj){\r\n        this.changeThreePanel.disTory();\r\n        this.changeThreePanel = null;\r\n\r\n        for(let i = 0 ; i < 4 ; i++){\r\n            this.getHandPanelBySit(i).showEndChangeThree();\r\n        }\r\n        (this.getHandPanelBySit(UserInfo.ins.mySitIndex) as MyHandCardPanel).showGetChangeThree(msg);\r\n    }\r\n\t/***/\r\n\tprivate onScoreListMsg(e){\r\n\t\tthis.showBeginImage(false);\r\n\t\tthis.showSmallOver();\r\n\t}\r\n    /***/\r\n\tprivate showSmallOver(){\r\n        Global.DialogManager.createDialog('smallOver/prefab/SmallOverPanel', null , (any,createDialog)=>{\r\n            createDialog.x = -960;\r\n            createDialog.y = -540;\r\n        })\r\n\t}\r\n    /***/\r\n\tprivate onBuGanging(e,msg:Msg_SC_BuGanging){\r\n\t\tif(UserInfo.ins.mySitIndex != msg.sit){\r\n\t\t\tlet deck : HuData = UserInfo.ins.getQiangHu(msg.majID);\r\n\t\t\tif(deck && deck.HuType.length > 0){\r\n\t\t\t\tlet eatClass : EatCardClass = new EatCardClass();\r\n\t\t\t\teatClass.type = PlayEatTypeEnum.Hu;\r\n\t\t\t\teatClass.value = deck.cardValue;\r\n\t\t\t\tif(!Global.Utils.getIsDice(msg.majID , UserInfo.ins.myDiceType)){\r\n                    let canHu : HuData = UserInfo.ins.getCanHu();\r\n                    let actionData:MyActionByOther = new MyActionByOther();\r\n                    actionData.canHu = canHu!= null;\r\n                    actionData.huData = canHu;\r\n                    actionData.canGang = false;\r\n                    actionData.canPeng = false;\r\n                    actionData.canGuo = UserInfo.ins.getCanGuo();\r\n\t\t\t\t\t(this.getHandPanelBySit(UserInfo.ins.mySitIndex) as MyHandCardPanel).showActionItem(actionData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    /***/\r\n\tprivate onHuMajMsg(e,msg : Msg_SC_HuMajMsg){\r\n\t\tGameInfo.ins.huCounts = msg.huNum+1;\r\n\t\tif(msg.majID){\r\n\t\t\tGameInfo.ins.otherLastCard = msg.majID;\r\n\t\t}\r\n        this.getHandPanelBySit(msg.huSit).showHupai(msg);\r\n\t\tif(msg.tarSit){\r\n\t\t\tthis.getHandPanelBySit(msg.tarSit).clearLastPlay();\r\n\t\t}\r\n\t\tif(msg.huCnt > 1){\r\n\t\t\tthis.getHandPanelBySit(msg.tarSit).showDianPao(msg.huCnt);\r\n\t\t}\r\n\t}\r\n    /***/\r\n\tprivate onGangSelfMsg(e,msg:Msg_SC_GangSelfMsg){\r\n\t\tlet addIndex:number = msg.isPapo == 0 ? 4 : 1;\r\n\t\tGameInfo.ins.addCardToAllOut(addIndex);\r\n\t\tthis.getHandPanelBySit(msg.pengSiteNum).showSelfGang(msg);\r\n\t}\r\n    /***/\r\n\tprivate onPengMajMsg(e , msg:Msg_SC_PengMajMsg){\r\n\t\tlet addIndex:number = msg.isGang == 1 ? 3 : 2;\r\n\t\tGameInfo.ins.addCardToAllOut(msg.majID , addIndex);\r\n        this.getHandPanelBySit(msg.pengSiteNum).showPengGang(msg);\r\n\t\tthis.getHandPanelBySit(msg.fromSiteNum).clearLastPlay();\r\n\t}\r\n    /***/\r\n\tprivate onGetFeel(e , msg : Msg_SC_GetMajMsg){this.gamePositionItem.SetCurrentTurnState(\r\n        GameInfo.ins.AllCardMax - GameInfo.ins.allPlayerGetCard , UserInfo.ins.mySitIndex , GameInfo.ins.getPosHu())\r\n\t}\r\n    /***/\r\n\tprivate onOtherDrawCard(e , msg:Msg_SC_SomeTurnMsg){\r\n\t\tthis.removeOneWall();\r\n\t\tlet panel : HandCardPanel = this.getHandPanelBySit(msg.siteNum);\r\n\t\tpanel.showFeelWall(null);\r\n        \r\n        this.gamePositionItem.SetCurrentTurnState(GameInfo.ins.AllCardMax - GameInfo.ins.allPlayerGetCard , msg.siteNum , GameInfo.ins.getPosHu())\r\n\t}\r\n    /****/\r\n    private removeOneWall(){\r\n        GameInfo.ins.allWallCardArray[GameInfo.ins.allPlayerGetCard].node.active = false;\r\n        GameInfo.ins.allPlayerGetCard++;\r\n    }\r\n    /****/\r\n\tprivate onDownMajMsg(e , msg:Msg_SC_DownMajMsg){\r\n\t\tif(UserInfo.ins.mySitIndex != msg.downSiteNum){\r\n\t\t\tlet handPanel : HandCardPanel = this.getHandPanelBySit(msg.downSiteNum);\r\n\t\t\thandPanel.showOutCard(msg.majID);\r\n\t\t\tGameInfo.ins.otherLastCard = msg.majID;\r\n\t\t}else{\r\n            UserInfo.ins.spliceCardByMyHand(msg.majID);\r\n        }\r\n        if(UserInfo.ins.selfIsLookPlayer && UserInfo.ins.mySitIndex == msg.downSiteNum){\r\n            this.getHandPanelBySit(UserInfo.ins.mySitIndex).showOutCard(msg.majID);\r\n        }\r\n        (this.getHandPanelBySit(UserInfo.ins.mySitIndex) as MyHandCardPanel).closeHupaiTips();\r\n        (this.getHandPanelBySit(UserInfo.ins.mySitIndex) as MyHandCardPanel).closeOutTing();\r\n\t}\r\n    /****/\r\n    private onWaitDownMsg(e , msg:Msg_SC_WaitDownMsg){\r\n        for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n\t\t\tif(this.playerHeadArr[i].sitInfo.sitNum == msg.siteNum){\r\n\t\t\t\tthis.playerHeadArr[i].isMyAction = true;\r\n\t\t\t}else{\r\n                this.playerHeadArr[i].isMyAction = false;\r\n            }\r\n\t\t}\r\n        this.gamePositionItem.SetCurrentTurnState(GameInfo.ins.AllCardMax - GameInfo.ins.allPlayerGetCard , msg.siteNum , GameInfo.ins.getPosHu())\r\n    }\r\n    /***/\r\n\tprivate onQueRslt(e , msg:Msg_SC_QueRslt){\r\n        let delay:number = 0.1;\r\n        if(GameInfo.ins.roomTableInfo.rule.gamePlayType == 2){\r\n            this.showChangThreeBtn(true);\r\n            delay = 1;\r\n        }\r\n        cc.tween(this.node).delay(delay).call(()=>{\r\n            for(let i = 0 ; i < msg.infos.length ; i++){\r\n                let info : SitQueInfo = msg.infos[i];\r\n                let head : PlayerHeadItem ;\r\n                for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n                    this.playerHeadArr[i].showIsDingQueIng(false)\r\n                    if(this.playerHeadArr[i].sitInfo.sitNum == info.sitNum){\r\n                        head = this.playerHeadArr[i];\r\n                        head.showQue(info.wtt);\r\n                    }\r\n                }\r\n            }\r\n            this.getHandPanelBySit(UserInfo.ins.mySitIndex).showDingQueed();\r\n        }).start()\r\n\r\n        if(UserInfo.ins.selfIsLookPlayer){\r\n            if(this.dingQuePanel){\r\n                this.dingQuePanel.disTory();\r\n                this.dingQuePanel = null;\r\n            }\r\n        }\r\n\t}\r\n    /***/\r\n    private getHandPanelBySit(sit:number):HandCardPanel{\r\n        for(let i = 0 ; i < this.handPanelArr.length ; i++){\r\n            if(this.handPanelArr[i].sitIndex == sit){\r\n                return this.handPanelArr[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    private dingQuePanel:DingQuePanel;\r\n    /***/\r\n\tprivate onStartDingQue(e,msg:Msg_SC_StartDingQue){\r\n\t\tGlobal.DialogManager.createDialog(\"dingQue/prefab/DingQuePanel\" , null , (any,createDialog)=>{\r\n            createDialog.x = 0;\r\n            createDialog.y = 200;\r\n            this.dingQuePanel = createDialog.getComponent(DingQuePanel);\r\n        } , this.tableElementsGroup)\r\n\r\n        for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n            this.playerHeadArr[i].showIsDingQueIng(true);\r\n        }\r\n\t}\r\n    /***/\r\n    private onYouMajMsg(e,msg:Msg_SC_YouMajMsg){\r\n        if(this.canGetHands){\r\n            cc.tween(this.node).delay(TimeAndMoveManager.ins.getWallTime).call(()=>{\r\n                this.setWallDrawOeder();\r\n                this.showGetHand();\r\n            }).start()\r\n        }\r\n    }\r\n    /** */\r\n\tprivate onDrawHandCard(e,msg:Msg_SC_StartGame){\r\n\t\tlet data : Msg_SC_StartGame = e.data;\r\n\t}\r\n    /***/\r\n\tprivate onBeginDiceMsg(e,msg:Msg_SC_BeginDiceMsg){\r\n\t\tGameInfo.ins.nowBookMakerSit = msg.bankerSite;\r\n\t\tif(this.returnPointOver){\r\n\t\t\tthis.showThrowFrist();\r\n\t\t}\r\n\t}\r\n    /****/\r\n\tprivate showThrowFrist(){\r\n\t\tthis.showDiceBtn(true);\r\n\t}\r\n    /***/\r\n\tprivate onStartDiceGame(e,msg:Msg_SC_StartDiceGame){\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.zhuangRollTime + TimeAndMoveManager.ins.diceRotation).call(()=>{\r\n            for(let i = 0 ;i < this.playerHeadArr.length ; i++){\r\n                this.playerHeadArr[i].showPlayerDice(false);\r\n\t\t\t}\r\n            if(UserInfo.ins.selfIsLookPlayer){\r\n                for(let i = 0 ;i < this.playerHeadArr.length ; i++){\r\n                    if(this.playerHeadArr[i].directionSitNum == 0){\r\n                        UserInfo.ins.mySitIndex = this.playerHeadArr[i].sitInfo.sitNum;\r\n                    }\r\n                }\r\n            }\r\n            this.showChangeChar();\r\n        }).start();\r\n\t}\r\n    /***/\r\n    private showChangeChar(){\r\n        this.showChangeTempChar();\r\n    }\r\n    /***/\r\n    private showChangeTempChar(){\r\n        let pointArr:Array<cc.Vec2> = [cc.v2(700,-700) , cc.v2(1000,-700) , cc.v2(1000 , -400) , cc.v2(700 , -400)];\r\n        let players : Array<SitInfo> = GameInfo.ins.gamePlayers;\r\n\t\tlet newPlayers : Array<SitInfo> = [];\r\n\t\tlet noMe : Array<SitInfo> = [];\r\n\t\tlet haveMe : Array<SitInfo> = [];\r\n\t\tfor(let i = 0 ; i < players.length ; i++){\r\n\t\t\tif(UserInfo.ins.isSelf(players[i].player.gpid)){\r\n\t\t\t\thaveMe.push(players[i]);\r\n\t\t\t\tif(players[i].sitNum == GameInfo.ins.nowBookMakerSit){\r\n\t\t\t\t\tGameInfo.ins.isSelfZhuang = true;\r\n\t\t\t\t}\r\n                this.gamePositionItem.InitPlayerDicType(UserInfo.ins.mySitIndex , GameInfo.ins.AllCardMax-GameInfo.ins.allPlayerGetCard);\r\n\t\t\t}else{\r\n\t\t\t\tif(haveMe.length > 0){\r\n\t\t\t\t\thaveMe.push(players[i]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnoMe.push(players[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n        if(UserInfo.ins.selfIsLookPlayer){\r\n            this.gamePositionItem.InitPlayerDicType(UserInfo.ins.mySitIndex , GameInfo.ins.AllCardMax-GameInfo.ins.allPlayerGetCard);\r\n        }\r\n\t\tnewPlayers = haveMe.concat(noMe);\r\n\r\n\t\tlet throwHeadArr:Array<ThrowPointHeadItem> = [];\r\n        for(let i = 0 ; i < newPlayers.length ; i++){\r\n            Global.Utils.createObjToNode(\"playerHead/prefab/ThrowPointHeadItem\" , this.headGroup ,\r\n            {sitInfo : newPlayers[i] , rslt : this.getRsltDataById(newPlayers[i].player.gpid)} , \r\n            pointArr[i] , (any,createObj)=>{\r\n                let item : ThrowPointHeadItem = createObj.getComponent(ThrowPointHeadItem);\r\n                throwHeadArr.push(item);\r\n            });\r\n\t\t}\t\r\n        cc.tween(this.node).delay(TimeAndMoveManager.ins.changeCharTime).call(()=>{\r\n            for(let i = 0 ; i < throwHeadArr.length ; i++){\r\n                throwHeadArr[i].hideThrow();\r\n                cc.tween(throwHeadArr[i].node).to(TimeAndMoveManager.ins.changeCharAcyionTime , \r\n                {x : this.playerPointArr[i].x , y : this.playerPointArr[i].y - 203}).call(()=>{\r\n                    throwHeadArr[i].onDestroy();\r\n                }).start();\r\n            }\r\n            cc.tween(this.node).delay(TimeAndMoveManager.ins.changeCharAcyionTime + 0.1).call(()=>{\r\n                this.returnPlayerHeadPoint();\r\n            }).start();\r\n        }).start();\r\n    }\r\n    /***/\r\n    private returnPlayerHeadPoint(){\r\n        let players : Array<SitInfo> = GameInfo.ins.gamePlayers;\r\n\t\tlet newPlayers : Array<SitInfo> = [];\r\n\t\tlet noMe : Array<SitInfo> = [];\r\n\t\tlet haveMe : Array<SitInfo> = [];\r\n\t\tfor(let i = 0 ; i < players.length ; i++){\r\n\t\t\tif(UserInfo.ins.isSelf(players[i].player.gpid)){\r\n\t\t\t\thaveMe.push(players[i]);\r\n\t\t\t\tif(players[i].sitNum == GameInfo.ins.nowBookMakerSit){\r\n\t\t\t\t\tGameInfo.ins.isSelfZhuang = true;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(haveMe.length > 0){\r\n\t\t\t\t\thaveMe.push(players[i]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnoMe.push(players[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tnewPlayers = haveMe.concat(noMe);\r\n\t\tlet head : PlayerHeadItem;\r\n\t\tfor(let i = 0 ; i < newPlayers.length ; i++){\r\n\t\t\thead = this.getMyHeadBySit((i + this.myInitSit)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType));\r\n\t\t\thead.sitInfo = newPlayers[i];\r\n\t\t\thead.showZhuang(false);\r\n\t\t\tif(head.sitInfo.sitNum == GameInfo.ins.nowBookMakerSit){\r\n\t\t\t\thead.showZhuang(true);\r\n\t\t\t}\r\n\t\t}\r\n        this.showWallMajiong();\r\n\t\tthis.returnPointOver = true;\r\n\t\tif(GameInfo.ins.nowGameStatus == PlayStauteEnum.ThrowFrist){\r\n\t\t\tthis.showThrowFrist();\r\n\t\t}\r\n    }\r\n    /***/\r\n    private getMyHeadBySit(headSit : number):PlayerHeadItem{\r\n\t\tfor(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n\t\t\tif(this.playerHeadArr[i].directionSitNum == headSit){\r\n\t\t\t\treturn this.playerHeadArr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    /***/\r\n    private getRsltDataById(gpId : number):PrDiceRsltData{\r\n\t\tfor(let i = 0 ; i < this.prDiceRsltArr.length ; i++){\r\n\t\t\tif(this.prDiceRsltArr[i].playerId == gpId){\r\n\t\t\t\treturn this.prDiceRsltArr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    /***/\r\n\tprivate onPrDiceRslt(e,msg:Msg_SC_PrDiceRslt){\t\r\n        if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ChangeChar){\r\n            let pr:PrDiceRsltData = new PrDiceRsltData();\r\n\t\t\tpr.msg = msg;\r\n\t\t\tfor(let i = 0 ;i < this.playerHeadArr.length ; i++){\r\n\t\t\t\tif(this.playerHeadArr[i].sitInfo.sitNum == msg.sit){\r\n                    this.playerHeadArr[i].showRollDiceAction(msg.bigNum , msg.smlNum);\r\n                    pr.playerId = this.playerHeadArr[i].playerInfo.gpid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.prDiceRsltArr.push(pr)\r\n        }\r\n\t}\r\n    /***/\r\n    private onStartDicePos(e,msg:Msg_SC_StartDicePos){\r\n        if(this.throwBookMakerOver){\r\n            this.showDiceBtn(true);\r\n        }\r\n    }\r\n    /***/\r\n    private onDiceRslt(e,msg:Msg_SC_DiceRslt){\r\n        if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ThrowBookMaker){\r\n\t\t\tfor(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n\t\t\t\tif(this.playerHeadArr[i].directionSitNum == 0){\r\n\t\t\t\t\tthis.playerHeadArr[i].showDiceBookMaker(msg);\r\n                    cc.tween(this.node).delay(0.7 + TimeAndMoveManager.ins.zhuangRollTime + TimeAndMoveManager.ins.diceRotation).call(()=>{\r\n                        this.showZhuangAction()\r\n                        this.throwBookMakerOver = true;\r\n                        if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ChangeChar){\r\n                            this.showDiceBtn(true);\r\n                        }\r\n                    }).start();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ThrowFrist){\r\n            if(msg.bigNum == msg.smlNum && (GameInfo.ins.roomTableInfo.rule.baozi == GamePiaoTypeEnum.Baozi || GameInfo.ins.roomTableInfo.rule.baozi == GamePiaoTypeEnum.ShuaiPiao)){\r\n                GameInfo.ins.isBaozi = true;\r\n                this.showbaoziFight()\r\n            }\r\n            if(msg.bigNum != msg.smlNum && GameInfo.ins.roomTableInfo.rule.baozi == GamePiaoTypeEnum.ShuaiPiao){\r\n                let piaoIndex:number = ((msg.bigNum + msg.smlNum - 1)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType) + GameInfo.ins.nowBookMakerSit)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n                for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n                    if(this.playerHeadArr[i].sitInfo.sitNum == piaoIndex){\r\n                        this.playerHeadArr[i].isPiao = true;\r\n                    }\r\n                }\r\n            }\r\n            for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n\t\t\t\tif(this.playerHeadArr[i].sitInfo.sitNum == GameInfo.ins.nowBookMakerSit){\r\n\t\t\t\t\tthis.playerHeadArr[i].showDiceBookMaker(msg);\r\n                    cc.tween(this.node).delay(0.7 + TimeAndMoveManager.ins.zhuangRollTime + TimeAndMoveManager.ins.diceRotation).call(()=>{\r\n                        this.canGetHands = true;\r\n                        this.beginGetCard(msg);\r\n                    }).start();\r\n\t\t\t\t}\r\n\t\t\t}\r\n        }\r\n    }\r\n    /***/\r\n    beginGetCard(msg:Msg_SC_DiceRslt){\r\n        Global.Utils.debugOutput(\"\");\r\n        this.getCardPoint = msg.bigNum;\r\n\t\tthis.getCardBegin = msg.smlNum;\r\n        if(GameInfo.ins.nowGameStatus == PlayStauteEnum.DrawHandCard){\r\n            cc.tween(this.node).delay(TimeAndMoveManager.ins.getWallTime).call(()=>{\r\n                this.setWallDrawOeder();\r\n                this.showGetHand();\r\n            }).start()\r\n        }\r\n    }\r\n    /***/\r\n    private setWallDrawOeder(){\r\n        let now:number = (this.getCardPoint + this.getCardBegin - 1)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n        let begin:number = 0;\r\n        let roomType : GameRoomTypeEnum = GameInfo.ins.roomTableInfo.rule.roomType;\r\n        let wallSuite : Array<number> = Global.Utils.getMajiongWallByGameType(roomType);\r\n        for(let i = 0 ; i < now ; i++){\r\n            begin += wallSuite[i];\r\n        }\r\n        begin += (this.getCardBegin + 1)*2;\r\n        let beginIndex:number = 0;\r\n        for(let i = begin ; i < GameInfo.ins.allWallCardArray.length ; i++){\r\n            GameInfo.ins.allWallCardArray[i].majiongDrawOeder = beginIndex;\r\n            beginIndex++;\r\n        }\r\n        for(let i = 0 ; i < begin ; i++){\r\n            GameInfo.ins.allWallCardArray[i].majiongDrawOeder = beginIndex;\r\n            beginIndex++;\r\n        }\r\n        GameInfo.ins.sortWallByGetHand();\r\n    }\r\n    /***/\r\n    private showGetHand(){\r\n        let roomType : GameRoomTypeEnum = GameInfo.ins.roomTableInfo.rule.roomType;\r\n        this.maxPlayerNum = Global.Utils.getMaxPlayerByGameType(roomType);\r\n        this.createAllHandPanel();\r\n    }\r\n    /***/\r\n    private showGetAction(){\r\n        this.addHandPanelNum++;\r\n        if(this.addHandPanelNum == this.maxPlayerNum){\r\n            /**4*/\r\n            this.schedule(()=>{\r\n                this.onGetHandTimer();\r\n            },TimeAndMoveManager.ins.getWallTime,3,0);\r\n            Global.Utils.playSound(\"sound/1\");\r\n        }\r\n    }\r\n    private onGetHandTimer(){\r\n        this.nowGetHandPlayerNum++;\r\n        for(let i = 0 ; i < this.handPanelArr.length ; i++){\r\n            let getNums : number = this.getNums(this.nowGetHandPlayerNum , this.handPanelArr[i].sitIndex);\r\n            this.showGetWall(getNums);\r\n            this.handPanelArr[i].showGetHnads(getNums);\r\n        }\r\n    }\r\n    /***/\r\n    private getNums(index:number , sitIndex:number):number{\r\n        let getHands:number = 0;\r\n        if(index < 4){\r\n            getHands = 4;\r\n        }else{\r\n            if(sitIndex == GameInfo.ins.nowBookMakerSit){\r\n                getHands = 2;\r\n            }else{\r\n                getHands = 1;\r\n            }\r\n        }\r\n        return getHands;\r\n    }\r\n    /***/\r\n    private showGetWall(getNum:number = 1){\r\n        for(let i = GameInfo.ins.allPlayerGetCard ; i < GameInfo.ins.allPlayerGetCard + getNum ; i++){\r\n            GameInfo.ins.allWallCardArray[i].node.active = false;\r\n        }\r\n        GameInfo.ins.allPlayerGetCard += getNum;\r\n    }\r\n    /****/\r\n    private createAllHandPanel(){\r\n        let arr:Array<cc.Prefab> = [this.majiongHandPrefab,this.majiongOutCardPrefab];\r\n        Global.DialogManager.createDialog(\"majiongCard/prefab/MyHandCardPanel\" , arr , (any,createDialog)=>{\r\n            createDialog.x = CardHelpManager.ins.myHandCardInitPoint.x;\r\n            createDialog.y = CardHelpManager.ins.myHandCardInitPoint.y;\r\n            (createDialog.getComponent(MyHandCardPanel) as MyHandCardPanel).sitIndex = UserInfo.ins.mySitIndex;\r\n            this.handPanelArr[UserInfo.ins.mySitIndex] = createDialog.getComponent(MyHandCardPanel);\r\n            this.showGetAction();\r\n        } , this.cardTableGroup)\r\n        Global.DialogManager.createDialog(\"majiongCard/prefab/OppHandCardPanel\" , arr , (any,createDialog)=>{\r\n            createDialog.x = CardHelpManager.ins.oppHandCardInitPoint.x;\r\n            createDialog.y = CardHelpManager.ins.oppHandCardInitPoint.y;\r\n            (createDialog.getComponent(OppHandCardPanel) as OppHandCardPanel).sitIndex = (UserInfo.ins.mySitIndex + 2)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n            this.handPanelArr[(UserInfo.ins.mySitIndex + 2)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)] = createDialog.getComponent(OppHandCardPanel);\r\n            this.showGetAction();\r\n        } , this.cardTableGroup)\r\n        Global.DialogManager.createDialog(\"majiongCard/prefab/DownHandCardPanel\" , arr , (any,createDialog)=>{\r\n            createDialog.x = CardHelpManager.ins.downHandCardInitPoint.x;\r\n            createDialog.y = CardHelpManager.ins.downHandCardInitPoint.y;\r\n            (createDialog.getComponent(DownHandCardPanel) as DownHandCardPanel).sitIndex = (UserInfo.ins.mySitIndex + 1)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n            this.handPanelArr[(UserInfo.ins.mySitIndex + 1)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)] = createDialog.getComponent(DownHandCardPanel);\r\n            this.showGetAction();\r\n        } , this.cardTableGroup)\r\n        Global.DialogManager.createDialog(\"majiongCard/prefab/UpHandCardPanel\" , arr , (any,createDialog)=>{\r\n            createDialog.x = CardHelpManager.ins.upHandCardInitPoint.x;\r\n            createDialog.y = CardHelpManager.ins.upHandCardInitPoint.y;\r\n            (createDialog.getComponent(UpHandCardPanel) as UpHandCardPanel).sitIndex = (UserInfo.ins.mySitIndex + 3)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n            this.handPanelArr[(UserInfo.ins.mySitIndex + 3)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)] = createDialog.getComponent(UpHandCardPanel);\r\n            this.showGetAction();\r\n        } , this.cardTableGroup)\r\n    }\r\n    /***/\r\n    private showWallMajiong(){\r\n        let roomType : GameRoomTypeEnum = GameInfo.ins.roomTableInfo.rule.roomType;\r\n        let wallSuite : Array<number> = Global.Utils.getMajiongWallByGameType(roomType);\r\n        let wallIndex:number = 0;\r\n        let initPoint:cc.Vec2;\r\n        let finalPoint:cc.Vec2 = new cc.Vec2(0,0);\r\n        let tempIndex:number = 0;\r\n        let cardId:number=0;\r\n        for(let i = 0 ; i < Global.Utils.getMaxPlayerByGameType(roomType) ; i++){// \r\n            let sitNum:number = this.getZhuangSit(i);\r\n            for(let l = 0 ; l < wallSuite[i] ; l++){\r\n                initPoint = CardHelpManager.ins.wallCardInitPoint[sitNum];\r\n                finalPoint = this.getWallPoint(sitNum , initPoint , l);\r\n                let item  = cc.instantiate(this.majiongWallPrefab);\r\n                this.cardTableGroup.addChild(item);\r\n                item.x = finalPoint.x;\r\n                item.y = finalPoint.y;\r\n                if(sitNum == 0 || sitNum == 3){\r\n                    tempIndex = wallSuite[i] - l - 1;\r\n                    cardId = wallIndex + tempIndex;\r\n                }else{\r\n                    tempIndex = 0;\r\n                    cardId = wallIndex%2 == 0 ? wallIndex+1 : wallIndex-1;\r\n                    wallIndex++;\r\n                }\r\n\r\n                (item.getComponent(MajiongWallCard) as MajiongWallCard).cardId = cardId;\r\n                (item.getComponent(MajiongWallCard) as MajiongWallCard).cardPoint = sitNum;\r\n                GameInfo.ins.allWallCardArray.push(item.getComponent(MajiongWallCard));\r\n            }\r\n            if(sitNum == 0 || sitNum == 3){\r\n                wallIndex += wallSuite[i];\r\n            }\r\n        }\r\n        GameInfo.ins.sortWall();\r\n    }\r\n    /***/\r\n    private getWallPoint(sitNum : number , initPoint : cc.Vec2 , index:number):cc.Vec2{\r\n        let wallPoint : cc.Vec2 = new cc.Vec2(0,0);\r\n        switch(sitNum){\r\n            case 0 : \r\n                wallPoint.x = initPoint.x + Math.floor(index/2)*CardHelpManager.ins.wallCardWidth[sitNum];\r\n                wallPoint.y = index%2 == 0 ? initPoint.y - 20 : initPoint.y;\r\n            break;\r\n\r\n            case 1 : \r\n                wallPoint.x = index%2 == 0 ? (initPoint.x) + Math.floor(index/2)*1 : (initPoint.x + 15) + Math.floor(index/2)*1;\r\n                wallPoint.y = index%2 == 0 ? initPoint.y - Math.floor(index/2)*(CardHelpManager.ins.wallCardHeight[sitNum] - 16) : initPoint.y - Math.floor(index/2)*(CardHelpManager.ins.wallCardHeight[sitNum] - 16) + 16;\r\n            break;\r\n\r\n            case 2 : \r\n                wallPoint.x = initPoint.x + Math.floor(index/2)*CardHelpManager.ins.wallCardWidth[sitNum];\r\n                wallPoint.y = index%2 == 0 ? initPoint.y - 20 : initPoint.y;\r\n            break;\r\n\r\n            case 3 : \r\n                wallPoint.x = index%2 == 0 ? (initPoint.x) - Math.floor(index/2)*1 : (initPoint.x - 15) - Math.floor(index/2)*1;\r\n                wallPoint.y = index%2 == 0 ? initPoint.y - Math.floor(index/2)*(CardHelpManager.ins.wallCardHeight[sitNum] - 16) : initPoint.y - Math.floor(index/2)*(CardHelpManager.ins.wallCardHeight[sitNum] - 16) + 16;\r\n            break;\r\n        }\r\n        return wallPoint;\r\n    }\r\n    /***/\r\n    private getZhuangSit(index:number):number{\r\n        return (GameInfo.ins.nowBookMakerSit - UserInfo.ins.mySitIndex - index + 16)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n    }\r\n    /***/\r\n    private showZhuangAction(){\r\n        for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n            if(this.playerHeadArr[i].sitInfo.sitNum == GameInfo.ins.nowBookMakerSit){\r\n                this.playerHeadArr[i].showZhuang(true);\r\n            }\r\n        }\r\n    }\r\n    /***/\r\n\tprivate onPlayerReady(e,data:Msg_SC_Ready){\r\n\t\tfor(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n\t\t\tif(this.playerHeadArr[i].sitInfo && this.playerHeadArr[i].sitInfo.sitNum == data.okSit){\r\n\t\t\t\tthis.playerHeadArr[i].showIsReady(true);\r\n\t\t\t}\r\n\t\t}\r\n        if(data.okSit == UserInfo.ins.mySitIndex){\r\n            this.showReadyBtn(false);\r\n        }\r\n\t}\r\n    /***/\r\n    private onNewSit(e,data:Msg_SC_OneSit){\r\n        cc.tween(this.node).delay(0.5).call(()=>{\r\n            this.playerHeadArr[data.newSit.sitNum].sitInfo = data.newSit;\r\n            if(UserInfo.ins.isSelf(data.newSit.player.gpid)){\r\n                this.myInitSit = data.newSit.sitNum;\r\n                this.myInitSitIndex = data.newSit.sitNum;\r\n                let now:number=0;\r\n                let index:number=0;\r\n                for(let i = data.newSit.sitNum ; i < data.newSit.sitNum+4 ; i++){\r\n                    now = (i + 40)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n                    let v2 : cc.Vec2 = this.playerPointArr[index];\r\n                    cc.tween(this.playerHeadArr[now].node).to(TimeAndMoveManager.ins.newPlayerSitMcTime , {x:v2.x + 10,y:v2.y + 10}).call(()=>{\r\n                        /***/\r\n                        if(this.playerHeadArr[data.newSit.sitNum].sitInfo.onReady){\r\n                            this.showReadyBtn(false);\r\n                        }else{\r\n                            this.showReadyBtn(true);\r\n                        }\r\n                        this.playerHeadArr[data.newSit.sitNum].showUiPoint();\r\n\r\n                        if(Global.Utils.getlocalStorageItem('init_ready_x') == \"1\"){\r\n                            this.onReadyClick(null , null);\r\n                            this.showReadyBtn(false);\r\n                        }\r\n                    })\r\n                    .start()\r\n                    index++;\r\n                }\r\n                for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n                    if(this.playerHeadArr[i].playerInfo == null){\r\n                        this.playerHeadArr[i].showNone();\r\n                    }\r\n                }\r\n            }\r\n        },this).start();\r\n\t\t\r\n    }\r\n\r\n    /***/\r\n    showReadyBtn(boo:boolean){\r\n        this.readyBtn.node.active = boo;\r\n    }\r\n    /***/\r\n    showDiceBtn(boo:boolean){\r\n        this.gameDiceBtn.node.active = boo;\r\n        if(boo){\r\n            let index:number = 0;\r\n            this.schedule(()=>{\r\n                let now:number = 3-index;\r\n                this.rollDiceLabel.string = \" (\"+now+\"S)\";\r\n                if(index == 3){\r\n                    let msg:Msg_CS_DoDice = new Msg_CS_DoDice();\r\n                    Global.mgr.socketMgr.send(-1,msg);\r\n                    this.onGameDiceClick(null , null);\r\n                }\r\n                index++;\r\n            } , 1 , 3 , 0);\r\n        }\r\n    }\r\n\r\n    /***/\r\n    showBeginImage(isBegin:boolean){\r\n        if(isBegin){\r\n            Global.Utils.setNewImageToSprite(this.gameBeginImage , \"comResource/font/game_duijukaishi\" , ()=>{\r\n                this.showBeginImageAction();\r\n            });\r\n        }else{\r\n            Global.Utils.setNewImageToSprite(this.gameBeginImage , \"comResource/font/game_duijujieshu\" , ()=>{\r\n                this.showBeginImageAction();\r\n            });\r\n        }\r\n    }\r\n    /***/\r\n    showBeginImageAction(){\r\n        cc.tween(this.gameBeginImage.node).to(0.2 , {opacity : 255 , scaleX : 1 , scaleY : 1}).call(()=>{\r\n            this.schedule(()=>{\r\n                this.gameBeginImage.node.opacity = 0;\r\n                this.gameBeginImage.node.scaleX = 0;\r\n                this.gameBeginImage.node.scaleY = 0;\r\n            } , 2 , 1 , 0);\r\n        }).start();\r\n    }\r\n    //---------------------------------------------------UI  event-----------------------------------------------\r\n    /****/\r\n    onReadyClick(event, param){\r\n        Global.Utils.debugOutput(\"MajiongTablePanel ==> \")\r\n        let msg : Msg_CS_Ready = new Msg_CS_Ready();\r\n\t\tGlobal.mgr.socketMgr.send(-1,msg);\r\n    }\r\n    /***/\r\n    onGameDiceClick(event, param){\r\n        if(GameInfo.ins.nowGameStatus == PlayStauteEnum.CheckBookMaker){\r\n            let msg:Msg_CS_DoDice = new Msg_CS_DoDice();\r\n            Global.mgr.socketMgr.send(-1,msg);\r\n            this.showDiceBtn(false);\r\n        }else if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ChangeChar){\r\n            let msg : Msg_CS_PressDice = new Msg_CS_PressDice();\r\n            Global.mgr.socketMgr.send(-1,msg);\r\n            this.showDiceBtn(false);\r\n        }else if(GameInfo.ins.nowGameStatus == PlayStauteEnum.ThrowFrist){\r\n            let msg:Msg_CS_DoDice = new Msg_CS_DoDice();\r\n            Global.mgr.socketMgr.send(-1,msg);\r\n            this.showDiceBtn(false);\r\n        }\r\n    }\r\n    private removeEevnt(){\r\n        Global.EventCenter.removeEventListener(EventType.NEW_ONE_SIT , this.onNewSit , this);\r\n    }\r\n\r\n    private changeThreeItem:ChangeThreeItem;\r\n    /****/\r\n    onChangeThreeBtnClick(){\r\n        if(this.changeThreeItem){\r\n            this.changeThreeItem.disTory();\r\n            this.changeThreeItem = null;\r\n        }else{\r\n            this.changeThreeItem = cc.instantiate(Global.Utils.getPreFabBySource(\"changeThree/prefab/ChangeThreeItem\")).getComponent(ChangeThreeItem);\r\n            this.node.addChild(this.changeThreeItem.node);\r\n            this.changeThreeItem.node.x = -560;\r\n            this.changeThreeItem.node.y = -325;\r\n        }\r\n    }\r\n    onGameinfoQuestionClic(){\r\n\r\n    }\r\n    onGameListBtnClick(){\r\n\r\n    }\r\n    onGameMenuBtnClick(){\r\n\r\n    }\r\n    onGameHorseBtnClick(){\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    private showChangThreeBtn(boo:boolean){\r\n        this.changeThreeBtn.node.active = boo;\r\n    }\r\n\r\n    public onNewGame(){\r\n        this.canGetHands = false;\r\n        this.getCardPoint = 0;\r\n        this.getCardBegin = 0;\r\n        this.nowGetHandPlayerNum = 0;\r\n        this.addHandPanelNum = 0;\r\n        for(let i = 0 ; i < this.handPanelArr.length ; i++){\r\n            this.handPanelArr[i].disTory();\r\n        }\r\n\r\n        for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n            this.playerHeadArr[i].showFen();\r\n        }\r\n\r\n        if(this.gamePositionItem){\r\n            this.gamePositionItem.InitPlayerDicType(0 , GameInfo.ins.AllCardMax);\r\n        }\r\n\r\n        for(let i = 0 ; i < this.playerHeadArr.length ; i++){\r\n            this.playerHeadArr[i].showDingQue(CardTypeEnum.EndValue);\r\n            this.playerHeadArr[i].isMyAction = false;\r\n            this.playerHeadArr[i].isPiao = false;\r\n        }\r\n        this.showWallMajiong();\r\n        this.baoziImage.node.active = false;\r\n        this.fightImage.node.active = false;\r\n        cc.Tween.stopAllByTarget(this.fightImage.node);\r\n    }\r\n\r\n    onRecordBtnClick(){\r\n        Global.DialogManager.createDialog(\"gameRecord/prefab/GameRecordPannel\",null,(any,dialog)=>{\r\n            dialog.y=0;\r\n        })\r\n    }\r\n\r\n\r\n    public desTory(){\r\n        this.removeEevnt();\r\n    }\r\n\r\n    \r\n}\r\n"]}