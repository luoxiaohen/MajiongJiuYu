{"version":3,"sources":["assets\\Script\\MainManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { PlayStauteEnum } from \"./enum/EnumManager\";\r\nimport EventCenter from \"./event/EventCenter\";\r\nimport EventType from \"./event/EventType\";\r\nimport GameInfo from \"./Game/info/GameInfo\";\r\nimport UserInfo from \"./Game/info/UserInfo\";\r\nimport { Msg_SC_AccErrRlst, Msg_SC_TokenInfo } from \"./proto/AccountMsg\";\r\nimport { Msg_SC_InviteTable, Msg_SC_LobbyInfo, Msg_SC_LobErrRlst, Msg_SC_PlayerInfo, Msg_SC_RspDeletRoomRuleTemplate, Msg_SC_RspGetRoomRuleTemplate, Msg_SC_RspSaveRoomRuleTemplate } from \"./proto/LobbyMsg\";\r\nimport { TableRuleTempl } from \"./proto/LobbyMsgDef\";\r\nimport { Msg_SC_BeginDiceMsg, Msg_SC_BuGanging, Msg_SC_Change3Maj, Msg_SC_DiceRslt, Msg_SC_DownMajMsg, Msg_SC_GameOverMsg, Msg_SC_GameResultMsg, Msg_SC_GangSelfMsg, Msg_SC_GetMajMsg, Msg_SC_HasHuGangMsg, Msg_SC_HuMajMsg, Msg_SC_OneSit, Msg_SC_PengMajMsg, Msg_SC_PoolsList, Msg_SC_PrDiceRslt, Msg_SC_QueRslt, Msg_SC_Ready, Msg_SC_RealScore, Msg_SC_RoomInfo, Msg_SC_ScoreListMsg, Msg_SC_SitOK, Msg_SC_SomeTurnMsg, Msg_SC_StartChange3, Msg_SC_StartDiceEast, Msg_SC_StartDiceGame, Msg_SC_StartDicePos, Msg_SC_StartDingQue, Msg_SC_StartGame, Msg_SC_TabErrRlst, Msg_SC_WaitDownMsg, Msg_SC_WaitYou, Msg_SC_You3Maj, Msg_SC_YouMajMsg } from \"./proto/TableMsg\"\r\nimport { SitQueInfo } from \"./proto/TableMsgDef\";\r\nimport { Global } from \"./Shared/GloBal\";\r\nimport CreateRoomHelper from \"./UI/createRoom/CreateRoomHelper\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport class MainManager{\r\n    private static _ins: MainManager;\r\n    public static get ins() {\r\n        return this._ins || (this._ins = new MainManager());\r\n    }\r\n\r\n    /**账号错误信息返回*/\r\n    public onRspAccError(data:string){\r\n        let msg: Msg_SC_AccErrRlst = JSON.parse(data);\r\n\t\tGlobal.Utils.debugOutput(\"收到账号错误信息:\",msg);\r\n    }\r\n    /**大厅错误信息返回*/\r\n\tpublic onRspLobbyError(data:string){\r\n\t\tlet msg: Msg_SC_LobErrRlst = JSON.parse(data);\r\n\t\tGlobal.Utils.debugOutput(\"收到大厅错误信息,msg.errCode:\" + msg.errCode , \"msg.strMsg:\" + msg.strMsg);\r\n\t}\r\n\t/**牌桌错误信息返回*/\r\n\tpublic onRspTabError(data:string){\r\n\t\tlet msg: Msg_SC_TabErrRlst = JSON.parse(data);\r\n\t\tGlobal.Utils.debugOutput(\"收到牌桌错误信息\",msg);\r\n\t}\r\n\t/**玩家登录成功*/\r\n\tpublic onTokenInfo(data : string){\r\n\t\tlet msg: Msg_SC_TokenInfo = JSON.parse(data);\r\n\t\tGlobal.Utils.debugOutput(\"我收到了登录成功\",data);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.LOGIN_OK);\r\n\t}\r\n\r\n    /**登录时候返回玩家信息*/\r\n\tpublic onRspPlayerInfo(data:string){\r\n\t\tlet msg: Msg_SC_PlayerInfo = JSON.parse(data);\r\n\t\tUserInfo.ins.myInfo = msg.info;\r\n\t\tGlobal.Utils.debugOutput(\"我收到了玩家信息\",data);\r\n\t}\r\n\t/**登录时候返回的大厅信息*/\r\n\tpublic onRspLobbyInfo(data:string){\r\n\t\tlet msg : Msg_SC_LobbyInfo = JSON.parse(data);\r\n\t\tGameInfo.ins.lobbyInfo = msg.info;\r\n\t\tGlobal.Utils.debugOutput(\"我收到了大厅信息\",data);\r\n\t}\r\n\r\n\t/**创建或者进入房间时候返回的房间信息*/\r\n\tpublic onRspRoomInfo(data:string){\r\n\t\tlet msg : Msg_SC_RoomInfo = JSON.parse(data);\r\n\t\tGameInfo.ins.roomTableInfo = msg.info;\r\n\t\tGameInfo.ins.gamePlayers = msg.players;\r\n\t\tUserInfo.ins.selfIsLookPlayer = true;\r\n\t\tGlobal.Utils.debugOutput(\"我收到了房间信息data:\",data , \"---msg：\",msg);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GET_NEW_ROOM_INFO , msg);\r\n\t\tGlobal.Utils.webCopyString(msg.info.code.toString())\r\n\r\n\t}\r\n\t/**成功坐下*/\r\n\tpublic onSitOK(data:string){\r\n\t\tlet msg : Msg_SC_SitOK = JSON.parse(data);\r\n\t\tUserInfo.ins.mySitIndex = msg.sit;\r\n\t\tconsole.log(\"我坐下了data:\",data , \"---msg：\",msg);\r\n\t\tUserInfo.ins.selfIsLookPlayer = false;\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.Stand;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GET_NEW_SIT_OK , msg);\r\n\t}\r\n\t/**有人入座*/\r\n\tpublic onOneSit(data:string){\r\n\t\tlet msg : Msg_SC_OneSit = JSON.parse(data);\r\n\t\tif(GameInfo.ins.gamePlayers.length == 0){\r\n\t\t\tGameInfo.ins.fristSitPlayer = msg;\r\n\t\t}\r\n\t\tGameInfo.ins.addNewSit(msg.newSit);\r\n\t\tconsole.log(\"收到了有玩家进入房间:\",data , \"---msg：\",msg);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.NEW_ONE_SIT , msg);\r\n\t}\r\n\t/**有人准备好了*/\r\n\tpublic onReady(data:string){\r\n\t\tlet msg : Msg_SC_Ready = JSON.parse(data);\r\n\t\tconsole.log(\"收到了有人准备好了:\",data , \"---msg：\",msg);\r\n\t\tif(msg.okSit == UserInfo.ins.mySitIndex){\r\n\t\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.Ready;\r\n\t\t}else{\r\n\t\t\tGameInfo.ins.setNewReady(msg.okSit);\r\n\t\t}\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.playerReady , msg);\r\n\t}\r\n\t/**全部准备完成后开始定庄*/\r\n\tpublic onStartDiceEast(data:string){\r\n\t\tlet msg : Msg_SC_StartDiceEast = JSON.parse(data);\r\n\t\tconsole.log(\"收到了开始定庄\",data , \"---msg：\",msg);\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.ThrowBookMaker;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.ThrowBookMaker , msg);\r\n\t}\r\n\t/**投掷骰子结果返回*/\r\n\tpublic onDiceRslt(data:string){\r\n\t\tlet msg : Msg_SC_DiceRslt = JSON.parse(data);\r\n\t\tconsole.log(\"收到了投掷骰子结果:\",data , \"---msg：\",msg);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.DiceRslt , msg);\r\n\t}\r\n\t/**开始定位*/\r\n\tpublic onStartDicePos(data:string){\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.ChangeChar;\r\n\t\tlet msg : Msg_SC_StartDicePos = JSON.parse(data);\r\n\t\tconsole.log(\"收到了开始定位\");\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.StartDicePos , msg);\r\n\t}\r\n\t/**个人定位骰子返回*/\r\n\tpublic onPrDiceRslt(data:string){\r\n\t\tlet msg:Msg_SC_PrDiceRslt = JSON.parse(data);\r\n\t\tconsole.log(\"收到了投掷个人骰子结果:\",data , \"---msg：\",msg);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.PrDiceRslt , msg);\r\n\r\n\t}\r\n\t/**刷新位置*/\r\n\tpublic onStartDiceGame(data:string){\r\n\t\tlet msg:Msg_SC_StartDiceGame  = JSON.parse(data);\r\n\t\tconsole.log(\"收到了矫座结果:\",data , \"---msg：\",msg);\r\n\t\tGameInfo.ins.setNewPlayers(msg.players);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.StartDiceGame , msg);\r\n\t}\r\n\t/**开始牌局  等待投掷摸牌先后顺序骰子*/\r\n\tpublic onBeginDiceMsg(data:string){\r\n\t\tlet msg:Msg_SC_BeginDiceMsg  = JSON.parse(data);\r\n\t\tconsole.log(\"收到了开始牌局 投掷骰子:\",data , \"---msg：\",msg);\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.ThrowFrist;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.BeginDiceMsg , msg);\r\n\r\n\t}\r\n\t/**开始发牌*/\r\n\tpublic onStartGame(data:string){\r\n\t\tlet msg:Msg_SC_StartGame = JSON.parse(data);\r\n\t\tconsole.log(\"收到了开始发牌\",data,\"---msg:\",msg)\r\n\t\tGameInfo.ins.nowGameCount = msg.startHands+1;\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.DrawHandCard;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.DrawHandCard , msg);\r\n\t}\r\n\t/**手牌到位*/\r\n\tpublic onYouMajMsg(data:string){\r\n\t\tlet msg:Msg_SC_YouMajMsg = JSON.parse(data);\r\n\t\tconsole.log(\"收到了自己的手牌\",data,\"---msg:\",msg)\r\n\t\tUserInfo.ins.myHandCardArr = msg.lstMajID;\r\n\t\tGameInfo.ins.remPoolsNum = GameInfo.ins.AllCardMax - 4*13 - 1 ;\r\n\t\t//TODO  买马结束后需要刷新一次买马数据还需要减一\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.YouMajMsg , msg);\r\n\t}\r\n\t/**服务器通知定缺*/\r\n\tpublic onStartDingQue(data:string){\r\n\t\tlet msg:Msg_SC_StartDingQue = JSON.parse(data);\r\n\t\tconsole.log(\"收到了开始定缺\",data,\"---msg:\",msg)\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.CheckDice;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.StartDingQue , msg);\r\n\t}\r\n\t/**定缺结果*/\r\n\tpublic onQueRslt(data:string){\r\n\t\tlet msg:Msg_SC_QueRslt = JSON.parse(data);\r\n\t\tconsole.log(\"收到了定缺结果\",data,\"---msg:\",msg)\r\n\t\tfor(let i = 0 ; i < msg.infos.length ; i++){\r\n\t\t\tlet info : SitQueInfo = msg.infos[i];\r\n\t\t\tif(info.sitNum == UserInfo.ins.mySitIndex){\r\n\t\t\t\tUserInfo.ins.myDiceType = info.wtt;\r\n\t\t\t}\r\n\t\t}\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.QueRslt , msg);\r\n\t}\r\n\t/**轮到某个人出牌*/\r\n\tpublic onWaitDownMsg(data:string){\r\n\t\tlet msg:Msg_SC_WaitDownMsg = JSON.parse(data);\r\n\t\tconsole.log(\"收到了某人轮次\",data,\"---msg:\",msg);\r\n\t\tGameInfo.ins.nowActionSit = msg.siteNum;\r\n\t\tif(msg.siteNum == UserInfo.ins.mySitIndex){\r\n\t\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.PlayCard;\r\n\t\t}else{\r\n\t\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.WaitOperate;\r\n\t\t}\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.WaitDownMsg , msg);\r\n\t}\r\n\t/**服务器广播某人出牌*/\r\n\tpublic onDownMajMsg(data:string){\r\n\t\tlet msg:Msg_SC_DownMajMsg = JSON.parse(data);\r\n\t\tGameInfo.ins.LastIsGang = false;\r\n\t\tconsole.log(\"服务器广播某人出牌\",data,\"---msg:\",msg);\r\n\t\tUserInfo.ins.otherLastOutCard = msg.majID;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.DownMajMsg , msg);\r\n\t\tGlobal.Utils.playSound(\"sound/2\");\r\n\t\tlet source:string = \"sound/0_\" + GameInfo.ins.lauType + \"_\"+GameInfo.ins.sexType+\"_\"+Math.floor(msg.majID/10)+\"_\" + msg.majID%10 + \"_1\";\r\n\t\tconsole.log(\"出牌音效=\"+source)\r\n\t\tGlobal.Utils.playSound(source);\r\n\t}\r\n\t/**广播某人摸牌*/\r\n\tpublic onSomeTurnMsg(data:string){\r\n\t\tlet msg:Msg_SC_SomeTurnMsg = JSON.parse(data);\r\n\t\tconsole.log(\"收到了某人摸牌\",data,\"---msg:\",msg);\r\n\t\tGameInfo.ins.remPoolsNum = msg.remPoolsNum;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.OtherDrawCard , msg);\r\n\t}\r\n\t/**我自己的摸牌*/\r\n\tpublic onGetMajMsg(data:string){\r\n\t\tlet msg:Msg_SC_GetMajMsg = JSON.parse(data);\r\n\t\tconsole.log(\"收到了自己的摸牌\",data,\"---msg:\",msg)\r\n\t\tUserInfo.ins.myLastFeelCard = msg.majID;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GetMajMsg , msg);\r\n\t}\r\n\t/**别人出牌触发胡碰杠*/\r\n\tpublic onWaitYou(data:string){\r\n\t\tlet msg:Msg_SC_WaitYou = JSON.parse(data);\r\n\t\tconsole.log(\"收到了别人出牌我可以胡碰杠,需要等待我做出处理\",data,\"---msg:\",msg)\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.WaitYou , msg);\r\n\t}\r\n\t/**服务器广播某人碰杠*/\r\n\tpublic onPengMajMsg(data:string){\r\n\t\tlet msg:Msg_SC_PengMajMsg = JSON.parse(data);\r\n\t\tconsole.log(\"服务器广播某人碰杠\",data,\"---msg:\",msg)\r\n\t\tif(msg.isGang){\r\n\t\t\tGameInfo.ins.LastIsGang = true;\r\n\t\t}\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.PengMajMsg , msg);\r\n\t\tlet source:string = \"sound/0_\" + GameInfo.ins.lauType + \"_\"+GameInfo.ins.sexType+\"_\"+(msg.isGang ? 5 : 4 ) + \"_1\";\r\n\t\tconsole.log(\"碰杠音效=\"+source)\r\n\t\tGlobal.Utils.playSound(source);\r\n\t}\r\n\t/**服务器广播自己杠*/\r\n\tpublic onGangSelfMsg(data:string){\r\n\t\tlet msg:Msg_SC_GangSelfMsg = JSON.parse(data);\r\n\t\tconsole.log(\"服务器广播自己杠\",data,\"---msg:\",msg)\r\n\t\tGameInfo.ins.LastIsGang = true;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GangSelfMsg , msg);\r\n\t\tlet source:string = \"sound/0_\" + GameInfo.ins.lauType + \"_\"+GameInfo.ins.sexType+\"_5\" + \"_1\";\r\n\t\tconsole.log(\"杠音效=\"+source)\r\n\t\tGlobal.Utils.playSound(source);\r\n\t}\r\n\t/**服务器告知抢杠*/\r\n\tpublic onHasHuGangMsg(data:string){\r\n\t\tlet msg:Msg_SC_HasHuGangMsg = JSON.parse(data);\r\n\t\tconsole.log(\"服务器通知有人抢杠\",data,\"---msg:\",msg)\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.HasHuGangMsg , msg);\r\n\t}\r\n\t/**有人要补杠*/\r\n\tpublic onBuGanging(data:string){\r\n\t\tlet msg:Msg_SC_BuGanging = JSON.parse(data);\r\n\t\tconsole.log(\"收到了补杠:\",data , \"---msg：\",msg);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.BuGanging , msg);\r\n\t}\r\n\r\n\t/**服务器通知胡牌*/\r\n\tpublic onHuMajMsg(data:string){\r\n\t\tlet msg:Msg_SC_HuMajMsg = JSON.parse(data);\r\n\t\tconsole.log(\"服务器通知有人胡牌\",data,\"---msg:\",msg)\r\n\t\tGameInfo.ins.hupaiArr[msg.huSit] = msg.majID;\r\n\t\tif(msg.huSit == UserInfo.ins.mySitIndex){\r\n\t\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.HuCard;\r\n\t\t}\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.HuMajMsg , msg);\r\n\t\tGlobal.Utils.playSound(\"sound/3\");\r\n\t}\r\n\t/**一轮游戏结束*/\r\n\tpublic onGameResultMsg(data:string){\r\n\t\tlet msg:Msg_SC_GameResultMsg = JSON.parse(data);\r\n\t\tconsole.log(\"收到了一轮游戏结束:\",data , \"---msg：\",msg);\r\n\t\tGameInfo.ins.gameResultMsg = msg;\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.SmallGameSettlement;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GameResultMsg , msg);\r\n\t}\r\n\t/**一轮游戏结束积分*/\r\n\tpublic onScoreListMsg(data:string){\r\n\t\tlet msg:Msg_SC_ScoreListMsg = JSON.parse(data);\r\n\t\tconsole.log(\"收到了一轮游戏结束积分:\",data , \"---msg：\",msg);\r\n\t\tGameInfo.ins.scoreListMsg = msg;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.ScoreListMsg , msg);\r\n\t}\r\n\t/**实时积分消息*/\r\n\tpublic onRealScore(data:string){\r\n\t\tlet msg:Msg_SC_RealScore = JSON.parse(data);\r\n\t\tconsole.log(\"收到了实时积分消息:\",data , \"---msg：\",msg);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.RealScore , msg);\r\n\t}\r\n\r\n\tpublic onIniveTableMsg(data:string){\r\n\t\tlet msg:Msg_SC_InviteTable=JSON.parse(data);\r\n\t\tconsole.log(\"收到了玩家邀请信息：  \",data,\"---msg:  \",msg);\r\n\t\tGameInfo.ins.gameInviteData=msg;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GameInviteMsg, msg);\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t/**房间模板信息返回*/\r\n\tpublic onGetRoomRuleTemplate(data:string){\r\n\t\tlet msg : Msg_SC_RspGetRoomRuleTemplate = JSON.parse(data);\r\n\t\tif(!msg.ruleInfoArr){\r\n\t\t\tmsg.ruleInfoArr = [];\r\n\t\t}\r\n\t\tCreateRoomHelper.ins.setCreateRoomRuleArr(msg.ruleInfoArr);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.RspGetRoomRuleTemplate , msg);\r\n\t}\r\n\t/**保存房间模板返回*/\r\n\tpublic onSaveRoomRuleTemplate(data:string){\r\n\t\tlet msg : Msg_SC_RspSaveRoomRuleTemplate = JSON.parse(data);\r\n\t\tlet temp : TableRuleTempl = CreateRoomHelper.ins.lastSaveTemplate;\r\n\t\ttemp.templId = msg.tempId;\r\n\t\tCreateRoomHelper.ins.addTemplToRuleArr(temp);\r\n\t\tGlobal.Utils.dialogOutput(\"保存成功\");\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.SaveRoomRuleTemplate , msg);\r\n\t}\r\n\t/**删除房间模板*/\r\n\tpublic onRspDeletRoomRuleTemplate(data:string){\r\n\t\tlet msg : Msg_SC_RspDeletRoomRuleTemplate = JSON.parse(data);\r\n\t\tCreateRoomHelper.ins.removeTempByRuleArr(msg.tempId);\r\n\t\tGlobal.Utils.dialogOutput(\"删除成功\");\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.RspDeletRoomRuleTemplate , msg);\r\n\t}\r\n\r\n\t/**剩余牌墙信息*/\r\n\tpublic onPoolsList(data:string){\r\n\t\tlet msg:Msg_SC_PoolsList = JSON.parse(data);\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.PoolsList , msg);\r\n\t}\r\n\r\n\t/**游戏结束大结算数据 */\r\n\tpublic onGameOver(data:string){\r\n\t\tlet msg:Msg_SC_GameOverMsg=JSON.parse(data);\r\n\t\tconsole.log(\"收到大结算数据: \",data,\"---msg\",msg);\r\n\t\tGameInfo.ins.gameOverData=msg;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.GameOverMsg , msg);\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\t/**服务器通知换三张*/\r\n\tpublic onStartChange3(data:string){\r\n\t\tlet msg:Msg_SC_StartChange3 = JSON.parse(data);\r\n\t\tconsole.log(\"收到了开始换三张\",data,\"---msg:\",msg)\r\n\t\tGameInfo.ins.nowGameStatus = PlayStauteEnum.ChangeThree;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.ChangeThree , msg);\r\n\t}\r\n\t/**换三张状态改变*/\r\n\tpublic onChange3Maj(data:string){\r\n\t\tlet msg:Msg_SC_Change3Maj = JSON.parse(data);\r\n\t\tconsole.log(\"收到了换三张状态改变\",data,\"---msg:\",msg)\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.Change3Maj , msg);\r\n\t}\r\n\t/**换三张结果出现*/\r\n\tpublic onYou3Maj(data:string){\r\n\t\tlet msg:Msg_SC_You3Maj = JSON.parse(data);\r\n\t\tif(msg.baozi == 2){\r\n\t\t\tGameInfo.ins.isShuangbao = true;\r\n\t\t}else if(msg.baozi == 1){\r\n\t\t\tGameInfo.ins.isBaozi = true;\r\n\t\t}\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.ShowBaoziFight);\r\n\t\tconsole.log(\"收到换三张结果\",data,\"---msg:\",msg)\r\n\t\tGameInfo.ins.myYou3MajData = msg;\r\n\t\tGlobal.EventCenter.dispatchEvent(EventType.You3Maj , msg);\r\n\t}\r\n}\r\n"]}