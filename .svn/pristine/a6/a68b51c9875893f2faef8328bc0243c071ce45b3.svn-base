{"version":3,"sources":["assets\\Script\\Shared\\Utils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { CardTypeEnum, EatCardEnum, GameRuleTypeEnum } from \"../enum/EnumManager\";\r\nimport GameInfo from \"../Game/info/GameInfo\";\r\nimport UserInfo from \"../Game/info/UserInfo\";\r\nimport TimeAndMoveManager from \"../mgr/TimeAndMoveManager\";\r\nimport { GamePiaoTypeEnum, GamePlayTypeEnum, GameRoomTypeEnum, TableRuleInfo } from \"../proto/LobbyMsgDef\";\r\nimport { RoomTableInfo } from \"../proto/TableMsgDef\";\r\nimport MajiongHandCard from \"../UI/card/MajiongHandCard\";\r\nimport CreateRoomHelper, { GameOenRoomUseEnum } from \"../UI/createRoom/CreateRoomHelper\";\r\nimport { MajCardLight } from \"../utils/InterfaceHelp\";\r\nimport { Global } from \"./GloBal\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Utils{\r\n    private static _ins: Utils;\r\n    public static get ins() {\r\n        return this._ins || (this._ins = new Utils());\r\n    }\r\n\r\n    /**调试统一输入路劲,方便后期屏蔽*/\r\n    debugOutput(...data:any[]){\r\n        let str:string = data.length > 1 ? \"\" : data[0];\r\n        if(str == \"\"){\r\n            for(let i = 0 ; i < data.length ; i++){\r\n                str += data[i];\r\n            }\r\n        }\r\n        console.log(str);\r\n    }\r\n    /**输出对象*/\r\n    debugObj(str:string , obj:any){\r\n        console.log(str);\r\n        for(let key in obj){\r\n            console.log(key + \"=\" + obj[key]);\r\n        }\r\n    }\r\n    /**暂时的弹窗或者提示类输出,后续会调用相对一的提示提示接口*/\r\n    dialogOutput(data){\r\n        console.log(data);\r\n        //TODO   调用提示对应接口\r\n    }\r\n    /**获取时间日期格式*/\r\n    getDataFormat(data:Date):any{\r\n        let format;\r\n        var date = {\r\n            \"M+\": data.getMonth() + 1,\r\n            \"d+\": data.getDate(),\r\n            \"h+\": data.getHours(),\r\n            \"m+\": data.getMinutes(),\r\n            \"s+\": data.getSeconds(),\r\n            \"q+\": Math.floor((data.getMonth() + 3) / 3),\r\n            \"S+\": data.getMilliseconds()\r\n        };\r\n        if (/(y+)/i.test(format)) {\r\n            format = format.replace(RegExp.$1, (data.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n        }\r\n        for (var k in date) {\r\n            if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                format = format.replace(RegExp.$1, RegExp.$1.length === 1\r\n                    ? date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    getPreFabBySource (source : string , type:any = cc.Prefab) : any{\r\n        return cc.resources.get(source , type);\r\n    }\r\n    /*克隆**/\r\n    clone(origin) {\r\n        if (!origin) {\r\n            return;\r\n        }\r\n\r\n        var obj = {};\r\n        for (var f in origin) {\r\n            if (origin.hasOwnProperty(f)) {\r\n                obj[f] = origin[f];\r\n            }\r\n        }\r\n        return obj;\r\n    };\r\n    /**克隆数组*/\r\n    cloneArr(arr:Array<any>):Array<any>{\r\n        let newArr:Array<any> = [];\r\n        for(let i = 0 ; i < arr.length ; i++){\r\n            newArr[i] = arr[i];\r\n        }\r\n        return newArr;\r\n    }\r\n    /**长度*/\r\n    size(obj) {\r\n        if (!obj) {\r\n            return 0;\r\n        }\r\n\r\n        var size = 0;\r\n        for (var f in obj) {\r\n            if (obj.hasOwnProperty(f)) {\r\n                size++;\r\n            }\r\n        }\r\n\r\n        return size;\r\n    };\r\n    /***长度*/\r\n    getLength(obj) {\r\n        var total = 0;\r\n        for (var k in obj) {\r\n            total++;\r\n        }\r\n        return total;\r\n    }\r\n\r\n    /**空对象*/\r\n    isEmptyObject(obj) {\r\n        for (var name in obj) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    /**格式*/\r\n    isPositiveInteger(num) {\r\n        var r = /^[1-9][0-9]*$/;\r\n        return r.test(num);\r\n    };\r\n    /**IP转换*/\r\n    ipToInt(ip) {\r\n        var parts = ip.split(\".\");\r\n\r\n        if (parts.length != 4) {\r\n            return 0;\r\n        }\r\n        return (parseInt(parts[0], 10) << 24\r\n            | parseInt(parts[1], 10) << 16\r\n            | parseInt(parts[2], 10) << 8\r\n            | parseInt(parts[3], 10)) >>> 0;\r\n    };\r\n    /**基础随机*/\r\n    getRandomNum(Min, Max) {\r\n        var Range = Max - Min;\r\n        var Rand = Math.random();\r\n        return (Min + Math.round(Rand * Range));\r\n    };\r\n    /**转换*/\r\n    userId2Number(userId) {\r\n        var hash = 5381,\r\n            i = userId.length;\r\n\r\n        while (i)\r\n            hash = (hash * 33) ^ userId.charCodeAt(--i);\r\n\r\n        /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\r\n         * integers. Since we want the results to be always positive, convert the\r\n         * signed int to an unsigned by doing an unsigned bitshift. */\r\n        return Number(hash >>> 0);\r\n    };\r\n\r\n    /**时间转换*/\r\n    DAY_MS = 24 * 60 * 60 * 1000;\r\n    getIntervalDay(time1, time2) {\r\n        return Math.abs((Math.floor(time1 / this.DAY_MS) - Math.floor(time2 / this.DAY_MS)));\r\n    };\r\n\r\n    /**使数字保留count个小数位*/\r\n    numToFixed(number, count) {\r\n        var count_ = count || 2;\r\n        return parseFloat(parseFloat(number).toFixed(count_));\r\n    };\r\n\r\n    /**生成随机字符串*/\r\n    randomString(len) {\r\n        len = len || 16;\r\n        var chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n        var maxPos = chars.length;\r\n        var pwd = '';\r\n        for (let i = 0; i < len; i++) {\r\n            pwd += chars.charAt(Math.floor(Math.random() * maxPos));\r\n        }\r\n        return pwd;\r\n    };\r\n    /**获取单位向量*/ \r\n    getUnitVector(startPoint, endPoint) {\r\n        let point = cc.v2(0, 0);\r\n        let distance;\r\n        distance = Math.pow((startPoint.x - endPoint.x), 2) + Math.pow((startPoint.y - endPoint.y), 2);\r\n        distance = Math.sqrt(distance);\r\n        if (distance === 0) return point;\r\n        point.x = (endPoint.x - startPoint.x) / distance;\r\n        point.y = (endPoint.y - startPoint.y) / distance;\r\n        return point;\r\n    };\r\n    /**修改图片*/\r\n    setNewImageToSprite(sprite : cc.Sprite , url:string ,cb = null){\r\n        cc.loader.loadRes(url , cc.SpriteFrame , null , (err , res)=>{\r\n            if(err){\r\n                console.error(\"image err\" + err)\r\n            }\r\n            sprite.spriteFrame = res;\r\n            if(cb){\r\n                Utils.ins.invokeCallback(cb);\r\n            }\r\n        })\r\n    }\r\n    /***通过游戏类型获取最大游戏人数*/\r\n    getMaxPlayerByGameType(roomType:GameRoomTypeEnum):number{\r\n        switch(roomType){\r\n            case GameRoomTypeEnum.SiRenSanFang:\r\n                return 4;\r\n            case GameRoomTypeEnum.SiRenLiangFang:\r\n                return 4;\r\n            case GameRoomTypeEnum.SanRenLiangFang:\r\n                return 3;\r\n            case GameRoomTypeEnum.LiangRenMaJiang:\r\n                return 2;\r\n                \r\n        }\r\n    }\r\n    /***通过游戏类型获取最大麻将张数*/\r\n    getMaxMajiongByGameType(roomType:GameRoomTypeEnum):number{\r\n        switch(roomType){\r\n            case GameRoomTypeEnum.SiRenSanFang:\r\n                return 108;\r\n            case GameRoomTypeEnum.SiRenLiangFang:\r\n                return 72;\r\n            case GameRoomTypeEnum.SanRenLiangFang:\r\n                return 72;\r\n            case GameRoomTypeEnum.LiangRenMaJiang:\r\n                return 72;\r\n        }\r\n    }\r\n    /***通过游戏类型获取最大牌墙的基础排列*/\r\n    getMajiongWallByGameType(roomType:GameRoomTypeEnum):Array<number>{\r\n        switch(roomType){\r\n            case GameRoomTypeEnum.SiRenSanFang:\r\n                return [28,26,28,26];\r\n            case GameRoomTypeEnum.SiRenLiangFang:\r\n                return [];\r\n            case GameRoomTypeEnum.SanRenLiangFang:\r\n                return [];\r\n            case GameRoomTypeEnum.LiangRenMaJiang:\r\n                return [];\r\n        }\r\n    }\r\n     /***通过游戏类型获取游戏名字*/\r\n     getGameNameByGameType(roomType:GamePlayTypeEnum):string{\r\n        switch(roomType){\r\n            case GamePlayTypeEnum.HuanSanZhang:\r\n                return \"换三张\";\r\n            case GamePlayTypeEnum.XueZhanDaoDi:\r\n                return \"血战到底\";\r\n        }\r\n    }\r\n     /***通过游戏类型获取游戏名字*/\r\n     getGameTypeNameByGameType(roomType:GameRoomTypeEnum):string{\r\n        switch(roomType){\r\n            case GameRoomTypeEnum.SiRenSanFang:\r\n                return \"四人三房\";\r\n            case GameRoomTypeEnum.SiRenLiangFang:\r\n                return \"四人两房\";\r\n            case GameRoomTypeEnum.SanRenLiangFang:\r\n                return \"三人两房\";\r\n            case GameRoomTypeEnum.LiangRenMaJiang:\r\n                return \"两人两房\";\r\n                \r\n        }\r\n    }\r\n    /**\r\n     * 创建一个预制体对象\r\n     * @param file 路径\r\n     * @param parent 父对象\r\n     * @param parm : 参数\r\n     * @param point : 位置\r\n     * @param cb 回调\r\n    */\r\n    createObjToNode(file : string , parent:cc.Node , parm : any , point : cc.Vec2 = cc.v2(0,0) , cb = null){\r\n        console.log(\"Utils ==> createObjToNode , file:\" , file)\r\n        let arr = file.split('/');\r\n        let dialogType = arr[arr.length - 1];\r\n        cc.loader.loadRes(file, function (err, data) {\r\n            if (!!err) {\r\n                cc.error(err);\r\n                Utils.ins.invokeCallback(cb, err);\r\n            }\r\n            else {\r\n                let createObj = cc.instantiate(data);\r\n                createObj.getComponent(dialogType).dialogParameters = parm;\r\n                createObj.getComponent(dialogType).isDestroy = false;\r\n                createObj.parent = parent;\r\n                createObj.x = point.x;\r\n                createObj.y = point.y;\r\n                Utils.ins.invokeCallback(cb, null, createObj);\r\n            }\r\n        }.bind(this));\r\n    }\r\n    /** 截取英文字符的长度*/\r\n    getStringByRealLength(str, length) {\r\n        let realLength = 0;\r\n        for (let i = 0; i < str.length; ++i) {\r\n            let count = str.charCodeAt(i);\r\n            if (count >= 0 && count <= 128) {\r\n                ++realLength;\r\n            } else {\r\n                realLength += 2;\r\n            }\r\n            if (realLength >= length) {\r\n                break;\r\n            }\r\n        }\r\n        return str.substring(0, realLength + 1);\r\n    };\r\n    /**获得从m中取n的所有组合*/\r\n    getCombinationFlagArrs(m, n) {\r\n        if (!n || n < 1 || m < n) {\r\n            return [];\r\n        }\r\n        if (m === n) {\r\n            return [[1, 1]];\r\n        }\r\n        let resultArrs = [],\r\n            flagArr = [],\r\n            isEnd = false,\r\n            i, j, leftCnt;\r\n\r\n        for (i = 0; i < m; i++) {\r\n            flagArr[i] = i < n ? 1 : 0;\r\n        }\r\n\r\n        resultArrs.push(flagArr.concat());\r\n\r\n        while (!isEnd) {\r\n            leftCnt = 0;\r\n            for (i = 0; i < m - 1; i++) {\r\n                if (flagArr[i] === 1 && flagArr[i + 1] === 0) {\r\n                    for (j = 0; j < i; j++) {\r\n                        flagArr[j] = j < leftCnt ? 1 : 0;\r\n                    }\r\n                    flagArr[i] = 0;\r\n                    flagArr[i + 1] = 1;\r\n                    let aTmp = flagArr.concat();\r\n                    resultArrs.push(aTmp);\r\n                    if (aTmp.slice(-n).join(\"\").indexOf('0') === -1) {\r\n                        isEnd = true;\r\n                    }\r\n                    break;\r\n                }\r\n                flagArr[i] === 1 && leftCnt++;\r\n            }\r\n        }\r\n        return resultArrs;\r\n    };\r\n\r\n\r\n    stringFormat() {\r\n        if (arguments.length === 0)\r\n            return null;\r\n        let str = arguments[0];\r\n        for (let i = 1; i < arguments.length; i++) {\r\n            let re = new RegExp('\\\\{' + (i - 1) + '\\\\}', 'gm');\r\n            str = str.replace(re, arguments[i]);\r\n        }\r\n        return str;\r\n    };\r\n\r\n    getFileName(stack) {\r\n        return stack[1].getFileName();\r\n    }\r\n\r\n    getLineNumber(stack) {\r\n        return stack[1].getLineNumber();\r\n    }\r\n    /**\r\n     * Check and invoke callback function\r\n     */\r\n     invokeCallback(cb, ...agrs) {\r\n        if (!!cb && typeof cb === 'function') {\r\n            cb.apply(null, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n    };\r\n\r\n\r\n    getCardStrByValue(value:number):string{\r\n        let str:string = \"\";\r\n        let ten : number = Math.floor(value/10);\r\n        let one : number = value%10;\r\n        str = ten + \"_\" + one; \r\n        return str;\r\n    }\r\n\r\n    /**获取某一张牌是否是定缺牌*/\r\n    getIsDice(value :number , type:CardTypeEnum):boolean{\r\n        return Math.floor(value/10) == type;\r\n    }\r\n    compare(a,b){\r\n        if(a<b){\r\n            return -1;\r\n        }else if(a > b){\r\n            return 1;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n    compareV2(a:cc.Vec2,b:cc.Vec2){\r\n        if(a.x<b.x){\r\n            return -1;\r\n        }else if(a.x > b.x){\r\n            return 1;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n    compareX(a:MajiongHandCard,b:MajiongHandCard){\r\n        if(a.node.x<b.node.x){\r\n            return -1;\r\n        }else if(a.node.x>b.node.x){\r\n            return 1;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n    compareY(a:MajiongHandCard,b:MajiongHandCard){\r\n        if(a.node.y>b.node.y){\r\n            return -1;\r\n        }else if(a.node.y<b.node.y){\r\n            return 1;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n    compareLight(a:MajCardLight,b:MajCardLight){\r\n        if(a.cardLight<b.cardLight){\r\n            return -1;\r\n        }else if(a.cardLight>b.cardLight){\r\n            return 1;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n    compareValue(a:MajiongHandCard,b:MajiongHandCard){\r\n        if(a.cardValue<b.cardValue){\r\n            return -1;\r\n        }else if(a.cardValue>b.cardValue){\r\n            return 1;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n    getOutType(isGang : number,fromeNum : number , eatNum : number , isHave : boolean , haveEatType : EatCardEnum):EatCardEnum{\r\n        console.log(\"isGang=\"+isGang)\r\n        console.log(\"fromeNum=\"+fromeNum)\r\n        console.log(\"eatNum=\"+eatNum)\r\n        console.log(\"isHave=\"+isHave)\r\n        console.log(\"haveEatType=\"+haveEatType)\r\n        let num : number = (fromeNum - eatNum + 40)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType);\r\n        if(isHave){\r\n            if(haveEatType == EatCardEnum.EatUp){\r\n                return EatCardEnum.CrossAllUp;\r\n            }\r\n            if(haveEatType == EatCardEnum.EatDown){\r\n                return EatCardEnum.CrossAllDown;\r\n            }\r\n            if(haveEatType == EatCardEnum.EatOpposite){\r\n                return EatCardEnum.CrossAllOpp;\r\n            }\r\n        }\r\n        if(isGang == 0){\r\n            switch(num){\r\n                case 0:\r\n                    return EatCardEnum.EndValue;\r\n                case 1:\r\n                    return EatCardEnum.EatDown;\r\n                case 2:\r\n                    return EatCardEnum.EatOpposite;\r\n                case 3:\r\n                    return EatCardEnum.EatUp;\r\n            }\r\n        }else{\r\n            switch(num){\r\n                case 0:\r\n                    return EatCardEnum.CrossSelf;\r\n                case 1:\r\n                    return EatCardEnum.CrossDown;\r\n                case 2:\r\n                    return EatCardEnum.CrossOpposite;\r\n                case 3:\r\n                    return EatCardEnum.CrossUp;\r\n            }\r\n        }\r\n\r\n        return EatCardEnum.EndValue;\r\n    }\r\n\r\n    webCopyString(str: string, cb?: Function) {\r\n        var input = str + '';\r\n        const el = document.createElement('textarea');\r\n        el.value = input;\r\n        el.setAttribute('readonly', '');\r\n        el.style.position = 'absolute';\r\n        el.style.left = '-9999px';\r\n        el.style.fontSize = '12pt';\r\n        const selection = getSelection()!;\r\n        var originalRange = null;\r\n        if (selection.rangeCount > 0) {\r\n            originalRange = selection.getRangeAt(0);\r\n        }\r\n        document.body.appendChild(el);\r\n        el.select();\r\n        el.selectionStart = 0;\r\n        el.selectionEnd = input.length;\r\n \r\n        var success = false;\r\n        try {\r\n            success = document.execCommand('copy');\r\n        }\r\n        catch (err) {\r\n \r\n        }\r\n \r\n        document.body.removeChild(el);\r\n \r\n        if (originalRange) {\r\n            selection.removeAllRanges();\r\n            selection.addRange(originalRange);\r\n        }\r\n \r\n        cb && cb(success);\r\n        if (success) {\r\n            console.log(\"复制成功\");\r\n        }\r\n        else {\r\n            console.log(\"复制失败\");\r\n        }\r\n        return success;\r\n    }\r\n    public getMaJiangValue(id:number):string{\r\n        let mj:string = \"\";\r\n        let num : number = id %10 ;\r\n        let type:number = Math.floor(id / 10);\r\n        if(type == 0){\r\n            mj = num + \"万\";\r\n        }\r\n        else if(type == 1){\r\n            mj = num + \"条\";\r\n        }\r\n        else if(type == 2){\r\n            mj = num + \"筒\";\r\n        }\r\n        return mj;\t\r\n    }\r\n\r\n\r\n    showPanelAction(panel:cc.Node , point:cc.Vec2 , time:number=0){\r\n        cc.tween(panel).to(time ? time : TimeAndMoveManager.ins.showPanelTime , {x : point.x , y : point.y}).start();\r\n    }\r\n    hidePanelAction(panel:cc.Node, point:cc.Vec2 , callBack:Function , thisObj : any , time : number = 0){\r\n        cc.tween(panel).to(time ? time : TimeAndMoveManager.ins.showPanelTime , {x : point.x , y : point.y}).call(()=>{\r\n            callBack.bind(thisObj)();\r\n        }).start();\r\n    }\r\n    setGray(sprite : cc.Sprite , isAdd:boolean){\r\n        let meta = cc.Material.getBuiltinMaterial(\"builtin-2d-sprite\");\r\n        if(isAdd){\r\n            meta = cc.Material.getBuiltinMaterial(\"builtin-2d-gray-sprite\");\r\n        }\r\n        sprite.setMaterial(0 , meta);\r\n    }\r\n    showWait(){\r\n        \r\n    }\r\n    hideWait(){\r\n\r\n    }\r\n\r\n\r\n    playSound(resource:string ,isLoop:boolean=false, voice:number=1){\r\n        /**测试时候避免声音重复,所以目前只播放庄家相关的声音*/\r\n        if(UserInfo.ins.mySitIndex != GameInfo.ins.nowBookMakerSit){\r\n            return;\r\n        }\r\n        cc.loader.loadRes(resource, (err, clip)=>{\r\n            if (!!err) { } else {\r\n                cc.audioEngine.play(clip, isLoop, voice);\r\n            }\r\n        });\r\n    }\r\n    getSoundRandom():number{\r\n        let math:number = Math.random()*100;\r\n        return Math.floor(math/25) + 1\r\n    }\r\n\r\n    getNeedByRule(ruleInfo:TableRuleInfo):number{\r\n        let initUse : number = CreateRoomHelper.ins.openRoomUseGlod[GameOenRoomUseEnum.Base - 1].createPlayerUse;\r\n\t\tlet mut : number = ruleInfo.handsCnt/8;\r\n\t\tif(ruleInfo.baozi >= GamePiaoTypeEnum.ZhuangJiaBiPiao ){\r\n\t\t\tinitUse += CreateRoomHelper.ins.openRoomUseGlod[GameOenRoomUseEnum.Piao - 1].createPlayerUse;\r\n\t\t}\r\n\t\tif(ruleInfo.haveHorse > 0){\r\n\t\t\tinitUse += CreateRoomHelper.ins.openRoomUseGlod[GameOenRoomUseEnum.BuyHorse - 1].createPlayerUse;\r\n\t\t\tif(ruleInfo.isSelectBankerBuyHorse){\r\n\t\t\t\tinitUse += CreateRoomHelper.ins.openRoomUseGlod[GameOenRoomUseEnum.BankerBuyHorse - 1].createPlayerUse;\r\n\t\t\t}\r\n\t\t}\r\n        return initUse;\r\n    }\r\n\r\n    formNumToGivenStr(_str:string,_strArr:string[]):string{\r\n        let str=\"\";\r\n        for(let index=0;index<_strArr.length;index++){\r\n            str=_str.replace(`{${index}}`,_strArr[index]);\r\n        }\r\n        return str;\r\n    }\r\n\r\n    getlocalStorageItem(name){\r\n        return cc.sys.localStorage.getItem(name);\r\n    }\r\n    addlocalStorageItem(name , value){\r\n        return cc.sys.localStorage.setItem(name , value);\r\n    }\r\n    getRoomTableInfoStr(rule:TableRuleInfo):string{\r\n        let str=\"规则:\";\r\n        let ruleMapInfo=this.getRuleMapInfo();\r\n        if(rule.ceiling){\r\n            str+=Global.Utils.formNumToGivenStr(ruleMapInfo[GameRuleTypeEnum.FengDing][0],[rule.ceiling.toString()])+\"、\";\r\n        }\r\n        if(rule.zmType){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ZiMo][rule.zmType]+\"、\";\r\n        }\r\n        if(rule.tiFan){\r\n            str+=Global.Utils.formNumToGivenStr(ruleMapInfo[GameRuleTypeEnum.TiFan][0],[rule.tiFan.toString()])+\"、\";\r\n        }\r\n        if(rule.dianGangHua){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.DianGangHua][rule.dianGangHua]+\"、\";\r\n        }\r\n        if(rule.sunshine){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ShaiTaiYang][rule.sunshine]+\"、\";\r\n        }\r\n        if(rule.baozi){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.Baozi][rule.baozi]+\"、\";\r\n        }\r\n        if(rule.baoziDouble){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ShuangBao][0]+\"、\";\r\n        }\r\n        if(rule.caGua){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.BaoYu][0]+\"、\";\r\n        }\r\n        if(rule.jiShiYu){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.JiShiYu][0]+\"、\";\r\n        }\r\n        if(rule.allGangShift){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.LiangGangTongChuan][0]+\"、\";\r\n        }\r\n        if(rule.menqing){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.MenQing][0]+\"、\";\r\n        }\r\n        if(rule.zhongzhang){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ZhongZhang][0]+\"、\";\r\n        }\r\n        if(rule.yao9){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.YaoJiu][0]+\"、\";\r\n        }\r\n        if(rule.jiangdui){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.JiangDui][0]+\"、\";\r\n        }\r\n        if(rule.tdHu){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.TianDiHu][0]+\"、\";\r\n        }\r\n        if(rule.jiaxin5){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.JiaXinWu][0]+\"、\";\r\n        }\r\n        if(rule.lunZhuang){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.LunZhuang][0]+\"、\";\r\n        }\r\n        if(rule.passHu){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.GuoShouHu][0]+\"、\";\r\n        }\r\n        if(rule.hu2Score){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.LiangFenQiHu][0]+\"、\";\r\n        }\r\n        if(rule.last4Hu){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ZuiHouSiZhang][0]+\"、\";\r\n        }\r\n        if(rule.findMaxHu){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ChaDaHu][0]+\"、\";\r\n        }\r\n        if(rule.zmOpen){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ZiMoLiangPai][0]+\"、\";\r\n        }\r\n        if(rule.realTimeCalc){\r\n            str+=ruleMapInfo[GameRuleTypeEnum.ShiShiJieSuan][0]+\"、\";\r\n        }\r\n        str=str.slice(0,str.length-1);\r\n        return str;\r\n    }\r\n    private ruleMapInfo=null;\r\n    private getRuleMapInfo():any{\r\n        if(this.ruleMapInfo){\r\n            return  this.ruleMapInfo;\r\n        }\r\n        this.ruleMapInfo={};\r\n        this.ruleMapInfo[GameRuleTypeEnum.FengDing]=[\"封顶{0}倍\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ZiMo]=[\"\",\"自摸加番\",\"自摸加底\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.GameType]=[\"\",\"血战\",\"换三张\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.Baozi]=[\"\",\"豹子\",\"甩飘\",\"庄家必飘\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ShuangBao]=[\"双豹\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.BaoYu]=[\"暴雨\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.JiShiYu]=[\"及时雨\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.LiangGangTongChuan]=[\"连杠通转\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.MenQing]=[\"门清\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ZhongZhang]=[\"中张\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.YaoJiu]=[\"幺九\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.JiangDui]=[\"将对\"];\r\n\r\n        this.ruleMapInfo[GameRuleTypeEnum.TianDiHu]=[\"天地胡\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.JiaXinWu]=[\"夹心五\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.LunZhuang]=[\"轮庄\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.TiFan]=[\"梯番{0}倍\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.GuoShouHu]=[\"过手胡\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.LiangFenQiHu]=[\"两分起胡\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ZuiHouSiZhang]=[\"最后四张必胡\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ChaDaHu]=[\"查大叫\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.DianGangHua]=[\"\",\"点杠花(自摸)\",\"点杠花(点炮)\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ShaiTaiYang]=[\"\",\"晒太阳\",\"晒太阳(反雨)\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ZiMoLiangPai]=[\"自摸亮牌\"];\r\n        this.ruleMapInfo[GameRuleTypeEnum.ShiShiJieSuan]=[\"实时结算\"];\r\n        return this.ruleMapInfo;\r\n    }\r\n}\r\n"]}