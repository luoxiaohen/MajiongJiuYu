{"version":3,"sources":["assets\\Script\\UI\\card\\UpHandCardPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { CardGroupPointBySelfEnum } from \"../../enum/EnumManager\";\r\nimport { Msg_SC_GangSelfMsg, Msg_SC_HuMajMsg, Msg_SC_PengMajMsg } from \"../../proto/TableMsg\";\r\nimport CardHelpManager from \"./CardHelpManager\";\r\nimport HandCardPanel from \"./HandCardPanel\";\r\nimport MajiongHandCard from \"./MajiongHandCard\";\r\nimport MajiongOutCard from \"./MajiongOutCard\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class UpHandCardPanel extends HandCardPanel {\r\n    protected onLoad(): void {\r\n        super.onLoad();\r\n    }\r\n\r\n    protected start(): void {\r\n        this.initHandData();\r\n    }\r\n\r\n    initHandData(): void {\r\n        super.initHandData();\r\n        this.bySelfPoint = CardGroupPointBySelfEnum.Up;\r\n        let item : MajiongHandCard;\r\n        let index:number=0;\r\n        for(let i = 13 ; i > 0 ; i--){\r\n            item = cc.instantiate(this.dialogParameters[0]).getComponent(MajiongHandCard) as MajiongHandCard;\r\n            item.bySelfPoint = this.bySelfPoint;\r\n            item.node.x = index*-2 - item.cardSize._w;\r\n            item.node.y = (i+1)*38;\r\n            this.handItemArr.push(item);\r\n            this.node.addChild(item.node);\r\n            index++;\r\n        }\r\n        item = cc.instantiate(this.dialogParameters[0]).getComponent(MajiongHandCard) as MajiongHandCard;\r\n        item.bySelfPoint = this.bySelfPoint;\r\n        item.node.x = index*-2 - item.cardSize._w;\r\n        item.node.y = this.feelCardChange[this.bySelfPoint];\r\n        item.isFeel = true;\r\n        this.handItemArr.push(item);\r\n        this.node.addChild(item.node);\r\n    }\r\n    \r\n    /**展示胡牌*/\r\n    showHupai(msg: Msg_SC_HuMajMsg): void {\r\n        super.showHupai(msg);\r\n    }\r\n    showGetHnads(getNum: number): void {\r\n        super.showGetHnads(getNum);\r\n        let item : MajiongHandCard;\r\n        let showIndex:number=0;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            item = this.handItemArr[i];\r\n            if(!item.isShow && showIndex < getNum){\r\n                showIndex++;\r\n                item.node.x -= 15;\r\n                item.isShow = true;\r\n                item.showGetAction(i + showIndex);\r\n            }\r\n        }\r\n    }\r\n    createOutCard(value:number = 1): void {\r\n        super.createOutCard(value);\r\n        let item : MajiongOutCard = cc.instantiate(this.dialogParameters[1]).getComponent(MajiongOutCard);\r\n        item.bySelfPoint = this.bySelfPoint;\r\n        item.cardValue = value;\r\n        \r\n        let row:number = this.getOutRow();\r\n        let baseNum:number = 0;\r\n        if(row > 0){\r\n            baseNum = this.myOutArray.length - this.getBaseNum();\r\n        }else{\r\n            baseNum = this.myOutArray.length;\r\n        }\r\n        \r\n        let changeX:number = baseNum * 2 + row*80;\r\n        let changeY:number = baseNum*46 + row*46;\r\n        let initX:number = CardHelpManager.ins.upOutCardInitPoint.x - CardHelpManager.ins.upHandCardInitPoint.x;\r\n        let initY:number = CardHelpManager.ins.upOutCardInitPoint.y + CardHelpManager.ins.upHandCardInitPoint.y;\r\n        item.node.x = initX - changeX;\r\n        item.node.y = initY - changeY;\r\n        item.node.zIndex = this.myOutArray.length;\r\n        this.onMyOutChangeData(item);\r\n        this.node.addChild(item.node);\r\n        this.lastOutCard = item;\r\n    }\r\n    showOutCard(value: number): void {\r\n        super.showOutCard(value);\r\n    }\r\n    showFeelWall(cardValue?: number): void {\r\n        super.showFeelWall(cardValue);\r\n    }\r\n    \r\n    clearLastPlay(): void {\r\n        super.clearLastPlay();\r\n    }\r\n\r\n    showPengGang(msg: Msg_SC_PengMajMsg): void {\r\n        super.showPengGang(msg);\r\n    }\r\n    showSelfGang(msg: Msg_SC_GangSelfMsg): void {\r\n        super.showSelfGang(msg);\r\n    }\r\n    disTory(): void {\r\n        super.disTory();\r\n    }\r\n}\r\n"]}