{"version":3,"sources":["assets\\Script\\UI\\card\\CardHelpManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { Global } from \"../../Shared/GloBal\";\r\nimport { MajCardLight } from \"../../utils/InterfaceHelp\";\r\nimport MajiongHandCard from \"./MajiongHandCard\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CardHelpManager{\r\n    private static _ins: CardHelpManager;\r\n    public static get ins() {\r\n        return this._ins || (this._ins = new CardHelpManager());\r\n    }\r\n\r\n    /**四方牌墙得初始位置*/\r\n    private _wallCardInitPoint: Array<cc.Vec2> = [cc.v2(540, -801), cc.v2(1432, -237), cc.v2(620, -140), cc.v2(470, -221)];\r\n    public get wallCardInitPoint(): Array<cc.Vec2> {\r\n        return this._wallCardInitPoint;\r\n    }\r\n    public set wallCardInitPoint(value: Array<cc.Vec2>) {\r\n        this._wallCardInitPoint = value;\r\n    }\r\n    /**四方牌墙牌宽度*/\r\n    private _wallCardWidth: Array<number> = [62, 79, 52, 79];\r\n    public get wallCardWidth(): Array<number> {\r\n        return this._wallCardWidth;\r\n    }\r\n    public set wallCardWidth(value: Array<number>) {\r\n        this._wallCardWidth = value;\r\n    }\r\n    /**四方牌墙牌高度*/\r\n    private _wallCardHeight: Array<number> = [86, 59, 61, 59];\r\n    public get wallCardHeight(): Array<number> {\r\n        return this._wallCardHeight;\r\n    }\r\n    public set wallCardHeight(value: Array<number>) {\r\n        this._wallCardHeight = value;\r\n    }\r\n    /**四方出牌宽度*/\r\n    private _outCardWidth: Array<number> = [67, 82, 55, 82];\r\n    public get outCardWidth(): Array<number> {\r\n        return this._outCardWidth;\r\n    }\r\n    public set outCardWidth(value: Array<number>) {\r\n        this._outCardWidth = value;\r\n    }\r\n    /**四方出牌高度*/\r\n    private _outCardHeight: Array<number> = [90, 67, 75, 67];\r\n    public get outCardHeight(): Array<number> {\r\n        return this._outCardHeight;\r\n    }\r\n    public set outCardHeight(value: Array<number>) {\r\n        this._outCardHeight = value;\r\n    }\r\n\r\n    /**自己出牌的初始位置*/\r\n    private _myOutCardInitPoint = cc.v2(790, -650);\r\n    public get myOutCardInitPoint() {\r\n        return this._myOutCardInitPoint;\r\n    }\r\n    public set myOutCardInitPoint(value) {\r\n        this._myOutCardInitPoint = value;\r\n    }\r\n    /**下家出牌的初始位置*/\r\n    private _downOutCardInitPoint = cc.v2(1141, -584);\r\n    public get downOutCardInitPoint() {\r\n        return this._downOutCardInitPoint;\r\n    }\r\n    public set downOutCardInitPoint(value) {\r\n        this._downOutCardInitPoint = value;\r\n    }\r\n    /**对家出牌的初始位置*/\r\n    private _oppOutCardInitPoint = cc.v2(1035, -200);\r\n    public get oppOutCardInitPoint() {\r\n        return this._oppOutCardInitPoint;\r\n    }\r\n    public set oppOutCardInitPoint(value) {\r\n        this._oppOutCardInitPoint = value;\r\n    }\r\n    /**上家出牌的初始位置*/\r\n    private _upOutCardInitPoint = cc.v2(780, 1264.5);\r\n    public get upOutCardInitPoint() {\r\n        return this._upOutCardInitPoint;\r\n    }\r\n    public set upOutCardInitPoint(value) {\r\n        this._upOutCardInitPoint = value;\r\n    }\r\n\r\n\r\n    /**自己手牌的初始位置\r\n     * 当出现碰杠时候,需要修改位置,每次开局需要重新初始化\r\n    */\r\n    private _myHandCardInitPoint = cc.v2(26, -1058);\r\n    public get myHandCardInitPoint() {\r\n        return this._myHandCardInitPoint;\r\n    }\r\n    public set myHandCardInitPoint(value) {\r\n        this._myHandCardInitPoint = value;\r\n    }\r\n\r\n    /***碰杠之后的移动位置*/\r\n    private _changePointByEat: number = 0;\r\n    public get changePointByEat(): number {\r\n        return this._changePointByEat;\r\n    }\r\n    public set changePointByEat(value: number) {\r\n        this._changePointByEat = value;\r\n    }\r\n\r\n    /**对家手牌的初始位置\r\n    */\r\n     private _oppHandCardInitPoint = cc.v2(570.5, -103);\r\n    public get oppHandCardInitPoint() {\r\n        return this._oppHandCardInitPoint;\r\n    }\r\n    public set oppHandCardInitPoint(value) {\r\n        this._oppHandCardInitPoint = value;\r\n    }\r\n     /**下家手牌的初始位置\r\n    */\r\n    private _downHandCardInitPoint = cc.v2(1650, -844.5);\r\n    public get downHandCardInitPoint() {\r\n        return this._downHandCardInitPoint;\r\n    }\r\n    public set downHandCardInitPoint(value) {\r\n        this._downHandCardInitPoint = value;\r\n    }\r\n     /**上家手牌的初始位置\r\n    */\r\n    private _upHandCardInitPoint = cc.v2(350, -844.5);\r\n    public get upHandCardInitPoint() {\r\n        return this._upHandCardInitPoint;\r\n    }\r\n    public set upHandCardInitPoint(value) {\r\n        this._upHandCardInitPoint = value;\r\n    }\r\n    /**重新开局或者其他某些时候 需要初始化一次基础数据*/\r\n    init(){\r\n        this.myHandCardInitPoint = cc.v2(26, -1058);\r\n        this.oppHandCardInitPoint = cc.v2(550.5, -103);\r\n        this.downHandCardInitPoint = cc.v2(1650, -844.5);\r\n        this.upHandCardInitPoint = cc.v2(325, -844.5);\r\n        this.changePointByEat = 0;\r\n    }\r\n    initOver(){\r\n        this.init();\r\n    }\r\n\r\n\r\n    private getLightByValue(value : number , disArr : Array<MajCardLight>):number{\r\n        for(let i = 0 ; i < disArr.length ; i++){\r\n            if(disArr[i].cardValue == value){\r\n                return disArr[i].cardLight;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    /**获取所有牌中权重最低的三张*/\r\n     getSmallThree(disArr : Array<MajCardLight> , handArr:Array<MajiongHandCard>) : Array<number>{\r\n        let dis : Array<MajCardLight> = [];\r\n        let light:MajCardLight;\r\n        for(let i = 0 ; i < handArr.length ; i++){\r\n            light = new MajCardLight();\r\n            if(handArr[i].isShow){\r\n                light.cardValue = handArr[i].cardValue;\r\n                light.cardLight = this.getLightByValue(handArr[i].cardValue , disArr);\r\n                dis.push(light);\r\n            }\r\n        }\r\n\t\tlet threeArr:Array<number>=[];\r\n        let lightItem : MajCardLight;\r\n        let nowAllLight:number = 0;\r\n        let smallAllLight:number = 0;\r\n        let nowType:number = 0;\r\n        let oneTypeLight:Array<MajCardLight> = [];\r\n        for(let i = 0 ; i < 3 ; i++){\r\n            oneTypeLight = this.getLightByType(dis , i);\r\n            if(oneTypeLight.length > 3){\r\n                nowAllLight = this.getSmallLight(oneTypeLight);\r\n                if(smallAllLight == 0){\r\n                    smallAllLight = nowAllLight;\r\n                    nowType = i;\r\n                }else{\r\n                    if(nowAllLight < smallAllLight){\r\n                        smallAllLight = nowAllLight;\r\n                        nowType = i;\r\n                    }\r\n                }\r\n            }else if(oneTypeLight.length == 3){\r\n                threeArr = [oneTypeLight[0].cardValue , oneTypeLight[1].cardValue , oneTypeLight[2].cardValue]\r\n                return threeArr;\r\n            }\r\n        }\r\n        oneTypeLight = this.getLightByType(dis ,nowType);\r\n        oneTypeLight.sort(Global.Utils.compareLight);\r\n        threeArr = [oneTypeLight[0].cardValue , oneTypeLight[1].cardValue , oneTypeLight[2].cardValue]\r\n        return threeArr;\r\n\t}\r\n    private getSmallLight(arr:Array<MajCardLight>):number{\r\n        let small:number = 0;\r\n        arr.sort(Global.Utils.compareLight);\r\n        small =arr[0].cardLight + arr[1].cardLight + arr[2].cardLight\r\n        return small;\r\n    }\r\n    private getLightByType(dis : Array<MajCardLight> , type:number) :  Array<MajCardLight>{\r\n        let arr : Array<MajCardLight> = [];\r\n        for(let i = 0 ; i < dis.length ; i++){\r\n            if(Math.floor(dis[i].cardValue/10) == type){\r\n                arr.push(dis[i]);\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n    /**获取所有牌的权重列表**/\r\n\tgetThreeCard(handItemArr:Array<MajiongHandCard> , ):Array<MajCardLight>{\r\n\t\tlet allArr:Array<number> = [];\r\n\t\tlet nowArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < handItemArr.length ; i++){\r\n            if(handItemArr[i].isShow){\r\n\t\t\t    allArr.push(handItemArr[i].cardValue)\r\n            }\r\n\t\t}\r\n\t\tlet dic : Array<MajCardLight> = [];\r\n\t\tlet now : number;\r\n\t\tlet msjLight:MajCardLight;\r\n\t\tlet light:number;\r\n        allArr.sort(Global.Utils.compare);\r\n        nowArr = this.getNowArr(allArr);\r\n        let moreArr:Array<number> = [0 , 0 , 80 , 300 , 500]\r\n\t\tfor(let i = 0 ; i < nowArr.length ; i++){\r\n            msjLight = new MajCardLight();\r\n\t\t\tlight = 0;\r\n            now = nowArr[i];\r\n\t\t\tmsjLight.cardValue = now;\r\n            if(nowArr.indexOf(now-1)>=0){\r\n                light+=20;\r\n            }\r\n            if(nowArr.indexOf(now+1)>=0){\r\n                light+=20;\r\n            }\r\n            if(nowArr.indexOf(now-2)>=0 && this.isOne(now , now-2)){\r\n                light+=10;\r\n            }\r\n            if(nowArr.indexOf(now+2)>=0 && this.isOne(now , now+2)){\r\n                light+=10;\r\n            }\r\n            light+=moreArr[this.getAllNum(allArr , now)];\r\n\t\t\tmsjLight.cardLight = light;\r\n\t\t\tdic[i] = msjLight;\r\n\t\t}\r\n\r\n\t\treturn dic;\r\n\t}\r\n    private getAllNum(nowArr:Array<number> , now):number{\r\n        let index:number = 0;\r\n        for(let i = 0 ; i < nowArr.length ; i++){\r\n            if(nowArr[i] == now){\r\n                index++;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n    private getNowArr(nowArr:Array<number>):Array<number>{\r\n        let newArr:Array<number> = [];\r\n        for(let i = 0 ; i < nowArr.length ; i++){\r\n            if(newArr.indexOf(nowArr[i]) < 0){\r\n                newArr.push(nowArr[i]);\r\n            }\r\n        }\r\n        return newArr;\r\n    }\r\n\tprivate haveThree(arr:Array<MajCardLight> , card:number):boolean{\r\n\t\tlet nowT:number = Math.floor(card/10);\r\n\t\tlet haveIndex:number = 0;\r\n\t\tfor(let i = 0 ; i < arr.length ; i++){\r\n\t\t\tif(Math.floor(arr[i].cardValue/10) == nowT){\r\n\t\t\t\thaveIndex++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn haveIndex >= 3;\r\n\t}\r\n\tprivate isOne(a:number , b:number){\r\n\t\tif(Math.floor(a/10) == Math.floor(b/10)){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n    \r\n}\r\n"]}