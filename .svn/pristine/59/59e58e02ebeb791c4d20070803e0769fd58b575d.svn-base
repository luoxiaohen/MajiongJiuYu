{"version":3,"sources":["assets\\Script\\mgr\\CheckCardManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport GameInfo from \"../Game/info/GameInfo\";\r\nimport UserInfo from \"../Game/info/UserInfo\";\r\nimport { HuTypeEnum } from \"../proto/TableMsgDef\";\r\nimport { Global } from \"../Shared/GloBal\";\r\nimport Utils from \"../Shared/Utils\";\r\nimport { CanHuCard, DeckData, HuData, ListenCard, PengGangData } from \"../utils/InterfaceHelp\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CheckCardManager{\r\n    private static _ins: CheckCardManager;\r\n    public static get ins() {\r\n        return this._ins || (this._ins = new CheckCardManager());\r\n    }\r\n    /**计算手牌牌组\r\n\t * 原手牌不需要计算打出可听的牌及蕃 只需要计算是否有听牌\r\n\t*/\r\n\tpublic deckCalculationMyHand():DeckData{\r\n\t\tlet data : DeckData = new DeckData();\r\n\t\tdata.pengValue = this.getPeng();\r\n\t\tdata.gangValue = this.getGang();\r\n\t\tdata.anGangValue = this.getAnGang();\r\n\t\tdata.buGangValue = this.getBuGang();\r\n\t\tdata.allTingValue = [];\r\n\t\tdata.huValue = this.getAllHu(UserInfo.ins.myHandCardArr);\r\n\t\tdata.huData = this.getHuHand(UserInfo.ins.myHandCardArr , null);\r\n\t\treturn data;\r\n\t}\r\n\t/**计算进牌之后的牌组 自己摸牌 自己碰牌 自己杠牌 \r\n\t*/\r\n\tpublic deckCalculationAddCard(addCard : number):DeckData{\r\n\t\tlet data : DeckData = new DeckData();\r\n\t\tdata.pengValue = this.getPeng();\r\n\t\tdata.gangValue = this.getGang();\r\n\t\tdata.anGangValue = this.getAnGang();\r\n\t\tdata.buGangValue = this.getBuGang();\r\n\t\tlet arr:Array<number> = UserInfo.ins.myHandCardArr;\r\n\t\tdata.huValue = this.getAllHu(this.getNewHand(addCard,arr));\r\n\t\tdata.allTingValue = this.getAllTing(UserInfo.ins.myHandCardArr);\r\n\t\tdata.huData = this.getHuHand(arr , addCard);\r\n\t\treturn data;\r\n\t}\r\n\t/**获取所有打出可听*/\r\n\tprivate getAllTing(handArr:Array<number>):Array<ListenCard>{\r\n\t\tlet listenArr : Array<ListenCard> = [];\r\n\t\tlet newHand : Array<number> = handArr;\r\n\t\tlet tempArr : Array<number> = [];\r\n\t\tlet forNum:number = newHand.length;\r\n\t\tlet tempListen : ListenCard;\r\n\t\tfor(let i = 0 ; i < forNum ; i++){\r\n\t\t\tfor(let l = 0 ; l < newHand.length ; l++){\r\n\t\t\t\ttempArr[l] = newHand[l];\r\n\t\t\t}\r\n\t\t\ttempListen = new ListenCard();\r\n\t\t\ttempListen.outCardValue = newHand[i];\r\n\t\t\ttempArr.splice(i,1);\r\n\t\t\ttempListen.huData = this.getAllHu(tempArr);\r\n\t\t\tif(tempListen.huData.length > 0){\r\n\t\t\t\tlistenArr.push(tempListen);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn listenArr;\r\n\t}\r\n\t/**当前手牌是否可以胡*/\r\n\tprivate getHuHand(handArr:Array<number> , addCard : number) : HuData{\r\n\t\tlet canHu : HuData = new HuData();\r\n\t\tcanHu = this.getHuData(handArr , addCard);\r\n\t\tif(canHu.HuType.length > 0){\r\n\t\t\tthis.removeAgin(canHu.HuType);\r\n\t\t\tcanHu.fanNum = this.getAllFan(canHu.HuType);\r\n\t\t\tcanHu.beiNum = this.getAllBei(canHu.HuType);\r\n\t\t}\r\n\t\tif(canHu.HuType && canHu.HuType.length > 0){\r\n\t\t\treturn canHu;\r\n\t\t}else{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t/***获取所有可胡的牌*/\r\n\tprivate getAllHu(handArr:Array<number>):Array<CanHuCard>{\r\n\t\tlet arr:Array<CanHuCard>=[];\r\n\t\t/**先判断手中是否还有定缺牌,如果有定缺牌必不可能有胡*/\r\n\t\tfor(let i = 0 ; i < handArr.length ; i++){\r\n\t\t\tif(Global.Utils.getIsDice(handArr[i] , UserInfo.ins.myDiceType)){\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet canHu : CanHuCard = new CanHuCard();\r\n\t\tif(handArr.length == 1){\r\n\t\t\tcanHu = this.getHuData(handArr , handArr[0]);\r\n\t\t\tthis.removeAgin(canHu.HuType);\r\n\t\t\tcanHu.fanNum = this.getAllFan(canHu.HuType);\r\n\t\t\tcanHu.beiNum = this.getAllBei(canHu.HuType);\r\n\t\t\tarr.push(canHu);\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t\tlet fristCard : number = Math.floor(handArr[0]/10);\r\n\t\tlet lastCard : number = Math.floor(handArr[handArr.length-1]/10);\r\n\t\tfor(let i = fristCard*10 + 1 ; i <= fristCard*10 + 9 ; i++){\r\n\t\t\tcanHu = this.getHuData(handArr , i);\r\n\t\t\tif(canHu.HuType.length > 0){\r\n\t\t\t\tthis.removeAgin(canHu.HuType);\r\n\t\t\t\tcanHu.fanNum = this.getAllFan(canHu.HuType);\r\n\t\t\t\tcanHu.beiNum = this.getAllBei(canHu.HuType);\r\n\t\t\t\tarr.push(canHu);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(fristCard!=lastCard){\r\n\t\t\tfor(let i = lastCard*10 + 1 ; i <= lastCard*10 + 9 ; i++){\r\n\t\t\t\tcanHu = this.getHuData(handArr , i);\r\n\t\t\t\tif(canHu.HuType.length > 0){\r\n\t\t\t\t\tthis.removeAgin(canHu.HuType);\r\n\t\t\t\t\tcanHu.fanNum = this.getAllFan(canHu.HuType);\r\n\t\t\t\t\tcanHu.beiNum = this.getAllBei(canHu.HuType);\r\n\t\t\t\t\tarr.push(canHu);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.checkCanHu(arr);\r\n\t}\r\n\t/**获取一个新的牌组*/\r\n\tprivate getNewHand(card : number , handeArr:Array<number>):Array<number>{\r\n\t\tlet newHand:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < handeArr.length ; i++){\r\n\t\t\tnewHand.push(handeArr[i]);\r\n\t\t}\r\n\t\tif(card > 0){\r\n\t\t\tnewHand.push(card);\r\n\t\t}\r\n\t\tnewHand.sort(Global.Utils.compare);\r\n\r\n\t\treturn newHand;\r\n\t}\r\n\t/**计算当前牌可以胡什么*/\r\n\tprivate getHuData(handArr:Array<number> , card : number = null):CanHuCard {\r\n\t\tlet newHand : Array<number> = [];\r\n\t\tif(card > 0){\r\n\t\t\tnewHand  = this.getNewHand(card , handArr)\r\n\t\t}else{\r\n\t\t\tfor(let i = 0 ; i < handArr.length ; i++){\r\n\t\t\t\tnewHand.push(handArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet canHu:CanHuCard = new CanHuCard();\r\n\t\t/**手牌只有2张并相等必然是金钩钓*/\r\n\t\tif(newHand.length == 2 && newHand[0] == newHand[1]){\r\n\t\t\tcanHu.HuType.push(HuTypeEnum.JinGouDiao);\r\n\t\t\tif(this.haveJiangDui(newHand)){\r\n\t\t\t\tcanHu.HuType.push(HuTypeEnum.JiangDui);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.haveDui(newHand) == 7){\r\n\t\t\tcanHu.HuType.push(HuTypeEnum.QiDui);\r\n\t\t\tif(this.haveGang(newHand) >= 1){\r\n\t\t\t\tcanHu.HuType.push(HuTypeEnum.LongQiDui);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.haveDuiDuiHu(newHand)){\r\n\t\t\tcanHu.HuType.push(HuTypeEnum.DuiDuiHu);\r\n\t\t\tif(this.haveJiangDui(newHand)){\r\n\t\t\t\tcanHu.HuType.push(HuTypeEnum.JiangDui);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.havePinghu(newHand)){\r\n\t\t\tcanHu.HuType.push(HuTypeEnum.PingHu);\r\n\t\t\tif(this.haveYaoJiu(newHand)){\r\n\t\t\t\tcanHu.HuType.push(HuTypeEnum.YaoJiu);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(canHu.HuType.length){\r\n\t\t\tif(this.isQingYiSe(newHand , true)){\r\n\t\t\t\tcanHu.HuType.push(HuTypeEnum.QingYiSe);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(canHu.HuType.length > 0){\r\n\t\t\tif(card && card >= 0){\r\n\t\t\t\tcanHu.cardValue = card;\r\n\t\t\t}else if(UserInfo.ins.myLastFeelCard >= 0){\r\n\t\t\t\tcanHu.cardValue = UserInfo.ins.myLastFeelCard\r\n\t\t\t}else{\r\n\t\t\t\tcanHu.cardValue = handArr[handArr.length - 1];\r\n\t\t\t}\r\n\t\t\tthis.removeAgin(canHu.HuType);\r\n\t\t}\r\n\t\treturn canHu;\r\n\t}\r\n\t/***去掉不可重复胡的*/\r\n\tprivate removeAgin(arr:Array<HuTypeEnum>){\r\n\t\tif(arr.length > 1 && arr.indexOf(HuTypeEnum.PingHu) >= 0){\r\n\t\t\tarr.splice(arr.indexOf(HuTypeEnum.PingHu) , 1);\r\n\t\t}\r\n\t\tif(arr.indexOf(HuTypeEnum.JinGouDiao) >= 0){\r\n\t\t\tif(arr.indexOf(HuTypeEnum.DuiDuiHu) >= 0){\r\n\t\t\t\tarr.splice(arr.indexOf(HuTypeEnum.DuiDuiHu) , 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(arr.indexOf(HuTypeEnum.LongQiDui) >= 0){\r\n\t\t\tif(arr.indexOf(HuTypeEnum.QiDui) >= 0){\r\n\t\t\t\tarr.splice(arr.indexOf(HuTypeEnum.QiDui) , 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(arr.indexOf(HuTypeEnum.JiangDui) >= 0){\r\n\t\t\tif(arr.indexOf(HuTypeEnum.DuiDuiHu) >= 0){\r\n\t\t\t\tarr.splice(arr.indexOf(HuTypeEnum.DuiDuiHu) , 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**是否可以胡幺九*/\r\n\tprivate haveYaoJiu(newHand : Array<number>):boolean{\r\n\t\tlet arr:Array<number> = [1,9];\r\n\t\tlet penggang : Array<PengGangData> = UserInfo.ins.myPengGang;\r\n\t\tfor(let m = 0 ; m < penggang.length ; m++){\r\n\t\t\tif(arr.indexOf(penggang[m].cardValue) < 0){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet nowCard:number;\r\n\t\tlet duiArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < newHand.length ; i++){\r\n\t\t\tnowCard = newHand[i];\r\n\t\t\tif(nowCard == newHand[i+1]){\r\n\t\t\t\tduiArr.push(newHand[i]);\r\n\t\t\t\ti = i+1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(duiArr.length < 1){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet tempArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < duiArr.length ; i++){\r\n\t\t\tfor(let l = 0 ; l < newHand.length ; l++){\r\n\t\t\t\ttempArr[l] = newHand[l];\r\n\t\t\t}\r\n\t\t\tif(arr.indexOf(duiArr[i]%10) < 0){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\ttempArr.splice(tempArr.indexOf(duiArr[i]) , 2);\r\n\t\t\tfor(let k = 0 ; k < tempArr.length ; k++){\r\n\t\t\t\tlet card : number = tempArr[k];\r\n\t\t\t\tif(this.haveThree(tempArr , card)){\r\n\t\t\t\t\tif(arr.indexOf(card%10) < 0){\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let m = 0 ; m < 3 ; m++){\r\n\t\t\t\t\t\ttempArr.splice(tempArr.indexOf(card) , 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tk = -1;\r\n\t\t\t\t}else if(this.haveShunzi(tempArr , card)){\r\n\t\t\t\t\tif(arr.indexOf(card%10) < 0 && arr.indexOf((card+1)%10) < 0  && arr.indexOf((card+2)%10) < 0 ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttempArr.splice(tempArr.indexOf(card) , 1);\r\n\t\t\t\t\ttempArr.splice(tempArr.indexOf(card + 1) , 1);\r\n\t\t\t\t\ttempArr.splice(tempArr.indexOf(card + 2) , 1);\r\n\t\t\t\t\tk = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(tempArr.length == 0){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t/**是否可以平胡*/\r\n\tprivate havePinghu(newHand:Array<number>):boolean{\r\n\t\tlet nowCard:number;\r\n\t\tlet duiArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < newHand.length ; i++){\r\n\t\t\tnowCard = newHand[i];\r\n\t\t\tif(nowCard == newHand[i+1]){\r\n\t\t\t\tduiArr.push(newHand[i]);\r\n\t\t\t\ti = i+1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(duiArr.length < 1){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet tempArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < duiArr.length ; i++){\r\n\t\t\tfor(let l = 0 ; l < newHand.length ; l++){\r\n\t\t\t\ttempArr[l] = newHand[l];\r\n\t\t\t}\r\n\t\t\ttempArr.splice(tempArr.indexOf(duiArr[i]) , 2);\r\n\t\t\tfor(let k = 0 ; k < tempArr.length ; k++){\r\n\t\t\t\tlet card : number = tempArr[k];\r\n\t\t\t\tif(this.haveThree(tempArr , card)){\r\n\t\t\t\t\tfor(let m = 0 ; m < 3 ; m++){\r\n\t\t\t\t\t\ttempArr.splice(tempArr.indexOf(card) , 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tk = -1;\r\n\t\t\t\t}else if(this.haveShunzi(tempArr , card)){\r\n\t\t\t\t\ttempArr.splice(tempArr.indexOf(card) , 1);\r\n\t\t\t\t\ttempArr.splice(tempArr.indexOf(card + 1) , 1);\r\n\t\t\t\t\ttempArr.splice(tempArr.indexOf(card + 2) , 1);\r\n\t\t\t\t\tk = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(tempArr.length == 0){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tprivate haveShunzi(cardArr:Array<number> , card:number):boolean{\r\n\t\tif(cardArr.indexOf(card) >= 0 && cardArr.indexOf(card + 1) >= 0 && cardArr.indexOf(card + 2) >= 0){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tprivate haveThree(cardArr:Array<number> , card:number):boolean{\r\n\t\tlet index:number = 0;\r\n\t\tfor(let i = 0 ; i < cardArr.length ; i++){\r\n\t\t\tif(cardArr[i] == card){\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index >= 3\r\n\t}\r\n\t/**是否可能是将对*/\r\n\tprivate haveJiangDui(newHand:Array<number>):boolean{\r\n\t\tlet arr : Array<number> = [2,5,8];\r\n\t\tfor(let i = 0 ; i < newHand.length ; i++){\r\n\t\t\tif(arr.indexOf ( newHand[i]%10) < 0 ){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet penggang:Array<PengGangData> = UserInfo.ins.myPengGang;\r\n\t\tfor(let i = 0 ; i < penggang.length ; i++){\r\n\t\t\tif(arr.indexOf(penggang[i].cardValue%10) < 0){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t/**是否可能是对对胡*/\r\n\tprivate haveDuiDuiHu(newHand:Array<number>):boolean{\r\n\t\tlet nowCard:number;\r\n\t\tlet haveDui:boolean = false;\r\n\t\tlet keNum:number = 0;\r\n\t\tfor(let i = 0 ; i < newHand.length ; i++){\r\n\t\t\tnowCard = newHand[i];\r\n\t\t\tif(nowCard == newHand[i+1] && nowCard != newHand[i+2]){\r\n\t\t\t\tif(haveDui){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\thaveDui = true;\r\n\t\t\t\t\ti = i+1;\r\n\t\t\t\t}\r\n\t\t\t}else if(nowCard == newHand[i+1] && nowCard == newHand[i+2]){\r\n\t\t\t\tkeNum++;\r\n\t\t\t\ti = i+2;\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(haveDui && keNum >= 1){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tprivate haveGang(tempArr:Array<number>):number{\r\n\t\tlet num : number = 0;\r\n\t\tlet arr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < tempArr.length ; i++){\r\n\t\t\tif(tempArr[i+3]){\r\n\t\t\t\tif(tempArr[i] == tempArr[i+3]){\r\n\t\t\t\t\tarr.push(tempArr[i]);\r\n\t\t\t\t\ti = i + 3;\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ti = tempArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr.length;\r\n\t}\r\n\tprivate haveDui(tempArr:Array<number>):number{\r\n\t\tlet num : number = 0;\r\n\t\tlet arr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < tempArr.length ; i++){\r\n\t\t\tif(tempArr[i+1]){\r\n\t\t\t\tif(tempArr[i] == tempArr[i+1]){\r\n\t\t\t\t\tarr.push(tempArr[i]);\r\n\t\t\t\t\ti = i + 1;\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ti = tempArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr.length;\r\n\t}\r\n\t/**检测查询后的胡牌数据\r\n\t * 主要是相同牌的胡牌只需要保留最大蕃\r\n\t*/\r\n\tprivate checkCanHu(tempCan:Array<CanHuCard>) : Array<CanHuCard>{\r\n\t\tlet huArr:Array<CanHuCard> = [];\r\n\t\tlet hu:CanHuCard;\r\n\t\tfor(let i = 0 ; i < tempCan.length ; i++){\r\n\t\t\thu = tempCan[i];\r\n\t\t\tlet otherHu : CanHuCard;\r\n\t\t\tlet tempHu : CanHuCard;\r\n\t\t\tfor(let l = i+1 ; l < tempCan.length ; l++){\r\n\t\t\t\totherHu = tempCan[l];\r\n\t\t\t\tif(hu.cardValue == otherHu.cardValue){\r\n\t\t\t\t\tlet bigHu:CanHuCard = hu.fanNum > otherHu.fanNum ? hu : otherHu;\r\n\t\t\t\t\tif(tempHu){\r\n\t\t\t\t\t\ttempHu = tempHu.fanNum > bigHu.fanNum ? tempHu : bigHu;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttempHu = bigHu;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(tempHu){\r\n\t\t\t\tif(!this.isHaveHu(huArr , tempHu)){\r\n\t\t\t\t\thuArr.push(tempHu);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(!this.isHaveHu(huArr , hu)){\r\n\t\t\t\t\thuArr.push(hu);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn huArr;\r\n\t}\r\n\t/**查询是否有相同胡*/\r\n\tprivate isHaveHu(arr:Array<CanHuCard> , hu:CanHuCard):boolean{\r\n\t\tfor(let i = 0 ; i < arr.length ; i++){\r\n\t\t\tif(arr[i].cardValue == hu.cardValue){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t/**获取补杠数据*/\r\n\tprivate getBuGang(addCard : number=null) : Array<number>{\r\n\t\tlet arr:Array<number>=[];\r\n\t\tlet handArr:Array<number> = UserInfo.ins.myHandCardArr;\r\n\t\tlet tempArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < handArr.length ; i++){\r\n\t\t\ttempArr.push(handArr[i]);\r\n\t\t}\r\n\t\tif(addCard){\r\n\t\t\ttempArr.push(addCard);\r\n\t\t\ttempArr.sort(Global.Utils.compare);\r\n\t\t}\r\n\t\tlet peng : Array<PengGangData> = UserInfo.ins.myPengGang;\r\n\t\tfor(let l = 0 ; l < tempArr.length ; l++){\r\n\t\t\tlet cardStr:number = tempArr[l];\r\n\t\t\tfor(let i = 0 ; i <peng.length ; i++){\r\n\t\t\t\tif(peng[i].cardValue == cardStr){\r\n\t\t\t\t\tarr.push(cardStr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\t/**获取杠数据*/\r\n\tprivate getAnGang(addCard : number=null) : Array<number>{\r\n\t\tlet arr:Array<number>=[];\r\n\t\tlet handArr:Array<number> = UserInfo.ins.myHandCardArr;\r\n\t\tlet tempArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < handArr.length ; i++){\r\n\t\t\ttempArr.push(handArr[i]);\r\n\t\t}\r\n\t\tif(addCard){\r\n\t\t\ttempArr.push(addCard);\r\n\t\t\ttempArr.sort(Global.Utils.compare);\r\n\t\t}\r\n\t\tfor(let i = 0 ; i < tempArr.length ; i++){\r\n\t\t\tif(tempArr[i+3]){\r\n\t\t\t\tif(tempArr[i] == tempArr[i+3]){\r\n\t\t\t\t\tif(arr.indexOf(tempArr[i]) < 0){\r\n\t\t\t\t\t\tarr.push(tempArr[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = i + 3;\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ti = tempArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\t/**获取杠数据*/\r\n\tprivate getGang(addCard : number=null) : Array<number>{\r\n\t\tlet arr:Array<number>=[];\r\n\t\tlet handArr:Array<number> = UserInfo.ins.myHandCardArr;\r\n\t\tlet tempArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < handArr.length ; i++){\r\n\t\t\ttempArr.push(handArr[i]);\r\n\t\t}\r\n\t\tif(addCard){\r\n\t\t\ttempArr.push(addCard);\r\n\t\t\ttempArr.sort(Global.Utils.compare);\r\n\t\t}\r\n\t\tfor(let i = 0 ; i < tempArr.length ; i++){\r\n\t\t\tif(tempArr[i+2]){\r\n\t\t\t\tif(tempArr[i] == tempArr[i+2]){\r\n\t\t\t\t\tif(arr.indexOf(tempArr[i]) < 0){\r\n\t\t\t\t\t\tarr.push(tempArr[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = i + 2;\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ti = tempArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\t/***\r\n\t * 获取所有可碰的牌\r\n\t*/\r\n\tprivate getPeng(addCard : number=null):Array<number>{\r\n\t\tlet arr:Array<number> = [];\r\n\t\tlet handArr:Array<number> = UserInfo.ins.myHandCardArr;\r\n\t\tlet tempArr:Array<number> = [];\r\n\t\tfor(let i = 0 ; i < handArr.length ; i++){\r\n\t\t\ttempArr.push(handArr[i]);\r\n\t\t}\r\n\t\tif(addCard){\r\n\t\t\ttempArr.push(addCard);\r\n\t\t\ttempArr.sort(Global.Utils.compare);\r\n\t\t}\r\n\t\tfor(let i = 0 ; i < tempArr.length ; i++){\r\n\t\t\tif(tempArr[i+1]){\r\n\t\t\t\tif(tempArr[i] == tempArr[i+1]){\r\n\t\t\t\t\tarr.push(tempArr[i]);\r\n\t\t\t\t\ti = i + 1;\t\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ti = tempArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\t/**判断当前牌是否是清一色 无定缺牌情况下*/\r\n\tprivate isQingYiSe(handArr:Array<number> , isChengPengGang : boolean = false):boolean{\r\n\t\tif(!isChengPengGang){\r\n\t\t\treturn Math.floor(handArr[handArr.length-1]/10) == Math.floor(handArr[0]/10);\r\n\t\t}else{\r\n\t\t\t/**手牌必须清一色 才去计算碰杠区*/\r\n\t\t\tif(Math.floor(handArr[handArr.length-1]/10) == Math.floor(handArr[0]/10)){\r\n\t\t\t\tlet key : number = Math.floor(handArr[0]/10);\r\n\t\t\t\tlet pengGang : Array<PengGangData> = UserInfo.ins.myPengGang;\r\n\t\t\t\tfor(let i = 0 ; i < pengGang.length ; i++){\r\n\t\t\t\t\tif(Math.floor(pengGang[i].cardValue/10) != key){\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * 、在这里计算所有蕃\r\n\t*/\r\n\tprivate getAllFan(huArr:Array<HuTypeEnum>):number{\r\n\t\tlet fan:number = 0;\r\n\r\n\t\treturn fan;\r\n\t}\r\n\t/**在这里计算所有倍数*/\r\n\tprivate getAllBei(huArr : Array<HuTypeEnum>):number{\r\n\t\tlet bei : number = 0;\r\n\r\n\t\treturn bei;\r\n\t}\r\n\r\n\t//------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\tpublic havePengByOther():boolean{\r\n\t\tif(Global.Utils.getIsDice(UserInfo.ins.otherLastOutCard , UserInfo.ins.myDiceType)){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet haveNum : number = 0;\r\n\t\tfor(let i = 0 ; i < UserInfo.ins.myHandCardArr.length ; i++){\r\n\t\t\tif(UserInfo.ins.myHandCardArr[i] == UserInfo.ins.otherLastOutCard){\r\n\t\t\t\thaveNum++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn haveNum>=2;\r\n\t}\r\n\tpublic haveGangByOther():boolean{\r\n\t\tif(Global.Utils.getIsDice(UserInfo.ins.otherLastOutCard , UserInfo.ins.myDiceType)){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet haveNum : number = 0;\r\n\t\tfor(let i = 0 ; i < UserInfo.ins.myHandCardArr.length ; i++){\r\n\t\t\tif(UserInfo.ins.myHandCardArr[i] == UserInfo.ins.otherLastOutCard){\r\n\t\t\t\thaveNum++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn haveNum>=3;\r\n\t}\r\n\r\n\tpublic haveHuByOther():HuData{\r\n\t\tif(Global.Utils.getIsDice(UserInfo.ins.otherLastOutCard , UserInfo.ins.myDiceType)){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(Global.Utils.getIsDice(UserInfo.ins.myLastFeelCard , UserInfo.ins.myDiceType)){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(UserInfo.ins.haveDiceCard()){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getHuHand(UserInfo.ins.myHandCardArr , UserInfo.ins.otherLastOutCard);\r\n\t}\r\n\tpublic haveGangBySelf():Array<number>{\r\n\t\treturn this.getAnGang(UserInfo.ins.myLastFeelCard)\r\n\t}\r\n\tpublic haveGangByPeng():Array<number>{\r\n\t\treturn this.getBuGang(UserInfo.ins.myLastFeelCard)\r\n\t}\r\n\r\n\tpublic haveHuBySelf():HuData{\r\n\t\tif(Global.Utils.getIsDice(UserInfo.ins.myLastFeelCard , UserInfo.ins.myDiceType)){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(UserInfo.ins.haveDiceCard()){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getHuHand(UserInfo.ins.myHandCardArr , UserInfo.ins.myLastFeelCard);\r\n\t}\r\n\tpublic haveQianggangHuBySelf(cardValue : number):HuData{\r\n\t\tif(Global.Utils.getIsDice(cardValue , UserInfo.ins.myDiceType)){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(UserInfo.ins.haveDiceCard()){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getHuHand(UserInfo.ins.myHandCardArr , cardValue);\r\n\t}\r\n\tpublic haveOutListion():Array<ListenCard>{\r\n\t\treturn this.getAllTing(UserInfo.ins.myHandCardArr);\r\n\t}\r\n}"]}