{"version":3,"sources":["assets\\Script\\UI\\over\\SmallOverPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport EventType from \"../../event/EventType\";\r\nimport GameInfo from \"../../Game/info/GameInfo\";\r\nimport UserInfo from \"../../Game/info/UserInfo\";\r\nimport { Msg_CS_NextTrun, Msg_SC_GameResultMsg, Msg_SC_ScoreListMsg } from \"../../proto/TableMsg\";\r\nimport { GameResultInfo, ScoreEventInfo, SitInfo } from \"../../proto/TableMsgDef\";\r\nimport { Global } from \"../../Shared/GloBal\";\r\nimport UIBase from \"../../UIBase\";\r\nimport { OverBuyHorseInfoData, OverPlayerItemInfoData } from \"../../utils/InterfaceHelp\";\r\nimport CardHelpManager from \"../card/CardHelpManager\";\r\nimport OverBuyHorseItem from \"./OverBuyHorseItem\";\r\nimport OverGameinfoItem from \"./OverGameinfoItem\";\r\nimport OverHandCardItem from \"./OverHandCardItem\";\r\nimport OverHorseInfoItem from \"./OverHorseInfoItem\";\r\nimport OverPlayerInfoItem from \"./OverPlayerInfoItem\";\r\nimport SmallOverPlayerHead from \"./SmallOverPlayerHead\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SmallOverPanel extends UIBase {\r\n    @property (cc.Node)\r\n    allGroup : cc.Node = null;\r\n    @property (cc.Node)\r\n    allValueGroup : cc.Node = null;\r\n    @property (cc.Node)\r\n    infoGroup : cc.Node = null;\r\n    @property (cc.Node)\r\n    playerHeadGroup : cc.Node = null;\r\n    @property (cc.Label)\r\n    nowBaoziLabel : cc.Label = null;\r\n    @property (cc.Label)\r\n    nowCountLabel : cc.Label = null;\r\n    @property(cc.Button)\r\n    readyBtn : cc.Button = null;\r\n    @property(cc.Sprite)\r\n    lookTable : cc.Sprite = null;\r\n\t@property (cc.Label)\r\n\treadyLabel : cc.Label = null;\r\n\r\n    private gameResultMsg : Msg_SC_GameResultMsg;\r\n\tprivate scoreListMsg : Msg_SC_ScoreListMsg;\r\n\tprivate playerArr : Array<SmallOverPlayerHead> = [];\r\n\tprivate selectPlayer : SmallOverPlayerHead;\r\n    private playerHeadPrefab : cc.Prefab;\r\n    private playerInfoPrefab : cc.Prefab;\r\n    private playerHorsePrefab : cc.Prefab;\r\n    private playerGamePrefab : cc.Prefab;\r\n    private playerHandPrefab : cc.Prefab;\r\n\r\n    private playerInfoItem : OverPlayerInfoItem = null;\r\n    private playerHorseItem : OverHorseInfoItem = null;\r\n    private playerHandItem : OverHandCardItem = null;\r\n    private playerGameItem : OverGameinfoItem = null;\r\n    protected onLoad(): void {\r\n        this.playerHeadPrefab = Global.Utils.getPreFabBySource(\"smallOver/prefab/SmallOverPlayerHead\");\r\n        this.playerInfoPrefab = Global.Utils.getPreFabBySource(\"smallOver/prefab/OverPlayerInfoItem\");\r\n        this.playerHorsePrefab = Global.Utils.getPreFabBySource(\"smallOver/prefab/OverHorseInfoItem\");\r\n        this.playerHandPrefab = Global.Utils.getPreFabBySource(\"smallOver/prefab/OverHandCardItem\");\r\n        this.playerGamePrefab = Global.Utils.getPreFabBySource(\"smallOver/prefab/OverGameinfoItem\");\r\n        this.createElements();\r\n    }\r\n    private createElements(){\r\n        this.setTestData();\r\n        this.gameResultMsg = GameInfo.ins.gameResultMsg;\r\n        this.scoreListMsg = GameInfo.ins.scoreListMsg;\r\n        this.createPlayerHead();\r\n\t\tthis.addEvent();\r\n\r\n\t\tif(GameInfo.ins.nowGameCount < GameInfo.ins.roomTableInfo.rule.handsCnt){\r\n\t\t\tthis.readyLabel.string = \"准备\";\r\n\t\t}else{\r\n\t\t\tthis.readyLabel.string = \"战绩统计\";\r\n\t\t}\r\n\t\tif(GameInfo.ins.isBaozi){\r\n\t\t\tthis.nowBaoziLabel.string = \"本局豹子(底分X2)\"\r\n\t\t}\r\n\t\tif(GameInfo.ins.isShuangbao){\r\n\t\t\tthis.nowBaoziLabel.string = \"本局双豹(底分X4)\"\r\n\t\t}\r\n    } \r\n\tprivate addEvent(){\r\n\t\tthis.lookTable.node.on(cc.Node.EventType.TOUCH_START , this.onTouchStar , this);\r\n\t\tthis.lookTable.node.on(cc.Node.EventType.TOUCH_END , this.onTouchend , this);\r\n\t}\r\n\tprivate onTouchStar(){\r\n\t\tthis.allValueGroup.active = false;\r\n\t}\r\n\tprivate onTouchend(){\r\n\t\tthis.allValueGroup.active = true;\r\n\t}\r\n    private createValueElement(){\r\n        let player : SmallOverPlayerHead = this.selectPlayer;\r\n\t\tlet sitInfo : SitInfo = player.playerInfo;\r\n\t\tlet resultInfo : GameResultInfo = this.getGameResultInfo(sitInfo.sitNum);\r\n\t\tthis.showSelectPlayerData(sitInfo,resultInfo);\r\n\t\tthis.showSelectMa(sitInfo,resultInfo);\r\n        this.showMyHand(resultInfo);\r\n\t\tthis.showValue();\r\n    }\r\n\tprivate showValue(){\r\n\t\tif(this.playerGameItem == null){\r\n            this.playerGameItem = cc.instantiate(this.playerGamePrefab).getComponent(OverGameinfoItem);\r\n        }\r\n\t\tlet scoreInfoArr : Array<ScoreEventInfo> = [];\r\n\t\tfor(let i = 0 ; i < GameInfo.ins.scoreListMsg.scores.length ; i++){\r\n\t\t\tif(GameInfo.ins.scoreListMsg.scores[i].sitNum == this.selectPlayer.playerInfo.sitNum){\r\n\t\t\t\tscoreInfoArr = GameInfo.ins.scoreListMsg.scores[i].rcd;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.playerGameItem.setData(scoreInfoArr);\r\n\t\tif(!this.playerGameItem.node.parent){\r\n\t\t\tthis.infoGroup.addChild(this.playerGameItem.node);\r\n\t\t}\r\n\t}\r\n    private showMyHand(resultInfo : GameResultInfo){\r\n        if(this.playerHandItem == null){\r\n            this.playerHandItem = cc.instantiate(this.playerHandPrefab).getComponent(OverHandCardItem);\r\n        }\r\n        let huCatd : number= GameInfo.ins.hupaiArr[resultInfo.sitNum] ? GameInfo.ins.hupaiArr[resultInfo.sitNum] : -1;\r\n        this.playerHandItem.setNewData(resultInfo.lstPuts , resultInfo.lstMajs , huCatd);\r\n\t\tif(!this.playerHandItem.node.parent){\r\n\t\t\tthis.infoGroup.addChild(this.playerHandItem.node);\r\n\t\t}\r\n    }\r\n    private showSelectMa(sitInfo : SitInfo , resultInfo : GameResultInfo){\r\n        if(this.playerHorseItem == null){\r\n            this.playerHorseItem = cc.instantiate(this.playerHorsePrefab).getComponent(OverHorseInfoItem);\r\n        }\r\n        let arr: Array<OverBuyHorseInfoData> = [];\r\n        let data1 : OverBuyHorseInfoData = new OverBuyHorseInfoData();\r\n        data1.buyCoun = 105;\r\n        data1.cardValue = 9;\r\n        data1.fen = 25;\r\n        data1.horesNum = 1;\r\n        data1.playerHead = 1;\r\n        let data2 : OverBuyHorseInfoData = new OverBuyHorseInfoData();\r\n        data2.buyCoun = 107;\r\n        data2.cardValue = 26;\r\n        data2.fen = -18;\r\n        data2.horesNum = 2;\r\n        data2.playerHead = 1;\r\n        arr = [data1 , data2];\r\n        this.playerHorseItem.horseArr = arr;\r\n\t\tif(!this.playerHorseItem.node.parent){\r\n\t\t\tthis.infoGroup.addChild(this.playerHorseItem.node);\r\n\t\t}\r\n    }\r\n    private showSelectPlayerData(sitInfo : SitInfo , resultInfo : GameResultInfo){\r\n        if(this.playerInfoItem == null){\r\n            this.playerInfoItem = cc.instantiate(this.playerInfoPrefab).getComponent(OverPlayerInfoItem);\r\n        }\r\n        let data : OverPlayerItemInfoData = new OverPlayerItemInfoData();\r\n        data.playerName = \"未获取\";\r\n        data.playerId = \"未获取\";\r\n        data.isZhuang = sitInfo.sitNum == GameInfo.ins.nowBookMakerSit;\r\n        data.isPaio = false;\r\n        data.huType = resultInfo.state == 2 ? resultInfo.huNum : -1;\r\n        data.fenCount = resultInfo.score;\r\n\r\n        this.playerInfoItem.itemInfoDat = data;\r\n\t\tif(!this.playerInfoItem.node.parent){\r\n\t\t\tthis.infoGroup.addChild(this.playerInfoItem.node);\r\n\t\t}\r\n\t}\r\n    private getGameResultInfo(sit:number):GameResultInfo{\r\n\t\tfor(let i = 0 ; i < this.gameResultMsg.results.length ; i++){\r\n\t\t\tif(this.gameResultMsg.results[i].sitNum == sit){\r\n\t\t\t\treturn this.gameResultMsg.results[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    private createPlayerHead(){\r\n        let newInfo : Array<GameResultInfo> = []\r\n\t\tif(this.gameResultMsg.isBreak){\r\n\t\t\tnewInfo = this.sortZhuang();\r\n\t\t}else{\r\n\t\t\tnewInfo = this.sortWin();\r\n\t\t}\r\n\r\n\t\tlet player : SmallOverPlayerHead;\r\n\t\tfor(let i = 0 ; i < newInfo.length ; i++){\r\n\r\n\t\t\tplayer = cc.instantiate(this.playerHeadPrefab).getComponent(SmallOverPlayerHead);\r\n            player.setPlayerData(newInfo[i] , this.gameResultMsg.isBreak == 1);\r\n            if(newInfo[i].sitNum == UserInfo.ins.mySitIndex){\r\n                player.isSelect = true;\r\n                this.selectPlayer = player;\r\n                this.createValueElement()\r\n            }else{\r\n                player.isSelect = false;\r\n            }\r\n            this.playerHeadGroup.addChild(player.node);\r\n            this.playerArr[i] = player;\r\n            player.node.on(cc.Node.EventType.TOUCH_START , this.onPlayerClick , this);\r\n\t\t}\r\n    }\r\n    private onPlayerClick(e ){\r\n\t\tlet player : SmallOverPlayerHead = e.currentTarget.getComponent(SmallOverPlayerHead);\r\n\t\tif(player.isSelect){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.selectPlayer.isSelect = false;\r\n\t\tplayer.isSelect = true;\r\n\t\tthis.selectPlayer = player;\r\n\t\tthis.createValueElement();\r\n\t}\r\n    private sortWin():Array<GameResultInfo>{\r\n\t\tlet arr:Array<GameResultInfo> = [];\r\n\t\tlet info:GameResultInfo;\r\n\t\tlet tempArr:Array<GameResultInfo> = [];\r\n\t\tlet sortArr:Array<GameResultInfo> = [];\r\n\t\tfor(let i = 0 ; i < this.gameResultMsg.results.length ; i++){\r\n\t\t\tinfo = this.gameResultMsg.results[i];\r\n\t\t\tif(info.huNum == 0){\r\n\t\t\t\tarr[0] = info;\r\n\t\t\t}\r\n\t\t\tif(info.huNum == 1){\r\n\t\t\t\tarr[1] = info;\r\n\t\t\t}\r\n\t\t\tif(info.huNum == 2){\r\n\t\t\t\tarr[2] = info;\r\n\t\t\t}\r\n\t\t\tif(info.huNum == -1){\r\n\t\t\t\ttempArr.push(info);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(tempArr.length == 1){\r\n\t\t\tarr[3] = tempArr[0];\r\n\t\t}else{\r\n\t\t\tfor(let i = 0 ; i < tempArr.length ; i++){\r\n\t\t\t\tinfo = tempArr[i];\r\n\t\t\t\tif(info.sitNum == GameInfo.ins.nowBookMakerSit){\r\n\t\t\t\t\tsortArr[0] = info;\r\n\t\t\t\t}\r\n\t\t\t\tif(info.sitNum == (GameInfo.ins.nowBookMakerSit+1)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)){\r\n\t\t\t\t\tsortArr[1] = info;\r\n\t\t\t\t}\r\n\t\t\t\tif(info.sitNum == (GameInfo.ins.nowBookMakerSit+2)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)){\r\n\t\t\t\t\tsortArr[2] = info;\r\n\t\t\t\t}\r\n\t\t\t\tif(info.sitNum == (GameInfo.ins.nowBookMakerSit+3)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)){\r\n\t\t\t\t\tsortArr[3] = info;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(let i = 0 ; i < sortArr.length ; i++){\r\n\t\t\t\tif(sortArr[i]){\r\n\t\t\t\t\tarr.push(sortArr[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tprivate sortZhuang():Array<GameResultInfo>{\r\n\t\tlet arr:Array<GameResultInfo> = [];\r\n\t\tlet info:GameResultInfo;\r\n\t\tfor(let i = 0 ; i < this.gameResultMsg.results.length ; i++){\r\n\t\t\tinfo = this.gameResultMsg.results[i];\r\n\t\t\tif(info.sitNum == GameInfo.ins.nowBookMakerSit){\r\n\t\t\t\tarr[0] = info;\r\n\t\t\t}\r\n\t\t\tif(info.sitNum == (GameInfo.ins.nowBookMakerSit+1)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)){\r\n\t\t\t\tarr[1] = info;\r\n\t\t\t}\r\n\t\t\tif(info.sitNum == (GameInfo.ins.nowBookMakerSit+2)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)){\r\n\t\t\t\tarr[2] = info;\r\n\t\t\t}\r\n\t\t\tif(info.sitNum == (GameInfo.ins.nowBookMakerSit+3)%Global.Utils.getMaxPlayerByGameType(GameInfo.ins.roomTableInfo.rule.roomType)){\r\n\t\t\t\tarr[3] = info;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tonReadyClick(){\r\n\t\tthis.disTory();\r\n\t\tGameInfo.ins.initOver();\r\n\t\tUserInfo.ins.initOver();\r\n\t\tCardHelpManager.ins.initOver();\r\n\r\n\t\tif(GameInfo.ins.nowGameCount< GameInfo.ins.roomTableInfo.rule.handsCnt){\r\n\t\t\tGlobal.mgr.socketMgr.send(-1 , new Msg_CS_NextTrun());\r\n\t\t\tGlobal.EventCenter.dispatchEvent(EventType.OpenNewGame);\r\n\t\t}else{\r\n\t\t\t//TODO open the big ovew panel;\r\n\t\t\tGlobal.DialogManager.createDialog(\"smallOver/prefab/BigOverPanel\",null, (any,createDialog)=>{\r\n\t\t\t\tcreateDialog.y = 0;\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n    private setTestData(){\r\n        // GameInfo.ins.gameResultMsg  = {\"isBreak\":0,\"mid\":5,\"results\":[{\"curChips\":312,\"curHorseChips\":0,\"horseScore\":0,\"huNum\":0,\"lstMajs\":[5,5,8,8,8,13,13,13,16,16,16],\"lstPuts\":[{\"getType\":2,\"majID\":9,\"targetNum\":2,\"type\":3}],\"rain\":-1,\"score\":12,\"sitNum\":0,\"state\":2},{\"curChips\":282,\"curHorseChips\":0,\"horseScore\":0,\"huNum\":-1,\"lstMajs\":[14,15,17,19,21,22,24,27,28,29],\"lstPuts\":[{\"getType\":2,\"majID\":12,\"targetNum\":2,\"type\":3}],\"rain\":0,\"score\":-18,\"sitNum\":1,\"state\":0},{\"curChips\":282,\"curHorseChips\":0,\"horseScore\":0,\"huNum\":2,\"lstMajs\":[1,1,3,3,3,17,17,17,19,19,19],\"lstPuts\":[{\"getType\":2,\"majID\":6,\"targetNum\":0,\"type\":3}],\"rain\":-1,\"score\":-18,\"sitNum\":2,\"state\":2},{\"curChips\":324,\"curHorseChips\":0,\"horseScore\":0,\"huNum\":1,\"lstMajs\":[22,22,22,23,23,23,27,27],\"lstPuts\":[{\"getType\":2,\"majID\":28,\"targetNum\":2,\"type\":3},{\"getType\":2,\"majID\":26,\"targetNum\":0,\"type\":3}],\"rain\":-1,\"score\":24,\"sitNum\":3,\"state\":2}],\"sid\":47}\r\n        // GameInfo.ins.scoreListMsg = {\"mid\":5,\"scores\":[{\"rcd\":[{\"tarSitsEx\" : [] ,\"curSit\":0,\"debug\":{\"baseMo\":1,\"dob\":2,\"dobB\":2,\"dobT\":2,\"dobTotal\":3,\"fanMo\":0,\"huNum\":0,\"param\":1,\"param2\":0,\"tiFan\":0,\"zmType\":1},\"fanTypes\":[],\"huGangTypes\":[2],\"majid\":8,\"param\":0,\"scoreType\":1,\"tarSits\":[1,2,3],\"win\":12}],\"sitNum\":0},{\"rcd\":[{\"debug\":null,\"tarSitsEx\" : [] ,\"curSit\":1,\"fanTypes\":[],\"huGangTypes\":[2],\"majid\":8,\"param\":0,\"scoreType\":3,\"tarSits\":[0],\"win\":-3},{\"debug\":null,\"tarSitsEx\" : [] ,\"curSit\":1,\"fanTypes\":[],\"huGangTypes\":[2,3],\"majid\":23,\"param\":0,\"scoreType\":3,\"tarSits\":[3],\"win\":-9},{\"debug\":null,\"tarSitsEx\" : [] ,\"curSit\":1,\"fanTypes\":[],\"huGangTypes\":[2],\"majid\":3,\"param\":0,\"scoreType\":3,\"tarSits\":[2],\"win\":-6}],\"sitNum\":1},{\"rcd\":[{\"debug\":null,\"tarSitsEx\" : [] ,\"curSit\":2,\"fanTypes\":[],\"huGangTypes\":[2],\"majid\":8,\"param\":0,\"scoreType\":3,\"tarSits\":[0],\"win\":-6},{\"debug\":null,\"tarSitsEx\" : [] ,\"curSit\":2,\"fanTypes\":[],\"huGangTypes\":[2,3],\"majid\":23,\"param\":0,\"scoreType\":3,\"tarSits\":[3],\"win\":-18},{\"tarSitsEx\" : [] ,\"curSit\":2,\"debug\":{\"baseMo\":1,\"dob\":2,\"dobB\":2,\"dobT\":2,\"dobTotal\":3,\"fanMo\":0,\"huNum\":2,\"param\":2,\"param2\":0,\"tiFan\":0,\"zmType\":1},\"fanTypes\":[],\"huGangTypes\":[2],\"majid\":3,\"param\":0,\"scoreType\":1,\"tarSits\":[1],\"win\":6}],\"sitNum\":2},{\"rcd\":[{\"debug\":null,\"tarSitsEx\" : [] ,\"curSit\":3,\"fanTypes\":[],\"huGangTypes\":[2],\"majid\":8,\"param\":0,\"scoreType\":3,\"tarSits\":[0],\"win\":-3},{\"tarSitsEx\" : [] ,\"curSit\":3,\"debug\":{\"baseMo\":1,\"dob\":8,\"dobB\":8,\"dobT\":8,\"dobTotal\":9,\"fanMo\":0,\"huNum\":1,\"param\":1,\"param2\":0,\"tiFan\":0,\"zmType\":1},\"fanTypes\":[],\"huGangTypes\":[2,3],\"majid\":23,\"param\":0,\"scoreType\":1,\"tarSits\":[1,2],\"win\":27}],\"sitNum\":3}],\"sid\":49}\r\n    }\r\n}"]}