{"version":3,"sources":["assets\\Script\\Shared\\NetworkLogic.ts"],"names":[],"mappings":";;;;;;AAAA,mCAAkC;AAClC,qDAAgD;AAChD,mDAA8C;AAE9C;IAAA;QAMI,aAAa;QACN,kCAA6B,GAAG,KAAK,CAAC;IA6BjD,CAAC;IAlCG,sBAAkB,mBAAG;aAArB;YACI,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,YAAY,EAAE,CAAC,CAAC;QACzD,CAAC;;;OAAA;IAKM,2BAAI,GAAX;QACI,IAAI,CAAC,6BAA6B,GAAG,KAAK,CAAC;QAC3C,eAAM,CAAC,KAAK,CAAC,WAAW,CAAC,mCAAmC,CAAC,CAAA;QAC7D,UAAU;QACV,yBAAe,CAAC,GAAG,CAAC,WAAW,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAC7D,yBAAe,CAAC,GAAG,CAAC,WAAW,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QAC3D,yBAAe,CAAC,GAAG,CAAC,WAAW,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;QAC9D,aAAa;QACb,SAAS;QACT,wBAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,qBAAqB,CAAC,CAAC;QACpE,OAAO;QACP,wBAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,CAAC;IAClF,CAAC;IAAA,CAAC;IACK,6BAAM,GAAb;QACI,UAAU;QACV,yBAAe,CAAC,GAAG,CAAC,cAAc,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAChE,yBAAe,CAAC,GAAG,CAAC,cAAc,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QAC9D,yBAAe,CAAC,GAAG,CAAC,cAAc,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;IACrE,CAAC;IAAA,CAAC;IAEK,sCAAe,GAAtB,UAAuB,IAAI,EAAE,IAAI,EAAE,EAAE;QACjC,wBAAc,CAAC,GAAG,CAAC,IAAI,CAAC;YACpB,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;SACb,EAAE,EAAE,CAAC,CAAC;IACX,CAAC;IAAA,CAAC;IAEN,mBAAC;AAAD,CApCA,AAoCC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import { Global } from \"./GloBal\";\r\nimport MessageCallback from \"./MessageCallback\";\r\nimport NetworkManager from \"./NetworkManager\";\r\n\r\nexport default class NetworkLogic{\r\n    private static _ins: NetworkLogic;\r\n    public static get ins() {\r\n        return this._ins || (this._ins = new NetworkLogic());\r\n    }\r\n    \r\n    /**是否手动关闭连接*/\r\n    public isManualCloseServerConnection = false;\r\n\r\n    public init() {\r\n        this.isManualCloseServerConnection = false;\r\n        Global.Utils.debugOutput(\"NetworkLogic ==> inint ==> 添加事件监听\")\r\n        /// 添加事件监听\r\n        MessageCallback.ins.addListener('ServerDisconnection', this);\r\n        MessageCallback.ins.addListener('ServerMessagePush', this);\r\n        MessageCallback.ins.addListener('PopDialogContentPush', this);\r\n        /// 服务器推送消息监听\r\n        // 监听断开信息\r\n        NetworkManager.ins.addReceiveListen('close', 'ServerDisconnection');\r\n        // 推送消息\r\n        NetworkManager.ins.addReceiveListen('ServerMessagePush', 'ServerMessagePush');\r\n    };\r\n    public deInit() {\r\n        /// 添加事件监听\r\n        MessageCallback.ins.removeListener('ServerDisconnection', this);\r\n        MessageCallback.ins.removeListener('ServerMessagePush', this);\r\n        MessageCallback.ins.removeListener('PopDialogContentPush', this);\r\n    };\r\n\r\n    public connectToServer(host, port, cb) {\r\n        NetworkManager.ins.init({\r\n            host: host,\r\n            port: port\r\n        }, cb);\r\n    };\r\n\r\n}"]}