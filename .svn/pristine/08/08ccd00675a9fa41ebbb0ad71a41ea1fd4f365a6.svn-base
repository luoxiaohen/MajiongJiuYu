{"version":3,"sources":["assets\\Script\\UI\\card\\OppHandCardPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { CardGroupPointBySelfEnum } from \"../../enum/EnumManager\";\r\nimport TimeAndMoveManager from \"../../mgr/TimeAndMoveManager\";\r\nimport { Msg_SC_GangSelfMsg, Msg_SC_HuMajMsg, Msg_SC_PengMajMsg } from \"../../proto/TableMsg\";\r\nimport CardHelpManager from \"./CardHelpManager\";\r\nimport HandCardPanel from \"./HandCardPanel\";\r\nimport MajiongHandCard from \"./MajiongHandCard\";\r\nimport MajiongOutCard from \"./MajiongOutCard\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class OppHandCardPanel extends HandCardPanel {\r\n    protected onLoad(): void {\r\n        super.onLoad();\r\n    }\r\n\r\n    protected start(): void {\r\n        this.initHandData();\r\n    }\r\n\r\n    initHandData(): void {\r\n        super.initHandData();\r\n        this.bySelfPoint = CardGroupPointBySelfEnum.Opp;\r\n        let item : MajiongHandCard;\r\n        item = cc.instantiate(this.dialogParameters[0]).getComponent(MajiongHandCard) as MajiongHandCard;\r\n        item.bySelfPoint = this.bySelfPoint;\r\n        item.node.x = 0;\r\n        item.node.y = 0;\r\n        item.isFeel = true;\r\n        this.handItemArr[13] = item;\r\n        this.node.addChild(item.node);\r\n        for(let i = 1 ; i < 14 ; i++){\r\n            item = cc.instantiate(this.dialogParameters[0]).getComponent(MajiongHandCard) as MajiongHandCard;\r\n            item.bySelfPoint = this.bySelfPoint;\r\n            item.node.x = i*item.cardSize._w + this.feelCardChange[this.bySelfPoint];\r\n            item.node.y = 0;\r\n            this.handItemArr[13-i] = item;\r\n            this.node.addChild(item.node);\r\n        }\r\n    }\r\n\r\n    /**展示胡牌*/\r\n    showHupai(msg: Msg_SC_HuMajMsg): void {\r\n        super.showHupai(msg);\r\n    }\r\n    showGetHnads(getNum: number): void {\r\n        super.showGetHnads(getNum);\r\n        let item : MajiongHandCard;\r\n        let showIndex:number=0;\r\n        for(let i = 0 ; i < this.handItemArr.length ; i++){\r\n            item = this.handItemArr[i];\r\n            if(!item.isShow && showIndex < getNum){\r\n                showIndex++;\r\n                item.node.y = 15;\r\n                item.isShow = true;\r\n                item.showGetAction(i + showIndex);\r\n            }\r\n        }\r\n    }\r\n    /***创建一张出牌*/\r\n    createOutCard(value:number = 1): void {\r\n        super.createOutCard(value);\r\n        let item : MajiongOutCard = cc.instantiate(this.dialogParameters[1]).getComponent(MajiongOutCard);\r\n        item.bySelfPoint = this.bySelfPoint;\r\n        item.cardValue = value;\r\n        let row:number = this.getOutRow();\r\n        let baseNum:number = 0;\r\n        if(row > 0){\r\n            baseNum = this.myOutArray.length - this.getBaseNum();\r\n        }else{\r\n            baseNum = this.myOutArray.length;\r\n        }\r\n        let changeX:number = baseNum*CardHelpManager.ins.outCardWidth[2] - row*CardHelpManager.ins.outCardWidth[2];\r\n        let changeY:number = row*57;\r\n        let initX:number = CardHelpManager.ins.oppOutCardInitPoint.x - CardHelpManager.ins.oppHandCardInitPoint.x;\r\n        let initY:number = CardHelpManager.ins.oppHandCardInitPoint.y + CardHelpManager.ins.oppOutCardInitPoint.y;\r\n        item.node.x = initX - changeX;\r\n        item.node.y = initY + changeY;\r\n        item.node.zIndex = 40 - this.myOutArray.length;\r\n        this.onMyOutChangeData(item);\r\n        this.node.addChild(item.node);\r\n        this.lastOutCard = item;\r\n    }\r\n    showOutCard(value: number): void {\r\n        super.showOutCard(value);\r\n    }\r\n    changeMoveMyHand(outItem: MajiongHandCard): void {\r\n        super.changeMoveMyHand(outItem);\r\n    }\r\n\r\n    showFeelWall(cardValue?: number): void {\r\n        super.showFeelWall(cardValue);\r\n    }\r\n    \r\n    clearLastPlay(): void {\r\n        super.clearLastPlay();\r\n    }\r\n\r\n    showPengGang(msg: Msg_SC_PengMajMsg): void {\r\n        super.showPengGang(msg);\r\n    }\r\n    showSelfGang(msg: Msg_SC_GangSelfMsg): void {\r\n        super.showSelfGang(msg);\r\n    }\r\n    disTory(): void {\r\n        super.disTory();\r\n    }\r\n}\r\n"]}