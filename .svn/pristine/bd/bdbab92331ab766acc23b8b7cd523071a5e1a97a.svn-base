{"version":3,"sources":["assets\\Script\\UI\\MainGamePanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/*\r\n * @Author: error: git config user.name && git config user.email & please set dead value or install git\r\n * @Date: 2022-10-08 09:24:45\r\n * @LastEditors: error: git config user.name && git config user.email & please set dead value or install git\r\n * @LastEditTime: 2022-11-18 18:15:30\r\n * @FilePath: \\MajiongJiuYu\\assets\\Script\\UI\\MainGamePanel.ts\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\n// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport EventType from \"../event/EventType\";\r\nimport GameInfo from \"../Game/info/GameInfo\";\r\nimport { GameRoomTypeEnum } from \"../proto/LobbyMsgDef\";\r\nimport { Global } from \"../Shared/GloBal\";\r\nimport GMTips from \"../tips/GMTips\";\r\nimport UIBase from \"../UIBase\";\r\nimport MajiongTablePanel from \"./MajiongTablePanel\";\r\nimport PlayerHeadItem from \"./PlayerHeadItem\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MainGamePanel extends UIBase {\r\n    @property (cc.Node)\r\n    tipsLayer : cc.Node = null;\r\n    private gm:GMTips;\r\n    private majiongTablePanel:MajiongTablePanel;\r\n    protected onLoad(): void {\r\n        Global.DialogManager.init(this.node);\r\n        this.onCreateOneRoom();\r\n      \r\n        cc.tween(this.node).delay(3 ).call(()=>{\r\n            // this.showTest();\r\n        }).start();\r\n        this.addEvent();\r\n\r\n\r\n        cc.systemEvent.on(\"keydown\", this.onKeyDown, this);\r\n    }\r\n\r\n    private onKeyDown(e : cc.Event.EventKeyboard){\r\n        if(e.keyCode == 192){\r\n            if(this.gm){\r\n                this.gm.disTory();\r\n                this.gm = null;\r\n            }else{\r\n                Global.DialogManager.createDialog('tips/GM/prefab/GMTips', null , (any,createDialog)=>{\r\n                    createDialog.x = -450;\r\n                    createDialog.y = -320;\r\n                    this.gm = createDialog.getComponent(GMTips);\r\n                    this.gm.onRemove(()=>{\r\n                        this.gm = null;\r\n                    })\r\n                } , this.tipsLayer)\r\n            }\r\n        }\r\n    }\r\n    private showTest(){\r\n        Global.DialogManager.createDialog('smallOver/prefab/SmallOverPanel', null , (any,createDialog)=>{\r\n            createDialog.x = -960;\r\n            createDialog.y = -540;\r\n        })\r\n    }\r\n    private addEvent(){\r\n        Global.EventCenter.addEventListener(EventType.BackToLobby , this.onBackToLobby , this);\r\n        Global.EventCenter.addEventListener(EventType.GET_NEW_ROOM_INFO , this.onCreateOneRoom , this);\r\n\t\tGlobal.EventCenter.addEventListener(EventType.GameInviteMsg , this.onGameInvite , this);\r\n    }\r\n\r\n\r\n    private removeEevnt(){\r\n        Global.EventCenter.removeEventListener(EventType.BackToLobby , this.onBackToLobby , this);\r\n        Global.EventCenter.removeEventListener(EventType.GET_NEW_ROOM_INFO , this.onCreateOneRoom , this);\r\n\t\tGlobal.EventCenter.removeEventListener(EventType.GameInviteMsg , this.onGameInvite , this);\r\n\r\n    }\r\n    private onBackToLobby():void{\r\n        cc.director.loadScene(\"majiong\");\r\n        this.desTory();\r\n    }\r\n    private onCreateOneRoom():void{\r\n        if(this.majiongTablePanel){\r\n            this.majiongTablePanel.disTory();\r\n            this.majiongTablePanel=null;\r\n        }\r\n        Global.DialogManager.createDialog('mainGame/prefab/MajiongTablePanel', null , (any,createDialog)=>{\r\n            createDialog.x = 0;\r\n            createDialog.y = 0;\r\n            this.majiongTablePanel=createDialog.getComponent(MajiongTablePanel);\r\n        })\r\n    }\r\n    private onGameInvite():void{\r\n        Global.DialogManager.createDialog(\"smallOver/prefab/InviteToRoomPannel\",null,(any,dialog)=>{\r\n            dialog.x=0;\r\n            dialog.y=0;\r\n        })\r\n    }\r\n    public desTory(){\r\n        super.destroy();\r\n        this.removeEevnt();\r\n    }\r\n}\r\n"]}