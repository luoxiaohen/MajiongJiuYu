{"version":3,"sources":["assets\\Script\\UI\\card\\MajiongOutCard.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { CardGroupPointBySelfEnum } from \"../../enum/EnumManager\";\r\nimport { Global } from \"../../Shared/GloBal\";\r\nimport UIBase from \"../../UIBase\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MajiongOutCard extends UIBase {\r\n    @property (cc.Sprite)\r\n    outCardBg:cc.Sprite = null;\r\n    @property (cc.Sprite)\r\n    outCardFont:cc.Sprite = null;\r\n    @property (cc.Sprite)\r\n    selectOutImage:cc.Sprite = null;\r\n\r\n\r\n    /***当前牌组相对于第一视角属于那个位置*/\r\n    private _bySelfPoint: CardGroupPointBySelfEnum = CardGroupPointBySelfEnum.Self;\r\n    public get bySelfPoint(): CardGroupPointBySelfEnum {\r\n        return this._bySelfPoint;\r\n    }\r\n    public set bySelfPoint(value: CardGroupPointBySelfEnum) {\r\n        this._bySelfPoint = value;\r\n    }\r\n    /***当前牌的牌值*/\r\n    private _cardValue: number = 1;\r\n    public get cardValue(): number {\r\n        return this._cardValue;\r\n    }\r\n    public set cardValue(value: number) {\r\n        this._cardValue = value;\r\n        this.showCard();\r\n    }\r\n\r\n    private fontPointArr:Array<cc.Vec2> = [cc.v2(34,56) , cc.v2(42,45) , cc.v2(28,47) , cc.v2(-42 , 45)]\r\n    private outImgPointArr:Array<cc.Vec2> = [cc.v2(37,107) , cc.v2(40,87) , cc.v2(29,95) , cc.v2(-40 , 87)]\r\n\r\n    protected onLoad(): void {\r\n        this.selectOutImage.node.active = false;\r\n    }\r\n\r\n    private showCard(){\r\n        let bgSource : string = \"\";\r\n        let fontSource : string = \"\";\r\n        switch(this.bySelfPoint){\r\n            case 0:\r\n                bgSource = \"majiongCard/resource/0_0_0\";\r\n                this.outCardBg.node.scaleX = 1;\r\n                fontSource = \"majiongCard/resource/\"+Global.Utils.getCardStrByValue(this.cardValue)+\"_0\";\r\n            break;\r\n            case 1:\r\n                bgSource = \"majiongCard/resource/1_0_0\";\r\n                this.outCardBg.node.scaleX = 1;\r\n                fontSource = \"majiongCard/resource/\"+Global.Utils.getCardStrByValue(this.cardValue)+\"_1\";\r\n            break;\r\n            case 2:\r\n                bgSource = \"majiongCard/resource/2_0_0\";\r\n                this.outCardBg.node.scaleX = 1;\r\n                fontSource = \"majiongCard/resource/\"+Global.Utils.getCardStrByValue(this.cardValue)+\"_2\";\r\n            break;\r\n            case 3:\r\n                bgSource = \"majiongCard/resource/1_0_0\";\r\n                this.outCardBg.node.scaleX = -1;\r\n                fontSource = \"majiongCard/resource/\"+Global.Utils.getCardStrByValue(this.cardValue)+\"_3\";\r\n            break;\r\n        }\r\n        Global.Utils.setNewImageToSprite(this.outCardBg,bgSource,()=>{\r\n            this.outCardBg.node.active = true;\r\n        });\r\n        Global.Utils.setNewImageToSprite(this.outCardFont,fontSource,()=>{\r\n            this.outCardFont.node.active = true;\r\n            this.outCardFont.node.x = this.fontPointArr[this.bySelfPoint].x;\r\n            this.outCardFont.node.y = this.fontPointArr[this.bySelfPoint].y;\r\n        });\r\n    }\r\n\r\n    public disTory(){\r\n        super.disTory()\r\n    }\r\n}\r\n"]}